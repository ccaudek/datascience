<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Appendice J Introduzione al linguaggio R | Data Science per psicologi</title>
  <meta name="description" content="This document contains the materials of the lessons of Psicometria B000286 (2021/2022) aimed at students of the first year of the Degree Course in Psychological Sciences and Techniques of the University of Florence, Italy." />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="Appendice J Introduzione al linguaggio R | Data Science per psicologi" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This document contains the materials of the lessons of Psicometria B000286 (2021/2022) aimed at students of the first year of the Degree Course in Psychological Sciences and Techniques of the University of Florence, Italy." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Appendice J Introduzione al linguaggio R | Data Science per psicologi" />
  
  <meta name="twitter:description" content="This document contains the materials of the lessons of Psicometria B000286 (2021/2022) aimed at students of the first year of the Degree Course in Psychological Sciences and Techniques of the University of Florence, Italy." />
  

<meta name="author" content="Corrado Caudek" />


<meta name="date" content="2022-04-28" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="regr-ml.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data science per psicologi</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prefazione</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#la-psicologia-e-la-data-science"><i class="fa fa-check"></i>La psicologia e la Data science</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#come-studiare"><i class="fa fa-check"></i>Come studiare</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#sviluppare-un-metodo-di-studio-efficace"><i class="fa fa-check"></i>Sviluppare un metodo di studio efficace</a></li>
</ul></li>
<li class="part"><span><b>I Nozioni preliminari</b></span></li>
<li class="chapter" data-level="1" data-path="ch-key-notions.html"><a href="ch-key-notions.html"><i class="fa fa-check"></i><b>1</b> Concetti chiave</a>
<ul>
<li class="chapter" data-level="1.1" data-path="ch-key-notions.html"><a href="ch-key-notions.html#popolazioni-e-campioni"><i class="fa fa-check"></i><b>1.1</b> Popolazioni e campioni</a></li>
<li class="chapter" data-level="1.2" data-path="ch-key-notions.html"><a href="ch-key-notions.html#variabili-e-costanti"><i class="fa fa-check"></i><b>1.2</b> Variabili e costanti</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="ch-key-notions.html"><a href="ch-key-notions.html#variabili-casuali"><i class="fa fa-check"></i><b>1.2.1</b> Variabili casuali</a></li>
<li class="chapter" data-level="1.2.2" data-path="ch-key-notions.html"><a href="ch-key-notions.html#variabili-indipendenti-e-variabili-dipendenti"><i class="fa fa-check"></i><b>1.2.2</b> Variabili indipendenti e variabili dipendenti</a></li>
<li class="chapter" data-level="1.2.3" data-path="ch-key-notions.html"><a href="ch-key-notions.html#la-matrice-dei-dati"><i class="fa fa-check"></i><b>1.2.3</b> La matrice dei dati</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="ch-key-notions.html"><a href="ch-key-notions.html#parametri-e-modelli"><i class="fa fa-check"></i><b>1.3</b> Parametri e modelli</a></li>
<li class="chapter" data-level="1.4" data-path="ch-key-notions.html"><a href="ch-key-notions.html#effetto"><i class="fa fa-check"></i><b>1.4</b> Effetto</a></li>
<li class="chapter" data-level="1.5" data-path="ch-key-notions.html"><a href="ch-key-notions.html#stima-e-inferenza"><i class="fa fa-check"></i><b>1.5</b> Stima e inferenza</a></li>
<li class="chapter" data-level="1.6" data-path="ch-key-notions.html"><a href="ch-key-notions.html#metodi-e-procedure-della-psicologia"><i class="fa fa-check"></i><b>1.6</b> Metodi e procedure della psicologia</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="chapter-misurazione.html"><a href="chapter-misurazione.html"><i class="fa fa-check"></i><b>2</b> La misurazione in psicologia</a>
<ul>
<li class="chapter" data-level="2.1" data-path="chapter-misurazione.html"><a href="chapter-misurazione.html#le-scale-di-misura"><i class="fa fa-check"></i><b>2.1</b> Le scale di misura</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="chapter-misurazione.html"><a href="chapter-misurazione.html#scala-nominale"><i class="fa fa-check"></i><b>2.1.1</b> Scala nominale</a></li>
<li class="chapter" data-level="2.1.2" data-path="chapter-misurazione.html"><a href="chapter-misurazione.html#scala-ordinale"><i class="fa fa-check"></i><b>2.1.2</b> Scala ordinale</a></li>
<li class="chapter" data-level="2.1.3" data-path="chapter-misurazione.html"><a href="chapter-misurazione.html#scala-ad-intervalli"><i class="fa fa-check"></i><b>2.1.3</b> Scala ad intervalli</a></li>
<li class="chapter" data-level="2.1.4" data-path="chapter-misurazione.html"><a href="chapter-misurazione.html#scala-di-rapporti"><i class="fa fa-check"></i><b>2.1.4</b> Scala di rapporti</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="chapter-misurazione.html"><a href="chapter-misurazione.html#gerarchia-dei-livelli-di-scala-di-misura"><i class="fa fa-check"></i><b>2.2</b> Gerarchia dei livelli di scala di misura</a></li>
<li class="chapter" data-level="2.3" data-path="chapter-misurazione.html"><a href="chapter-misurazione.html#variabili-discrete-o-continue"><i class="fa fa-check"></i><b>2.3</b> Variabili discrete o continue</a></li>
<li class="chapter" data-level="2.4" data-path="chapter-misurazione.html"><a href="chapter-misurazione.html#alcune-misure-sono-migliori-di-altre"><i class="fa fa-check"></i><b>2.4</b> Alcune misure sono migliori di altre</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="chapter-misurazione.html"><a href="chapter-misurazione.html#tipologie-di-errori"><i class="fa fa-check"></i><b>2.4.1</b> Tipologie di errori</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="chapter-misurazione.html"><a href="chapter-misurazione.html#commenti-e-considerazioni-finali"><i class="fa fa-check"></i>Commenti e considerazioni finali</a></li>
</ul></li>
<li class="part"><span><b>II Analisi esplorativa dei dati</b></span></li>
<li class="chapter" data-level="3" data-path="ch-eda.html"><a href="ch-eda.html"><i class="fa fa-check"></i><b>3</b> Variabili e distribuzioni di frequenza</a>
<ul>
<li class="chapter" data-level="3.1" data-path="ch-eda.html"><a href="ch-eda.html#chapter-descript"><i class="fa fa-check"></i><b>3.1</b> Introduzione all’esplorazione dei dati</a></li>
<li class="chapter" data-level="3.2" data-path="ch-eda.html"><a href="ch-eda.html#un-excursus-storico"><i class="fa fa-check"></i><b>3.2</b> Un excursus storico</a></li>
<li class="chapter" data-level="3.3" data-path="ch-eda.html"><a href="ch-eda.html#riassumere-i-dati"><i class="fa fa-check"></i><b>3.3</b> Riassumere i dati</a></li>
<li class="chapter" data-level="3.4" data-path="ch-eda.html"><a href="ch-eda.html#i-dati-grezzi"><i class="fa fa-check"></i><b>3.4</b> I dati grezzi</a></li>
<li class="chapter" data-level="3.5" data-path="ch-eda.html"><a href="ch-eda.html#distribuzioni-di-frequenze"><i class="fa fa-check"></i><b>3.5</b> Distribuzioni di frequenze</a></li>
<li class="chapter" data-level="3.6" data-path="ch-eda.html"><a href="ch-eda.html#istogramma"><i class="fa fa-check"></i><b>3.6</b> Istogramma</a></li>
<li class="chapter" data-level="3.7" data-path="ch-eda.html"><a href="ch-eda.html#kernel-density-plot"><i class="fa fa-check"></i><b>3.7</b> Kernel density plot</a></li>
<li class="chapter" data-level="3.8" data-path="ch-eda.html"><a href="ch-eda.html#forma-di-una-distribuzione"><i class="fa fa-check"></i><b>3.8</b> Forma di una distribuzione</a></li>
<li class="chapter" data-level="3.9" data-path="ch-eda.html"><a href="ch-eda.html#indici-di-posizione"><i class="fa fa-check"></i><b>3.9</b> Indici di posizione</a>
<ul>
<li class="chapter" data-level="3.9.1" data-path="ch-eda.html"><a href="ch-eda.html#quantili"><i class="fa fa-check"></i><b>3.9.1</b> Quantili</a></li>
<li class="chapter" data-level="3.9.2" data-path="ch-eda.html"><a href="ch-eda.html#diagramma-a-scatola"><i class="fa fa-check"></i><b>3.9.2</b> Diagramma a scatola</a></li>
<li class="chapter" data-level="3.9.3" data-path="ch-eda.html"><a href="ch-eda.html#sina-plot"><i class="fa fa-check"></i><b>3.9.3</b> Sina plot</a></li>
<li class="chapter" data-level="3.9.4" data-path="ch-eda.html"><a href="ch-eda.html#leccellenza-grafica"><i class="fa fa-check"></i><b>3.9.4</b> L’eccellenza grafica</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ch-eda.html"><a href="ch-eda.html#commenti-e-considerazioni-finali-1"><i class="fa fa-check"></i>Commenti e considerazioni finali</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="ch-loc-scale.html"><a href="ch-loc-scale.html"><i class="fa fa-check"></i><b>4</b> Indici di posizione e di scala</a>
<ul>
<li class="chapter" data-level="4.1" data-path="ch-loc-scale.html"><a href="ch-loc-scale.html#indici-di-tendenza-centrale"><i class="fa fa-check"></i><b>4.1</b> Indici di tendenza centrale</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="ch-loc-scale.html"><a href="ch-loc-scale.html#media"><i class="fa fa-check"></i><b>4.1.1</b> Media</a></li>
<li class="chapter" data-level="4.1.2" data-path="ch-loc-scale.html"><a href="ch-loc-scale.html#media-spuntata"><i class="fa fa-check"></i><b>4.1.2</b> Media spuntata</a></li>
<li class="chapter" data-level="4.1.3" data-path="ch-loc-scale.html"><a href="ch-loc-scale.html#moda-e-mediana"><i class="fa fa-check"></i><b>4.1.3</b> Moda e mediana</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="ch-loc-scale.html"><a href="ch-loc-scale.html#indici-di-dispersione"><i class="fa fa-check"></i><b>4.2</b> Indici di dispersione</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="ch-loc-scale.html"><a href="ch-loc-scale.html#indici-basati-sullordinamento-dei-dati"><i class="fa fa-check"></i><b>4.2.1</b> Indici basati sull’ordinamento dei dati</a></li>
<li class="chapter" data-level="4.2.2" data-path="ch-loc-scale.html"><a href="ch-loc-scale.html#varianza"><i class="fa fa-check"></i><b>4.2.2</b> Varianza</a></li>
<li class="chapter" data-level="4.2.3" data-path="ch-loc-scale.html"><a href="ch-loc-scale.html#precisione"><i class="fa fa-check"></i><b>4.2.3</b> Precisione</a></li>
<li class="chapter" data-level="4.2.4" data-path="ch-loc-scale.html"><a href="ch-loc-scale.html#scarto-tipo"><i class="fa fa-check"></i><b>4.2.4</b> Scarto tipo</a></li>
<li class="chapter" data-level="4.2.5" data-path="ch-loc-scale.html"><a href="ch-loc-scale.html#deviazione-mediana-assoluta"><i class="fa fa-check"></i><b>4.2.5</b> Deviazione mediana assoluta</a></li>
<li class="chapter" data-level="4.2.6" data-path="ch-loc-scale.html"><a href="ch-loc-scale.html#indici-di-variabilità-relativi"><i class="fa fa-check"></i><b>4.2.6</b> Indici di variabilità relativi</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ch-loc-scale.html"><a href="ch-loc-scale.html#commenti-e-considerazioni-finali-2"><i class="fa fa-check"></i>Commenti e considerazioni finali</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="ch-corr.html"><a href="ch-corr.html"><i class="fa fa-check"></i><b>5</b> Le relazioni tra variabili</a>
<ul>
<li class="chapter" data-level="5.1" data-path="ch-corr.html"><a href="ch-corr.html#diagramma-a-dispersione"><i class="fa fa-check"></i><b>5.1</b> Diagramma a dispersione</a></li>
<li class="chapter" data-level="5.2" data-path="ch-corr.html"><a href="ch-corr.html#covarianza"><i class="fa fa-check"></i><b>5.2</b> Covarianza</a></li>
<li class="chapter" data-level="5.3" data-path="ch-corr.html"><a href="ch-corr.html#correlazione"><i class="fa fa-check"></i><b>5.3</b> Correlazione</a></li>
<li class="chapter" data-level="5.4" data-path="ch-corr.html"><a href="ch-corr.html#correlazione-e-causazione"><i class="fa fa-check"></i><b>5.4</b> Correlazione e causazione</a></li>
<li class="chapter" data-level="5.5" data-path="ch-corr.html"><a href="ch-corr.html#usi-della-correlazione"><i class="fa fa-check"></i><b>5.5</b> Usi della correlazione</a></li>
<li class="chapter" data-level="5.6" data-path="ch-corr.html"><a href="ch-corr.html#correlazione-di-spearman"><i class="fa fa-check"></i><b>5.6</b> Correlazione di Spearman</a></li>
<li class="chapter" data-level="5.7" data-path="ch-corr.html"><a href="ch-corr.html#correlazione-nulla"><i class="fa fa-check"></i><b>5.7</b> Correlazione nulla</a></li>
<li class="chapter" data-level="" data-path="ch-corr.html"><a href="ch-corr.html#commenti-e-considerazioni-finali-3"><i class="fa fa-check"></i>Commenti e considerazioni finali</a></li>
</ul></li>
<li class="part"><span><b>III Il calcolo delle probabilità</b></span></li>
<li class="chapter" data-level="6" data-path="ch-intro-prob-1.html"><a href="ch-intro-prob-1.html"><i class="fa fa-check"></i><b>6</b> La logica dell’incerto</a>
<ul>
<li class="chapter" data-level="6.1" data-path="ch-intro-prob-1.html"><a href="ch-intro-prob-1.html#che-cosè-la-probabilità"><i class="fa fa-check"></i><b>6.1</b> Che cos’è la probabilità?</a></li>
<li class="chapter" data-level="6.2" data-path="ch-intro-prob-1.html"><a href="ch-intro-prob-1.html#variabili-casuali-e-probabilità-di-un-evento"><i class="fa fa-check"></i><b>6.2</b> Variabili casuali e probabilità di un evento</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="ch-intro-prob-1.html"><a href="ch-intro-prob-1.html#eventi-e-probabilità"><i class="fa fa-check"></i><b>6.2.1</b> Eventi e probabilità</a></li>
<li class="chapter" data-level="6.2.2" data-path="ch-intro-prob-1.html"><a href="ch-intro-prob-1.html#spazio-campione-e-risultati-possibili"><i class="fa fa-check"></i><b>6.2.2</b> Spazio campione e risultati possibili</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="ch-intro-prob-1.html"><a href="ch-intro-prob-1.html#variabili-casuali-1"><i class="fa fa-check"></i><b>6.3</b> Variabili casuali</a></li>
<li class="chapter" data-level="6.4" data-path="ch-intro-prob-1.html"><a href="ch-intro-prob-1.html#usare-la-simulazione-per-stimare-le-probabilità"><i class="fa fa-check"></i><b>6.4</b> Usare la simulazione per stimare le probabilità</a></li>
<li class="chapter" data-level="6.5" data-path="ch-intro-prob-1.html"><a href="ch-intro-prob-1.html#la-legge-dei-grandi-numeri"><i class="fa fa-check"></i><b>6.5</b> La legge dei grandi numeri</a></li>
<li class="chapter" data-level="6.6" data-path="ch-intro-prob-1.html"><a href="ch-intro-prob-1.html#variabili-casuali-multiple"><i class="fa fa-check"></i><b>6.6</b> Variabili casuali multiple</a></li>
<li class="chapter" data-level="6.7" data-path="ch-intro-prob-1.html"><a href="ch-intro-prob-1.html#sec:fun-mass-prob"><i class="fa fa-check"></i><b>6.7</b> Funzione di massa di probabilità</a>
<ul>
<li class="chapter" data-level="6.7.1" data-path="ch-intro-prob-1.html"><a href="ch-intro-prob-1.html#funzione-di-ripartizione"><i class="fa fa-check"></i><b>6.7.1</b> Funzione di ripartizione</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ch-intro-prob-1.html"><a href="ch-intro-prob-1.html#commenti-e-considerazioni-finali-4"><i class="fa fa-check"></i>Commenti e considerazioni finali</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="ch-prob-cond.html"><a href="ch-prob-cond.html"><i class="fa fa-check"></i><b>7</b> Probabilità condizionata</a>
<ul>
<li class="chapter" data-level="7.1" data-path="ch-prob-cond.html"><a href="ch-prob-cond.html#sec:bayes-cancer"><i class="fa fa-check"></i><b>7.1</b> Probabilità condizionata su altri eventi</a></li>
<li class="chapter" data-level="7.2" data-path="ch-prob-cond.html"><a href="ch-prob-cond.html#la-regola-moltiplicativa"><i class="fa fa-check"></i><b>7.2</b> La regola moltiplicativa</a></li>
<li class="chapter" data-level="7.3" data-path="ch-prob-cond.html"><a href="ch-prob-cond.html#lindipendendenza-stocastica"><i class="fa fa-check"></i><b>7.3</b> L’indipendendenza stocastica</a></li>
<li class="chapter" data-level="7.4" data-path="ch-prob-cond.html"><a href="ch-prob-cond.html#il-teorema-della-probabilità-totale"><i class="fa fa-check"></i><b>7.4</b> Il teorema della probabilità totale</a></li>
<li class="chapter" data-level="7.5" data-path="ch-prob-cond.html"><a href="ch-prob-cond.html#il-teorema-della-probabilità-assoluta"><i class="fa fa-check"></i><b>7.5</b> Il teorema della probabilità assoluta</a></li>
<li class="chapter" data-level="7.6" data-path="ch-prob-cond.html"><a href="ch-prob-cond.html#indipendenza-condizionale"><i class="fa fa-check"></i><b>7.6</b> Indipendenza condizionale</a></li>
<li class="chapter" data-level="" data-path="ch-prob-cond.html"><a href="ch-prob-cond.html#commenti-e-considerazioni-finali-5"><i class="fa fa-check"></i>Commenti e considerazioni finali</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="ch-theorem-bayes.html"><a href="ch-theorem-bayes.html"><i class="fa fa-check"></i><b>8</b> Il teorema di Bayes</a>
<ul>
<li class="chapter" data-level="8.1" data-path="ch-theorem-bayes.html"><a href="ch-theorem-bayes.html#il-teorema-di-bayes"><i class="fa fa-check"></i><b>8.1</b> Il teorema di Bayes</a></li>
<li class="chapter" data-level="" data-path="ch-theorem-bayes.html"><a href="ch-theorem-bayes.html#commenti-e-considerazioni-finali-6"><i class="fa fa-check"></i>Commenti e considerazioni finali</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="ch-prob-congiunta.html"><a href="ch-prob-congiunta.html"><i class="fa fa-check"></i><b>9</b> Probabilità congiunta</a>
<ul>
<li class="chapter" data-level="9.1" data-path="ch-prob-congiunta.html"><a href="ch-prob-congiunta.html#funzione-di-probabilità-congiunta"><i class="fa fa-check"></i><b>9.1</b> Funzione di probabilità congiunta</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="ch-prob-congiunta.html"><a href="ch-prob-congiunta.html#proprietà"><i class="fa fa-check"></i><b>9.1.1</b> Proprietà</a></li>
<li class="chapter" data-level="9.1.2" data-path="ch-prob-congiunta.html"><a href="ch-prob-congiunta.html#eventi"><i class="fa fa-check"></i><b>9.1.2</b> Eventi</a></li>
<li class="chapter" data-level="9.1.3" data-path="ch-prob-congiunta.html"><a href="ch-prob-congiunta.html#sec:marg-distr-discr"><i class="fa fa-check"></i><b>9.1.3</b> Funzioni di probabilità marginali</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="ch-prob-congiunta.html"><a href="ch-prob-congiunta.html#sec:margin-vc-cont"><i class="fa fa-check"></i><b>9.2</b> Marginalizzazione di variabili casuali continue</a></li>
<li class="chapter" data-level="" data-path="ch-prob-congiunta.html"><a href="ch-prob-congiunta.html#commenti-e-considerazioni-finali-7"><i class="fa fa-check"></i>Commenti e considerazioni finali</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="ch-intro-density-function.html"><a href="ch-intro-density-function.html"><i class="fa fa-check"></i><b>10</b> La densità di probabilità</a>
<ul>
<li class="chapter" data-level="10.1" data-path="ch-intro-density-function.html"><a href="ch-intro-density-function.html#spinner-e-variabili-casuali-continue-uniformi"><i class="fa fa-check"></i><b>10.1</b> Spinner e variabili casuali continue uniformi</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="ch-intro-density-function.html"><a href="ch-intro-density-function.html#il-paradosso-delle-variabili-casuali-continue"><i class="fa fa-check"></i><b>10.1.1</b> Il paradosso delle variabili casuali continue</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="ch-intro-density-function.html"><a href="ch-intro-density-function.html#la-funzione-di-ripartizione-per-una-variabile-casuale-continua"><i class="fa fa-check"></i><b>10.2</b> La funzione di ripartizione per una variabile casuale continua</a></li>
<li class="chapter" data-level="10.3" data-path="ch-intro-density-function.html"><a href="ch-intro-density-function.html#la-distribuzione-uniforme"><i class="fa fa-check"></i><b>10.3</b> La distribuzione uniforme</a></li>
<li class="chapter" data-level="10.4" data-path="ch-intro-density-function.html"><a href="ch-intro-density-function.html#dagli-istogrammi-alle-densità"><i class="fa fa-check"></i><b>10.4</b> Dagli istogrammi alle densità</a></li>
<li class="chapter" data-level="10.5" data-path="ch-intro-density-function.html"><a href="ch-intro-density-function.html#funzione-di-densità-di-probabilità"><i class="fa fa-check"></i><b>10.5</b> Funzione di densità di probabilità</a></li>
<li class="chapter" data-level="10.6" data-path="ch-intro-density-function.html"><a href="ch-intro-density-function.html#la-funzione-di-ripartizione"><i class="fa fa-check"></i><b>10.6</b> La funzione di ripartizione</a></li>
<li class="chapter" data-level="10.7" data-path="ch-intro-density-function.html"><a href="ch-intro-density-function.html#media-e-mediana"><i class="fa fa-check"></i><b>10.7</b> Media e mediana</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="ch-expval-var-rv.html"><a href="ch-expval-var-rv.html"><i class="fa fa-check"></i><b>11</b> Valore atteso e varianza</a>
<ul>
<li class="chapter" data-level="11.1" data-path="ch-expval-var-rv.html"><a href="ch-expval-var-rv.html#valore-atteso"><i class="fa fa-check"></i><b>11.1</b> Valore atteso</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="ch-expval-var-rv.html"><a href="ch-expval-var-rv.html#interpretazione"><i class="fa fa-check"></i><b>11.1.1</b> Interpretazione</a></li>
<li class="chapter" data-level="11.1.2" data-path="ch-expval-var-rv.html"><a href="ch-expval-var-rv.html#proprietà-del-valore-atteso"><i class="fa fa-check"></i><b>11.1.2</b> Proprietà del valore atteso</a></li>
<li class="chapter" data-level="11.1.3" data-path="ch-expval-var-rv.html"><a href="ch-expval-var-rv.html#variabili-casuali-continue"><i class="fa fa-check"></i><b>11.1.3</b> Variabili casuali continue</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="ch-expval-var-rv.html"><a href="ch-expval-var-rv.html#varianza-1"><i class="fa fa-check"></i><b>11.2</b> Varianza</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="ch-expval-var-rv.html"><a href="ch-expval-var-rv.html#formula-alternativa-per-la-varianza"><i class="fa fa-check"></i><b>11.2.1</b> Formula alternativa per la varianza</a></li>
<li class="chapter" data-level="11.2.2" data-path="ch-expval-var-rv.html"><a href="ch-expval-var-rv.html#variabili-casuali-continue-1"><i class="fa fa-check"></i><b>11.2.2</b> Variabili casuali continue</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="ch-expval-var-rv.html"><a href="ch-expval-var-rv.html#deviazione-standard"><i class="fa fa-check"></i><b>11.3</b> Deviazione standard</a></li>
<li class="chapter" data-level="11.4" data-path="ch-expval-var-rv.html"><a href="ch-expval-var-rv.html#standardizzazione"><i class="fa fa-check"></i><b>11.4</b> Standardizzazione</a></li>
<li class="chapter" data-level="11.5" data-path="ch-expval-var-rv.html"><a href="ch-expval-var-rv.html#momenti-di-variabili-casuali"><i class="fa fa-check"></i><b>11.5</b> Momenti di variabili casuali</a></li>
<li class="chapter" data-level="11.6" data-path="ch-expval-var-rv.html"><a href="ch-expval-var-rv.html#covarianza-1"><i class="fa fa-check"></i><b>11.6</b> Covarianza</a></li>
<li class="chapter" data-level="11.7" data-path="ch-expval-var-rv.html"><a href="ch-expval-var-rv.html#correlazione-1"><i class="fa fa-check"></i><b>11.7</b> Correlazione</a></li>
<li class="chapter" data-level="11.8" data-path="ch-expval-var-rv.html"><a href="ch-expval-var-rv.html#proprietà-1"><i class="fa fa-check"></i><b>11.8</b> Proprietà</a>
<ul>
<li class="chapter" data-level="11.8.1" data-path="ch-expval-var-rv.html"><a href="ch-expval-var-rv.html#incorrelazione"><i class="fa fa-check"></i><b>11.8.1</b> Incorrelazione</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ch-expval-var-rv.html"><a href="ch-expval-var-rv.html#conclusioni"><i class="fa fa-check"></i>Conclusioni</a></li>
</ul></li>
<li class="part"><span><b>IV Distribuzioni teoriche di probabilità</b></span></li>
<li class="chapter" data-level="12" data-path="ch-distr-rv-discr.html"><a href="ch-distr-rv-discr.html"><i class="fa fa-check"></i><b>12</b> Distribuzioni di v.c. discrete</a>
<ul>
<li class="chapter" data-level="12.1" data-path="ch-distr-rv-discr.html"><a href="ch-distr-rv-discr.html#una-prova-bernoulliana"><i class="fa fa-check"></i><b>12.1</b> Una prova Bernoulliana</a></li>
<li class="chapter" data-level="12.2" data-path="ch-distr-rv-discr.html"><a href="ch-distr-rv-discr.html#una-sequenza-di-prove-bernoulliane"><i class="fa fa-check"></i><b>12.2</b> Una sequenza di prove Bernoulliane</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="ch-distr-rv-discr.html"><a href="ch-distr-rv-discr.html#valore-atteso-e-deviazione-standard"><i class="fa fa-check"></i><b>12.2.1</b> Valore atteso e deviazione standard</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="ch-distr-rv-discr.html"><a href="ch-distr-rv-discr.html#distribuzione-di-poisson"><i class="fa fa-check"></i><b>12.3</b> Distribuzione di Poisson</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="ch-distr-rv-discr.html"><a href="ch-distr-rv-discr.html#alcune-proprietà-della-variabile-di-poisson"><i class="fa fa-check"></i><b>12.3.1</b> Alcune proprietà della variabile di Poisson</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="ch-distr-rv-discr.html"><a href="ch-distr-rv-discr.html#distribuzione-discreta-uniforme"><i class="fa fa-check"></i><b>12.4</b> Distribuzione discreta uniforme</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="ch-distr-rv-discr.html"><a href="ch-distr-rv-discr.html#usiamo-textsfr"><i class="fa fa-check"></i><b>12.4.1</b> Usiamo <span class="math inline">\(\textsf{R}\)</span></a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="ch-distr-rv-discr.html"><a href="ch-distr-rv-discr.html#distribuzione-beta-binomiale"><i class="fa fa-check"></i><b>12.5</b> Distribuzione beta-binomiale</a></li>
<li class="chapter" data-level="" data-path="ch-distr-rv-discr.html"><a href="ch-distr-rv-discr.html#commenti-e-considerazioni-finali-8"><i class="fa fa-check"></i>Commenti e considerazioni finali</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="ch-distr-rv-cont.html"><a href="ch-distr-rv-cont.html"><i class="fa fa-check"></i><b>13</b> Distribuzioni di v.c. continue</a>
<ul>
<li class="chapter" data-level="13.1" data-path="ch-distr-rv-cont.html"><a href="ch-distr-rv-cont.html#distribuzione-normale"><i class="fa fa-check"></i><b>13.1</b> Distribuzione Normale</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="ch-distr-rv-cont.html"><a href="ch-distr-rv-cont.html#limite-delle-distribuzioni-binomiali"><i class="fa fa-check"></i><b>13.1.1</b> Limite delle distribuzioni binomiali</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="ch-distr-rv-cont.html"><a href="ch-distr-rv-cont.html#normal-random-walk"><i class="fa fa-check"></i><b>13.2</b> La Normale prodotta con una simulazione</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="ch-distr-rv-cont.html"><a href="ch-distr-rv-cont.html#concentrazione"><i class="fa fa-check"></i><b>13.2.1</b> Concentrazione</a></li>
<li class="chapter" data-level="13.2.2" data-path="ch-distr-rv-cont.html"><a href="ch-distr-rv-cont.html#funzione-di-ripartizione-1"><i class="fa fa-check"></i><b>13.2.2</b> Funzione di ripartizione</a></li>
<li class="chapter" data-level="13.2.3" data-path="ch-distr-rv-cont.html"><a href="ch-distr-rv-cont.html#distribuzione-normale-standard"><i class="fa fa-check"></i><b>13.2.3</b> Distribuzione Normale standard</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="ch-distr-rv-cont.html"><a href="ch-distr-rv-cont.html#teorema-del-limite-centrale"><i class="fa fa-check"></i><b>13.3</b> Teorema del limite centrale</a></li>
<li class="chapter" data-level="13.4" data-path="ch-distr-rv-cont.html"><a href="ch-distr-rv-cont.html#distribuzione-chi-quadrato"><i class="fa fa-check"></i><b>13.4</b> Distribuzione Chi-quadrato</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="ch-distr-rv-cont.html"><a href="ch-distr-rv-cont.html#proprietà-2"><i class="fa fa-check"></i><b>13.4.1</b> Proprietà</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="ch-distr-rv-cont.html"><a href="ch-distr-rv-cont.html#distribuzione-t-di-student"><i class="fa fa-check"></i><b>13.5</b> Distribuzione <span class="math inline">\(t\)</span> di Student</a>
<ul>
<li class="chapter" data-level="13.5.1" data-path="ch-distr-rv-cont.html"><a href="ch-distr-rv-cont.html#proprietà-3"><i class="fa fa-check"></i><b>13.5.1</b> Proprietà</a></li>
</ul></li>
<li class="chapter" data-level="13.6" data-path="ch-distr-rv-cont.html"><a href="ch-distr-rv-cont.html#funzione-beta"><i class="fa fa-check"></i><b>13.6</b> Funzione beta</a></li>
<li class="chapter" data-level="13.7" data-path="ch-distr-rv-cont.html"><a href="ch-distr-rv-cont.html#distribuzione-beta"><i class="fa fa-check"></i><b>13.7</b> Distribuzione Beta</a></li>
<li class="chapter" data-level="13.8" data-path="ch-distr-rv-cont.html"><a href="ch-distr-rv-cont.html#distribuzione-di-cauchy"><i class="fa fa-check"></i><b>13.8</b> Distribuzione di Cauchy</a></li>
<li class="chapter" data-level="13.9" data-path="ch-distr-rv-cont.html"><a href="ch-distr-rv-cont.html#distribuzione-log-normale"><i class="fa fa-check"></i><b>13.9</b> Distribuzione log-normale</a></li>
<li class="chapter" data-level="13.10" data-path="ch-distr-rv-cont.html"><a href="ch-distr-rv-cont.html#distribuzione-di-pareto"><i class="fa fa-check"></i><b>13.10</b> Distribuzione di Pareto</a></li>
<li class="chapter" data-level="" data-path="ch-distr-rv-cont.html"><a href="ch-distr-rv-cont.html#commenti-e-considerazioni-finali-9"><i class="fa fa-check"></i>Commenti e considerazioni finali</a></li>
</ul></li>
<li class="part"><span><b>V Inferenza bayesiana</b></span></li>
<li class="chapter" data-level="14" data-path="ch-bayes-workflow.html"><a href="ch-bayes-workflow.html"><i class="fa fa-check"></i><b>14</b> Flusso di lavoro bayesiano</a>
<ul>
<li class="chapter" data-level="14.1" data-path="ch-bayes-workflow.html"><a href="ch-bayes-workflow.html#modellizzazione-bayesiana"><i class="fa fa-check"></i><b>14.1</b> Modellizzazione bayesiana</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="ch-bayes-workflow.html"><a href="ch-bayes-workflow.html#notazione"><i class="fa fa-check"></i><b>14.1.1</b> Notazione</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="ch-bayes-workflow.html"><a href="ch-bayes-workflow.html#distribuzioni-a-priori"><i class="fa fa-check"></i><b>14.2</b> Distribuzioni a priori</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="ch-bayes-workflow.html"><a href="ch-bayes-workflow.html#tipologie-di-distribuzioni-a-priori"><i class="fa fa-check"></i><b>14.2.1</b> Tipologie di distribuzioni a priori</a></li>
<li class="chapter" data-level="14.2.2" data-path="ch-bayes-workflow.html"><a href="ch-bayes-workflow.html#selezione-della-distribuzione-a-priori"><i class="fa fa-check"></i><b>14.2.2</b> Selezione della distribuzione a priori</a></li>
<li class="chapter" data-level="14.2.3" data-path="ch-bayes-workflow.html"><a href="ch-bayes-workflow.html#unapplicazione-empirica"><i class="fa fa-check"></i><b>14.2.3</b> Un’applicazione empirica</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="ch-bayes-workflow.html"><a href="ch-bayes-workflow.html#la-funzione-di-verosimiglianza"><i class="fa fa-check"></i><b>14.3</b> La funzione di verosimiglianza</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="ch-bayes-workflow.html"><a href="ch-bayes-workflow.html#notazione-1"><i class="fa fa-check"></i><b>14.3.1</b> Notazione</a></li>
<li class="chapter" data-level="14.3.2" data-path="ch-bayes-workflow.html"><a href="ch-bayes-workflow.html#la-log-verosimiglianza"><i class="fa fa-check"></i><b>14.3.2</b> La log-verosimiglianza</a></li>
<li class="chapter" data-level="14.3.3" data-path="ch-bayes-workflow.html"><a href="ch-bayes-workflow.html#unapplicazione-empirica-1"><i class="fa fa-check"></i><b>14.3.3</b> Un’applicazione empirica</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="ch-bayes-workflow.html"><a href="ch-bayes-workflow.html#sec:const-normaliz-bino23"><i class="fa fa-check"></i><b>14.4</b> La verosimiglianza marginale</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="ch-bayes-workflow.html"><a href="ch-bayes-workflow.html#unapplicazione-empirica-2"><i class="fa fa-check"></i><b>14.4.1</b> Un’applicazione empirica</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="ch-bayes-workflow.html"><a href="ch-bayes-workflow.html#distribuzione-a-posteriori"><i class="fa fa-check"></i><b>14.5</b> Distribuzione a posteriori</a></li>
<li class="chapter" data-level="14.6" data-path="ch-bayes-workflow.html"><a href="ch-bayes-workflow.html#distribuzione-predittiva-a-priori"><i class="fa fa-check"></i><b>14.6</b> Distribuzione predittiva a priori</a></li>
<li class="chapter" data-level="14.7" data-path="ch-bayes-workflow.html"><a href="ch-bayes-workflow.html#distribuzione-predittiva-a-posteriori"><i class="fa fa-check"></i><b>14.7</b> Distribuzione predittiva a posteriori</a></li>
<li class="chapter" data-level="" data-path="ch-bayes-workflow.html"><a href="ch-bayes-workflow.html#commenti-e-considerazioni-finali-10"><i class="fa fa-check"></i>Commenti e considerazioni finali</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="ch-subj-think-prop.html"><a href="ch-subj-think-prop.html"><i class="fa fa-check"></i><b>15</b> Pensare ad una proporzione in termini soggettivi</a>
<ul>
<li class="chapter" data-level="15.1" data-path="ch-subj-think-prop.html"><a href="ch-subj-think-prop.html#ch-prior-discr-binom"><i class="fa fa-check"></i><b>15.1</b> Inferenza bayesiana con una distribuzione a priori discreta</a></li>
<li class="chapter" data-level="15.2" data-path="ch-subj-think-prop.html"><a href="ch-subj-think-prop.html#ch-prior-cont-binom"><i class="fa fa-check"></i><b>15.2</b> Inferenza bayesiana con una distribuzione a priori continua</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="ch-subj-think-prop.html"><a href="ch-subj-think-prop.html#quali-parametri-per-la-distribuzione-beta"><i class="fa fa-check"></i><b>15.2.1</b> Quali parametri per la distribuzione Beta?</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ch-subj-think-prop.html"><a href="ch-subj-think-prop.html#commenti-e-considerazioni-finali-11"><i class="fa fa-check"></i>Commenti e considerazioni finali</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="ch-distr-coniugate.html"><a href="ch-distr-coniugate.html"><i class="fa fa-check"></i><b>16</b> Distribuzioni coniugate</a>
<ul>
<li class="chapter" data-level="16.1" data-path="ch-distr-coniugate.html"><a href="ch-distr-coniugate.html#lo-schema-beta-binomiale"><i class="fa fa-check"></i><b>16.1</b> Lo schema beta-binomiale</a>
<ul>
<li class="chapter" data-level="16.1.1" data-path="ch-distr-coniugate.html"><a href="ch-distr-coniugate.html#la-specificazione-della-distribuzione-a-priori"><i class="fa fa-check"></i><b>16.1.1</b> La specificazione della distribuzione a priori</a></li>
<li class="chapter" data-level="16.1.2" data-path="ch-distr-coniugate.html"><a href="ch-distr-coniugate.html#la-specificazione-della-distribuzione-a-posteriori"><i class="fa fa-check"></i><b>16.1.2</b> La specificazione della distribuzione a posteriori</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="ch-distr-coniugate.html"><a href="ch-distr-coniugate.html#inferenza-bayesiana-con-distribuzioni-a-priori-continue"><i class="fa fa-check"></i><b>16.2</b> Inferenza bayesiana con distribuzioni a priori continue</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="ch-distr-coniugate.html"><a href="ch-distr-coniugate.html#approccio-bayesiano-alla-verifica-di-ipotesi"><i class="fa fa-check"></i><b>16.2.1</b> Approccio bayesiano alla verifica di ipotesi</a></li>
<li class="chapter" data-level="16.2.2" data-path="ch-distr-coniugate.html"><a href="ch-distr-coniugate.html#intervalli-di-credibilità"><i class="fa fa-check"></i><b>16.2.2</b> Intervalli di credibilità</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="ch-distr-coniugate.html"><a href="ch-distr-coniugate.html#principali-distribuzioni-coniugate"><i class="fa fa-check"></i><b>16.3</b> Principali distribuzioni coniugate</a></li>
<li class="chapter" data-level="" data-path="ch-distr-coniugate.html"><a href="ch-distr-coniugate.html#commenti-e-considerazioni-finali-12"><i class="fa fa-check"></i>Commenti e considerazioni finali</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="ch-prior-influence.html"><a href="ch-prior-influence.html"><i class="fa fa-check"></i><b>17</b> L’influenza della distribuzione a priori</a>
<ul>
<li class="chapter" data-level="17.1" data-path="ch-prior-influence.html"><a href="ch-prior-influence.html#il-test-di-benchdel"><i class="fa fa-check"></i><b>17.1</b> Il test di Benchdel</a></li>
<li class="chapter" data-level="17.2" data-path="ch-prior-influence.html"><a href="ch-prior-influence.html#stessi-dati-ma-diverse-distribuzioni-a-priori"><i class="fa fa-check"></i><b>17.2</b> Stessi dati ma diverse distribuzioni a priori</a></li>
<li class="chapter" data-level="17.3" data-path="ch-prior-influence.html"><a href="ch-prior-influence.html#dati-diversi-ma-la-stessa-distribuzione-a-priori"><i class="fa fa-check"></i><b>17.3</b> Dati diversi ma la stessa distribuzione a priori</a></li>
<li class="chapter" data-level="17.4" data-path="ch-prior-influence.html"><a href="ch-prior-influence.html#dati-diversi-e-diverse-distribuzioni-a-priori"><i class="fa fa-check"></i><b>17.4</b> Dati diversi e diverse distribuzioni a priori</a></li>
<li class="chapter" data-level="17.5" data-path="ch-prior-influence.html"><a href="ch-prior-influence.html#collegare-le-intuizioni-alla-teoria"><i class="fa fa-check"></i><b>17.5</b> Collegare le intuizioni alla teoria</a></li>
<li class="chapter" data-level="" data-path="ch-prior-influence.html"><a href="ch-prior-influence.html#commenti-e-considerazioni-finali-13"><i class="fa fa-check"></i>Commenti e considerazioni finali</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="ch-post-approx.html"><a href="ch-post-approx.html"><i class="fa fa-check"></i><b>18</b> Approssimazione della distribuzione a posteriori</a>
<ul>
<li class="chapter" data-level="18.1" data-path="ch-post-approx.html"><a href="ch-post-approx.html#metodo-basato-su-griglia"><i class="fa fa-check"></i><b>18.1</b> Metodo basato su griglia</a>
<ul>
<li class="chapter" data-level="18.1.1" data-path="ch-post-approx.html"><a href="ch-post-approx.html#modello-beta-binomiale"><i class="fa fa-check"></i><b>18.1.1</b> Modello Beta-Binomiale</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="ch-post-approx.html"><a href="ch-post-approx.html#chapter-simulazioneMC"><i class="fa fa-check"></i><b>18.2</b> Metodo Monte Carlo</a>
<ul>
<li class="chapter" data-level="18.2.1" data-path="ch-post-approx.html"><a href="ch-post-approx.html#integration-mc"><i class="fa fa-check"></i><b>18.2.1</b> Integrazione di Monte Carlo</a></li>
<li class="chapter" data-level="18.2.2" data-path="ch-post-approx.html"><a href="ch-post-approx.html#descrizione-intuitiva"><i class="fa fa-check"></i><b>18.2.2</b> Descrizione intuitiva</a></li>
<li class="chapter" data-level="18.2.3" data-path="ch-post-approx.html"><a href="ch-post-approx.html#unapplicazione-empirica-3"><i class="fa fa-check"></i><b>18.2.3</b> Un’applicazione empirica</a></li>
<li class="chapter" data-level="18.2.4" data-path="ch-post-approx.html"><a href="ch-post-approx.html#una-passeggiata-casuale-sui-numeri-naturali"><i class="fa fa-check"></i><b>18.2.4</b> Una passeggiata casuale sui numeri naturali</a></li>
<li class="chapter" data-level="18.2.5" data-path="ch-post-approx.html"><a href="ch-post-approx.html#lalgoritmo-di-metropolis"><i class="fa fa-check"></i><b>18.2.5</b> L’algoritmo di Metropolis</a></li>
<li class="chapter" data-level="18.2.6" data-path="ch-post-approx.html"><a href="ch-post-approx.html#unapplicazione-empirica-4"><i class="fa fa-check"></i><b>18.2.6</b> Un’applicazione empirica</a></li>
<li class="chapter" data-level="18.2.7" data-path="ch-post-approx.html"><a href="ch-post-approx.html#gibbs-sampling"><i class="fa fa-check"></i><b>18.2.7</b> Gibb’s sampling</a></li>
<li class="chapter" data-level="18.2.8" data-path="ch-post-approx.html"><a href="ch-post-approx.html#input"><i class="fa fa-check"></i><b>18.2.8</b> Input</a></li>
<li class="chapter" data-level="18.2.9" data-path="ch-post-approx.html"><a href="ch-post-approx.html#stazionarietà"><i class="fa fa-check"></i><b>18.2.9</b> Stazionarietà</a></li>
<li class="chapter" data-level="18.2.10" data-path="ch-post-approx.html"><a href="ch-post-approx.html#test-di-convergenza"><i class="fa fa-check"></i><b>18.2.10</b> Test di convergenza</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ch-post-approx.html"><a href="ch-post-approx.html#commenti-e-considerazioni-finali-14"><i class="fa fa-check"></i>Commenti e considerazioni finali</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="ch-stan-beta-binom.html"><a href="ch-stan-beta-binom.html"><i class="fa fa-check"></i><b>19</b> Il modello beta-binomiale in linguaggio Stan</a>
<ul>
<li class="chapter" data-level="19.1" data-path="ch-stan-beta-binom.html"><a href="ch-stan-beta-binom.html#il-presidente-trump-e-lidrossiclorochina"><i class="fa fa-check"></i><b>19.1</b> Il presidente Trump e l’idrossiclorochina</a></li>
<li class="chapter" data-level="19.2" data-path="ch-stan-beta-binom.html"><a href="ch-stan-beta-binom.html#una-proporzione"><i class="fa fa-check"></i><b>19.2</b> Una proporzione</a></li>
<li class="chapter" data-level="19.3" data-path="ch-stan-beta-binom.html"><a href="ch-stan-beta-binom.html#cmdstanr-gautret"><i class="fa fa-check"></i><b>19.3</b> Interfaccia <code>cmdstanr</code></a>
<ul>
<li class="chapter" data-level="19.3.1" data-path="ch-stan-beta-binom.html"><a href="ch-stan-beta-binom.html#fase-1"><i class="fa fa-check"></i><b>19.3.1</b> Fase 1</a></li>
<li class="chapter" data-level="19.3.2" data-path="ch-stan-beta-binom.html"><a href="ch-stan-beta-binom.html#fase-2"><i class="fa fa-check"></i><b>19.3.2</b> Fase 2</a></li>
<li class="chapter" data-level="19.3.3" data-path="ch-stan-beta-binom.html"><a href="ch-stan-beta-binom.html#fase-3"><i class="fa fa-check"></i><b>19.3.3</b> Fase 3</a></li>
</ul></li>
<li class="chapter" data-level="19.4" data-path="ch-stan-beta-binom.html"><a href="ch-stan-beta-binom.html#la-critica-di-hulme_2020"><i class="fa fa-check"></i><b>19.4</b> La critica di <span class="citation">Hulme et al. (<span>2020</span>)</span></a></li>
<li class="chapter" data-level="19.5" data-path="ch-stan-beta-binom.html"><a href="ch-stan-beta-binom.html#due-proporzioni"><i class="fa fa-check"></i><b>19.5</b> Due proporzioni</a></li>
<li class="chapter" data-level="" data-path="ch-stan-beta-binom.html"><a href="ch-stan-beta-binom.html#commenti-e-considerazioni-finali-15"><i class="fa fa-check"></i>Commenti e considerazioni finali</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="ch-diagn-markov-chains.html"><a href="ch-diagn-markov-chains.html"><i class="fa fa-check"></i><b>20</b> Diagnostica delle catene markoviane</a>
<ul>
<li class="chapter" data-level="20.1" data-path="ch-diagn-markov-chains.html"><a href="ch-diagn-markov-chains.html#esame-dei-trace-plot"><i class="fa fa-check"></i><b>20.1</b> Esame dei <em>trace plot</em></a></li>
<li class="chapter" data-level="20.2" data-path="ch-diagn-markov-chains.html"><a href="ch-diagn-markov-chains.html#confronto-delle-catene-parallele"><i class="fa fa-check"></i><b>20.2</b> Confronto delle catene parallele</a></li>
<li class="chapter" data-level="20.3" data-path="ch-diagn-markov-chains.html"><a href="ch-diagn-markov-chains.html#numerosita-campionaria-effettiva"><i class="fa fa-check"></i><b>20.3</b> Numerosità campionaria effettiva</a></li>
<li class="chapter" data-level="20.4" data-path="ch-diagn-markov-chains.html"><a href="ch-diagn-markov-chains.html#autocorrelazione"><i class="fa fa-check"></i><b>20.4</b> Autocorrelazione</a></li>
<li class="chapter" data-level="20.5" data-path="ch-diagn-markov-chains.html"><a href="ch-diagn-markov-chains.html#statistica-hatr"><i class="fa fa-check"></i><b>20.5</b> Statistica <span class="math inline">\(\hat{R}\)</span></a></li>
<li class="chapter" data-level="20.6" data-path="ch-diagn-markov-chains.html"><a href="ch-diagn-markov-chains.html#diagnostica-di-convergenza-di-geweke"><i class="fa fa-check"></i><b>20.6</b> Diagnostica di convergenza di Geweke</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="ch-sintesi-distr-post.html"><a href="ch-sintesi-distr-post.html"><i class="fa fa-check"></i><b>21</b> Sintesi a posteriori</a>
<ul>
<li class="chapter" data-level="21.1" data-path="ch-sintesi-distr-post.html"><a href="ch-sintesi-distr-post.html#stima-puntuale"><i class="fa fa-check"></i><b>21.1</b> Stima puntuale</a></li>
<li class="chapter" data-level="21.2" data-path="ch-sintesi-distr-post.html"><a href="ch-sintesi-distr-post.html#intervallo-di-credibilità"><i class="fa fa-check"></i><b>21.2</b> Intervallo di credibilità</a>
<ul>
<li class="chapter" data-level="21.2.1" data-path="ch-sintesi-distr-post.html"><a href="ch-sintesi-distr-post.html#intervallo-di-credibilità-a-code-uguali"><i class="fa fa-check"></i><b>21.2.1</b> Intervallo di credibilità a code uguali</a></li>
<li class="chapter" data-level="21.2.2" data-path="ch-sintesi-distr-post.html"><a href="ch-sintesi-distr-post.html#intervallo-di-credibilità-a-densità-a-posteriori-più-alta"><i class="fa fa-check"></i><b>21.2.2</b> Intervallo di credibilità a densità a posteriori più alta</a></li>
<li class="chapter" data-level="21.2.3" data-path="ch-sintesi-distr-post.html"><a href="ch-sintesi-distr-post.html#interpretazione-1"><i class="fa fa-check"></i><b>21.2.3</b> Interpretazione</a></li>
</ul></li>
<li class="chapter" data-level="21.3" data-path="ch-sintesi-distr-post.html"><a href="ch-sintesi-distr-post.html#un-esempio-concreto"><i class="fa fa-check"></i><b>21.3</b> Un esempio concreto</a>
<ul>
<li class="chapter" data-level="21.3.1" data-path="ch-sintesi-distr-post.html"><a href="ch-sintesi-distr-post.html#stime-puntuali-della-distribuzione-a-posteriori"><i class="fa fa-check"></i><b>21.3.1</b> Stime puntuali della distribuzione a posteriori</a></li>
<li class="chapter" data-level="21.3.2" data-path="ch-sintesi-distr-post.html"><a href="ch-sintesi-distr-post.html#intervallo-di-credibilità-1"><i class="fa fa-check"></i><b>21.3.2</b> Intervallo di credibilità</a></li>
<li class="chapter" data-level="21.3.3" data-path="ch-sintesi-distr-post.html"><a href="ch-sintesi-distr-post.html#probabilità-della-distribuzione-a-posteriori"><i class="fa fa-check"></i><b>21.3.3</b> Probabilità della distribuzione a posteriori</a></li>
</ul></li>
<li class="chapter" data-level="21.4" data-path="ch-sintesi-distr-post.html"><a href="ch-sintesi-distr-post.html#la-funzione-di-perdita-attesa"><i class="fa fa-check"></i><b>21.4</b> La funzione di perdita attesa</a></li>
<li class="chapter" data-level="" data-path="ch-sintesi-distr-post.html"><a href="ch-sintesi-distr-post.html#commenti-e-considerazioni-finali-16"><i class="fa fa-check"></i>Commenti e considerazioni finali</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="ch-prediction.html"><a href="ch-prediction.html"><i class="fa fa-check"></i><b>22</b> La predizione bayesiana</a>
<ul>
<li class="chapter" data-level="22.1" data-path="ch-prediction.html"><a href="ch-prediction.html#la-distribuzione-predittiva-a-posteriori"><i class="fa fa-check"></i><b>22.1</b> La distribuzione predittiva a posteriori</a></li>
<li class="chapter" data-level="22.2" data-path="ch-prediction.html"><a href="ch-prediction.html#soluzione-analitica"><i class="fa fa-check"></i><b>22.2</b> Soluzione analitica</a></li>
<li class="chapter" data-level="22.3" data-path="ch-prediction.html"><a href="ch-prediction.html#la-distribuzione-predittiva-a-posteriori-mediante-simulazione"><i class="fa fa-check"></i><b>22.3</b> La distribuzione predittiva a posteriori mediante simulazione</a></li>
<li class="chapter" data-level="22.4" data-path="ch-prediction.html"><a href="ch-prediction.html#la-distribuzione-predittiva-a-posteriori-mediante-mcmc"><i class="fa fa-check"></i><b>22.4</b> La distribuzione predittiva a posteriori mediante MCMC</a></li>
<li class="chapter" data-level="22.5" data-path="ch-prediction.html"><a href="ch-prediction.html#i-metodi-per-la-valutazione-del-modello"><i class="fa fa-check"></i><b>22.5</b> I metodi per la valutazione del modello</a>
<ul>
<li class="chapter" data-level="22.5.1" data-path="ch-prediction.html"><a href="ch-prediction.html#posterior-predictive-checks"><i class="fa fa-check"></i><b>22.5.1</b> Posterior predictive checks</a></li>
</ul></li>
<li class="chapter" data-level="22.6" data-path="ch-prediction.html"><a href="ch-prediction.html#distribuzione-predittiva-a-priori-1"><i class="fa fa-check"></i><b>22.6</b> Distribuzione predittiva a priori</a></li>
<li class="chapter" data-level="" data-path="ch-prediction.html"><a href="ch-prediction.html#commenti-e-considerazioni-finali-17"><i class="fa fa-check"></i>Commenti e considerazioni finali</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="ch-normal-normal-mod-stan.html"><a href="ch-normal-normal-mod-stan.html"><i class="fa fa-check"></i><b>23</b> Inferenza sul parametro <span class="math inline">\(\mu\)</span> (media di una v.c. Normale)</a>
<ul>
<li class="chapter" data-level="23.1" data-path="ch-normal-normal-mod-stan.html"><a href="ch-normal-normal-mod-stan.html#caso-normale-normale-con-varianza-nota"><i class="fa fa-check"></i><b>23.1</b> Caso Normale-Normale con varianza nota</a></li>
<li class="chapter" data-level="23.2" data-path="ch-normal-normal-mod-stan.html"><a href="ch-normal-normal-mod-stan.html#derivazione-analitica-della-distribuzione-a-posteriori-pmu-mid-y"><i class="fa fa-check"></i><b>23.2</b> Derivazione analitica della distribuzione a posteriori <span class="math inline">\(p(\mu \mid y)\)</span></a></li>
<li class="chapter" data-level="23.3" data-path="ch-normal-normal-mod-stan.html"><a href="ch-normal-normal-mod-stan.html#il-modello-normale-con-stan"><i class="fa fa-check"></i><b>23.3</b> Il modello Normale con Stan</a>
<ul>
<li class="chapter" data-level="23.3.1" data-path="ch-normal-normal-mod-stan.html"><a href="ch-normal-normal-mod-stan.html#versione-1-sigma-nota"><i class="fa fa-check"></i><b>23.3.1</b> Versione 1 (<span class="math inline">\(\sigma\)</span> nota)</a></li>
<li class="chapter" data-level="23.3.2" data-path="ch-normal-normal-mod-stan.html"><a href="ch-normal-normal-mod-stan.html#versione-2-sigma-incognita"><i class="fa fa-check"></i><b>23.3.2</b> Versione 2 (<span class="math inline">\(\sigma\)</span> incognita)</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ch-normal-normal-mod-stan.html"><a href="ch-normal-normal-mod-stan.html#commenti-e-considerazioni-finali-18"><i class="fa fa-check"></i>Commenti e considerazioni finali</a></li>
</ul></li>
<li class="part"><span><b>VI Il modello lineare</b></span></li>
<li class="chapter" data-level="24" data-path="ch-regr-intro.html"><a href="ch-regr-intro.html"><i class="fa fa-check"></i><b>24</b> Introduzione</a>
<ul>
<li class="chapter" data-level="24.1" data-path="ch-regr-intro.html"><a href="ch-regr-intro.html#la-funzione-lineare"><i class="fa fa-check"></i><b>24.1</b> La funzione lineare</a></li>
<li class="chapter" data-level="24.2" data-path="ch-regr-intro.html"><a href="ch-regr-intro.html#una-media-per-ciascuna-osservazione"><i class="fa fa-check"></i><b>24.2</b> Una media per ciascuna osservazione</a></li>
<li class="chapter" data-level="24.3" data-path="ch-regr-intro.html"><a href="ch-regr-intro.html#relazione-lineare-tra-la-media-y-mid-x-e-il-predittore"><i class="fa fa-check"></i><b>24.3</b> Relazione lineare tra la media <span class="math inline">\(y \mid x\)</span> e il predittore</a></li>
<li class="chapter" data-level="24.4" data-path="ch-regr-intro.html"><a href="ch-regr-intro.html#il-modello-lineare"><i class="fa fa-check"></i><b>24.4</b> Il modello lineare</a></li>
<li class="chapter" data-level="" data-path="ch-regr-intro.html"><a href="ch-regr-intro.html#commenti-e-considerazioni-finali-19"><i class="fa fa-check"></i>Commenti e considerazioni finali</a></li>
</ul></li>
<li class="chapter" data-level="25" data-path="ch-regr-model-lm.html"><a href="ch-regr-model-lm.html"><i class="fa fa-check"></i><b>25</b> Metodo dei minimi quadrati</a>
<ul>
<li class="chapter" data-level="25.1" data-path="ch-regr-model-lm.html"><a href="ch-regr-model-lm.html#stima-dei-coefficienti-di-regressione"><i class="fa fa-check"></i><b>25.1</b> Stima dei coefficienti di regressione</a>
<ul>
<li class="chapter" data-level="25.1.1" data-path="ch-regr-model-lm.html"><a href="ch-regr-model-lm.html#trasformazione-dei-dati"><i class="fa fa-check"></i><b>25.1.1</b> Trasformazione dei dati</a></li>
<li class="chapter" data-level="25.1.2" data-path="ch-regr-model-lm.html"><a href="ch-regr-model-lm.html#il-metodo-dei-minimi-quadrati"><i class="fa fa-check"></i><b>25.1.2</b> Il metodo dei minimi quadrati</a></li>
<li class="chapter" data-level="25.1.3" data-path="ch-regr-model-lm.html"><a href="ch-regr-model-lm.html#lerrore-standard-della-regressione"><i class="fa fa-check"></i><b>25.1.3</b> L’errore standard della regressione</a></li>
</ul></li>
<li class="chapter" data-level="25.2" data-path="ch-regr-model-lm.html"><a href="ch-regr-model-lm.html#indice-di-determinazione"><i class="fa fa-check"></i><b>25.2</b> Indice di determinazione</a>
<ul>
<li class="chapter" data-level="25.2.1" data-path="ch-regr-model-lm.html"><a href="ch-regr-model-lm.html#inferenza-sul-modello-di-regressione"><i class="fa fa-check"></i><b>25.2.1</b> Inferenza sul modello di regressione</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ch-regr-model-lm.html"><a href="ch-regr-model-lm.html#commenti-e-considerazioni-finali-20"><i class="fa fa-check"></i>Commenti e considerazioni finali</a></li>
</ul></li>
<li class="chapter" data-level="26" data-path="ch-reg-lin-stan.html"><a href="ch-reg-lin-stan.html"><i class="fa fa-check"></i><b>26</b> Modello di regressione in linguaggio Stan</a>
<ul>
<li class="chapter" data-level="26.1" data-path="ch-reg-lin-stan.html"><a href="ch-reg-lin-stan.html#specificazione-del-modello"><i class="fa fa-check"></i><b>26.1</b> Specificazione del modello</a></li>
<li class="chapter" data-level="26.2" data-path="ch-reg-lin-stan.html"><a href="ch-reg-lin-stan.html#stima-bayesiana-in-linguaggio-stan"><i class="fa fa-check"></i><b>26.2</b> Stima bayesiana in linguaggio Stan</a>
<ul>
<li class="chapter" data-level="26.2.1" data-path="ch-reg-lin-stan.html"><a href="ch-reg-lin-stan.html#standardizzare-i-dati"><i class="fa fa-check"></i><b>26.2.1</b> Standardizzare i dati</a></li>
<li class="chapter" data-level="26.2.2" data-path="ch-reg-lin-stan.html"><a href="ch-reg-lin-stan.html#interpretazione-dei-parametri"><i class="fa fa-check"></i><b>26.2.2</b> Interpretazione dei parametri</a></li>
<li class="chapter" data-level="26.2.3" data-path="ch-reg-lin-stan.html"><a href="ch-reg-lin-stan.html#centrare-i-predittori"><i class="fa fa-check"></i><b>26.2.3</b> Centrare i predittori</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ch-reg-lin-stan.html"><a href="ch-reg-lin-stan.html#commenti-e-considerazioni-finali-21"><i class="fa fa-check"></i>Commenti e considerazioni finali</a></li>
</ul></li>
<li class="chapter" data-level="27" data-path="ch-inference-reg-lin-stan.html"><a href="ch-inference-reg-lin-stan.html"><i class="fa fa-check"></i><b>27</b> Inferenza sul modello lineare</a>
<ul>
<li class="chapter" data-level="27.1" data-path="ch-inference-reg-lin-stan.html"><a href="ch-inference-reg-lin-stan.html#rappresentazione-grafica-dellincertezza-della-stima"><i class="fa fa-check"></i><b>27.1</b> Rappresentazione grafica dell’incertezza della stima</a></li>
<li class="chapter" data-level="27.2" data-path="ch-inference-reg-lin-stan.html"><a href="ch-inference-reg-lin-stan.html#intervalli-di-credibilità-1"><i class="fa fa-check"></i><b>27.2</b> Intervalli di credibilità</a>
<ul>
<li class="chapter" data-level="27.2.1" data-path="ch-inference-reg-lin-stan.html"><a href="ch-inference-reg-lin-stan.html#quale-soglia-usare"><i class="fa fa-check"></i><b>27.2.1</b> Quale soglia usare?</a></li>
</ul></li>
<li class="chapter" data-level="27.3" data-path="ch-inference-reg-lin-stan.html"><a href="ch-inference-reg-lin-stan.html#test-di-ipotesi"><i class="fa fa-check"></i><b>27.3</b> Test di ipotesi</a></li>
<li class="chapter" data-level="27.4" data-path="ch-inference-reg-lin-stan.html"><a href="ch-inference-reg-lin-stan.html#modello-lineare-robusto"><i class="fa fa-check"></i><b>27.4</b> Modello lineare robusto</a></li>
<li class="chapter" data-level="" data-path="ch-inference-reg-lin-stan.html"><a href="ch-inference-reg-lin-stan.html#commenti-e-considerazioni-finali-22"><i class="fa fa-check"></i>Commenti e considerazioni finali</a></li>
</ul></li>
<li class="chapter" data-level="28" data-path="ch-comp-two-means-stan.html"><a href="ch-comp-two-means-stan.html"><i class="fa fa-check"></i><b>28</b> Confronto tra due gruppi indipendenti</a>
<ul>
<li class="chapter" data-level="28.1" data-path="ch-comp-two-means-stan.html"><a href="ch-comp-two-means-stan.html#modello-lineare-con-una-variabile-dicotomica"><i class="fa fa-check"></i><b>28.1</b> Modello lineare con una variabile dicotomica</a>
<ul>
<li class="chapter" data-level="28.1.1" data-path="ch-comp-two-means-stan.html"><a href="ch-comp-two-means-stan.html#confronti-non-effetti"><i class="fa fa-check"></i><b>28.1.1</b> Confronti, non effetti</a></li>
<li class="chapter" data-level="28.1.2" data-path="ch-comp-two-means-stan.html"><a href="ch-comp-two-means-stan.html#un-esempio-concreto-1"><i class="fa fa-check"></i><b>28.1.2</b> Un esempio concreto</a></li>
</ul></li>
<li class="chapter" data-level="28.2" data-path="ch-comp-two-means-stan.html"><a href="ch-comp-two-means-stan.html#la-dimensione-delleffetto"><i class="fa fa-check"></i><b>28.2</b> La dimensione dell’effetto</a></li>
<li class="chapter" data-level="" data-path="ch-comp-two-means-stan.html"><a href="ch-comp-two-means-stan.html#commenti-e-considerazioni-finali-23"><i class="fa fa-check"></i>Commenti e considerazioni finali</a></li>
</ul></li>
<li class="chapter" data-level="29" data-path="ch-pred-checks.html"><a href="ch-pred-checks.html"><i class="fa fa-check"></i><b>29</b> Predictive checks</a>
<ul>
<li class="chapter" data-level="29.1" data-path="ch-pred-checks.html"><a href="ch-pred-checks.html#distribuzione-predittiva-a-posteriori-1"><i class="fa fa-check"></i><b>29.1</b> Distribuzione predittiva a posteriori</a></li>
<li class="chapter" data-level="29.2" data-path="ch-pred-checks.html"><a href="ch-pred-checks.html#distribuzione-predittiva-a-priori-2"><i class="fa fa-check"></i><b>29.2</b> Distribuzione predittiva a priori</a></li>
<li class="chapter" data-level="" data-path="ch-pred-checks.html"><a href="ch-pred-checks.html#commenti-e-considerazioni-finali-24"><i class="fa fa-check"></i>Commenti e considerazioni finali</a></li>
</ul></li>
<li class="chapter" data-level="30" data-path="ch-anova.html"><a href="ch-anova.html"><i class="fa fa-check"></i><b>30</b> Confronto di <span class="math inline">\(k\)</span> gruppi</a>
<ul>
<li class="chapter" data-level="30.1" data-path="ch-anova.html"><a href="ch-anova.html#le-abilità-sociali-di-un-robot"><i class="fa fa-check"></i><b>30.1</b> Le abilità sociali di un robot</a></li>
<li class="chapter" data-level="30.2" data-path="ch-anova.html"><a href="ch-anova.html#anova-stan"><i class="fa fa-check"></i><b>30.2</b> I test statistici dell’Analisi della Varianza</a>
<ul>
<li class="chapter" data-level="30.2.1" data-path="ch-anova.html"><a href="ch-anova.html#test-sullinterazione"><i class="fa fa-check"></i><b>30.2.1</b> Test sull’interazione</a></li>
<li class="chapter" data-level="30.2.2" data-path="ch-anova.html"><a href="ch-anova.html#test-sugli-effetti-principali"><i class="fa fa-check"></i><b>30.2.2</b> Test sugli effetti principali</a></li>
</ul></li>
<li class="chapter" data-level="30.3" data-path="ch-anova.html"><a href="ch-anova.html#codice-stan-versione-2"><i class="fa fa-check"></i><b>30.3</b> Codice Stan (versione 2)</a></li>
</ul></li>
<li class="chapter" data-level="31" data-path="ch-mod-hier-stan.html"><a href="ch-mod-hier-stan.html"><i class="fa fa-check"></i><b>31</b> Modello gerarchico</a>
<ul>
<li class="chapter" data-level="31.1" data-path="ch-mod-hier-stan.html"><a href="ch-mod-hier-stan.html#modello-gerarchico"><i class="fa fa-check"></i><b>31.1</b> Modello gerarchico</a></li>
<li class="chapter" data-level="31.2" data-path="ch-mod-hier-stan.html"><a href="ch-mod-hier-stan.html#modello-ad-effetti-fissi"><i class="fa fa-check"></i><b>31.2</b> Modello ad effetti fissi</a></li>
<li class="chapter" data-level="31.3" data-path="ch-mod-hier-stan.html"><a href="ch-mod-hier-stan.html#modello-gerarchico-1"><i class="fa fa-check"></i><b>31.3</b> Modello gerarchico</a></li>
</ul></li>
<li class="part"><span><b>VII Il confronto bayesiano di modelli</b></span></li>
<li class="chapter" data-level="32" data-path="ch-entropy.html"><a href="ch-entropy.html"><i class="fa fa-check"></i><b>32</b> Entropia</a>
<ul>
<li class="chapter" data-level="32.1" data-path="ch-entropy.html"><a href="ch-entropy.html#la-generalizzabilità-dei-modelli"><i class="fa fa-check"></i><b>32.1</b> La generalizzabilità dei modelli</a></li>
<li class="chapter" data-level="32.2" data-path="ch-entropy.html"><a href="ch-entropy.html#capacità-predittiva"><i class="fa fa-check"></i><b>32.2</b> Capacità predittiva</a></li>
<li class="chapter" data-level="32.3" data-path="ch-entropy.html"><a href="ch-entropy.html#il-rasoio-di-ockham"><i class="fa fa-check"></i><b>32.3</b> Il rasoio di Ockham</a>
<ul>
<li class="chapter" data-level="32.3.1" data-path="ch-entropy.html"><a href="ch-entropy.html#sovra-adattamento-e-sotto-adattamento"><i class="fa fa-check"></i><b>32.3.1</b> Sovra-adattamento e sotto-adattamento</a></li>
<li class="chapter" data-level="32.3.2" data-path="ch-entropy.html"><a href="ch-entropy.html#stargazing"><i class="fa fa-check"></i><b>32.3.2</b> Stargazing</a></li>
</ul></li>
<li class="chapter" data-level="32.4" data-path="ch-entropy.html"><a href="ch-entropy.html#la-misura-del-disordine"><i class="fa fa-check"></i><b>32.4</b> La misura del disordine</a>
<ul>
<li class="chapter" data-level="32.4.1" data-path="ch-entropy.html"><a href="ch-entropy.html#entropia-di-un-singolo-evento"><i class="fa fa-check"></i><b>32.4.1</b> Entropia di un singolo evento</a></li>
<li class="chapter" data-level="32.4.2" data-path="ch-entropy.html"><a href="ch-entropy.html#entropia-di-una-variabile-casuale"><i class="fa fa-check"></i><b>32.4.2</b> Entropia di una variabile casuale</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ch-entropy.html"><a href="ch-entropy.html#commenti-e-considerazioni-finali-25"><i class="fa fa-check"></i>Commenti e considerazioni finali</a></li>
</ul></li>
<li class="chapter" data-level="33" data-path="ch-kl.html"><a href="ch-kl.html"><i class="fa fa-check"></i><b>33</b> La divergenza di Kullback-Leibler</a>
<ul>
<li class="chapter" data-level="33.1" data-path="ch-kl.html"><a href="ch-kl.html#la-perdita-di-informazione"><i class="fa fa-check"></i><b>33.1</b> La perdita di informazione</a></li>
<li class="chapter" data-level="33.2" data-path="ch-kl.html"><a href="ch-kl.html#la-divergenza-dipende-dalla-direzione"><i class="fa fa-check"></i><b>33.2</b> La divergenza dipende dalla direzione</a></li>
<li class="chapter" data-level="33.3" data-path="ch-kl.html"><a href="ch-kl.html#confronto-tra-modelli"><i class="fa fa-check"></i><b>33.3</b> Confronto tra modelli</a></li>
<li class="chapter" data-level="33.4" data-path="ch-kl.html"><a href="ch-kl.html#expected-log-predictive-density"><i class="fa fa-check"></i><b>33.4</b> Expected log predictive density</a>
<ul>
<li class="chapter" data-level="33.4.1" data-path="ch-kl.html"><a href="ch-kl.html#log-pointwise-predictive-density"><i class="fa fa-check"></i><b>33.4.1</b> Log pointwise predictive density</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ch-kl.html"><a href="ch-kl.html#commenti-e-considerazioni-finali-26"><i class="fa fa-check"></i>Commenti e considerazioni finali</a></li>
</ul></li>
<li class="chapter" data-level="34" data-path="ch-info-crit.html"><a href="ch-info-crit.html"><i class="fa fa-check"></i><b>34</b> Criterio di informazione e convalida incrociata</a>
<ul>
<li class="chapter" data-level="34.1" data-path="ch-info-crit.html"><a href="ch-info-crit.html#aic-dic-e-waic"><i class="fa fa-check"></i><b>34.1</b> AIC, DIC e WAIC</a>
<ul>
<li class="chapter" data-level="34.1.1" data-path="ch-info-crit.html"><a href="ch-info-crit.html#criterio-dinformazione-di-akaike"><i class="fa fa-check"></i><b>34.1.1</b> Criterio d’informazione di Akaike</a></li>
</ul></li>
<li class="chapter" data-level="34.2" data-path="ch-info-crit.html"><a href="ch-info-crit.html#convalida-incrociata-k-fold"><i class="fa fa-check"></i><b>34.2</b> Convalida incrociata K-fold</a>
<ul>
<li class="chapter" data-level="34.2.1" data-path="ch-info-crit.html"><a href="ch-info-crit.html#importance-sampling"><i class="fa fa-check"></i><b>34.2.1</b> Importance sampling</a></li>
</ul></li>
<li class="chapter" data-level="34.3" data-path="ch-info-crit.html"><a href="ch-info-crit.html#confronto-tra-aic-e-loo-cv"><i class="fa fa-check"></i><b>34.3</b> Confronto tra AIC e LOO-CV</a></li>
<li class="chapter" data-level="34.4" data-path="ch-info-crit.html"><a href="ch-info-crit.html#confronto-tra-modelli-mediante-loo-cv"><i class="fa fa-check"></i><b>34.4</b> Confronto tra modelli mediante LOO-CV</a></li>
<li class="chapter" data-level="34.5" data-path="ch-info-crit.html"><a href="ch-info-crit.html#outlier"><i class="fa fa-check"></i><b>34.5</b> Outlier</a></li>
<li class="chapter" data-level="34.6" data-path="ch-info-crit.html"><a href="ch-info-crit.html#regolarizzazione"><i class="fa fa-check"></i><b>34.6</b> Regolarizzazione</a></li>
<li class="chapter" data-level="" data-path="ch-info-crit.html"><a href="ch-info-crit.html#commenti-e-considerazioni-finali-27"><i class="fa fa-check"></i>Commenti e considerazioni finali</a></li>
</ul></li>
<li class="part"><span><b>VIII Approccio frequentista all’inferenza statistica</b></span></li>
<li class="chapter" data-level="35" data-path="ch-ttest.html"><a href="ch-ttest.html"><i class="fa fa-check"></i><b>35</b> Inferenza sulla media</a>
<ul>
<li class="chapter" data-level="35.1" data-path="ch-ttest.html"><a href="ch-ttest.html#la-ripetizione-dellesperimento-casuale"><i class="fa fa-check"></i><b>35.1</b> La ripetizione dell’esperimento casuale</a></li>
<li class="chapter" data-level="35.2" data-path="ch-ttest.html"><a href="ch-ttest.html#la-distribuzione-campionaria-della-media"><i class="fa fa-check"></i><b>35.2</b> La distribuzione campionaria della media</a></li>
<li class="chapter" data-level="35.3" data-path="ch-ttest.html"><a href="ch-ttest.html#inferenza-frequentista"><i class="fa fa-check"></i><b>35.3</b> Inferenza frequentista</a>
<ul>
<li class="chapter" data-level="35.3.1" data-path="ch-ttest.html"><a href="ch-ttest.html#il-test-dellipotesi-nulla"><i class="fa fa-check"></i><b>35.3.1</b> Il test dell’ipotesi nulla</a></li>
<li class="chapter" data-level="35.3.2" data-path="ch-ttest.html"><a href="ch-ttest.html#lintervallo-di-fiducia"><i class="fa fa-check"></i><b>35.3.2</b> L’Intervallo di fiducia</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ch-ttest.html"><a href="ch-ttest.html#commenti-e-considerazioni-finali-28"><i class="fa fa-check"></i>Commenti e considerazioni finali</a></li>
</ul></li>
<li class="chapter" data-level="36" data-path="la-crisi-della-replicabilità-dei-risultati-della-ricerca.html"><a href="la-crisi-della-replicabilità-dei-risultati-della-ricerca.html"><i class="fa fa-check"></i><b>36</b> La crisi della replicabilità dei risultati della ricerca</a>
<ul>
<li class="chapter" data-level="36.1" data-path="la-crisi-della-replicabilità-dei-risultati-della-ricerca.html"><a href="la-crisi-della-replicabilità-dei-risultati-della-ricerca.html#che-cosè-un-valore-p"><i class="fa fa-check"></i><b>36.1</b> Che cos’è un valore-<span class="math inline">\(p\)</span>?</a></li>
<li class="chapter" data-level="36.2" data-path="la-crisi-della-replicabilità-dei-risultati-della-ricerca.html"><a href="la-crisi-della-replicabilità-dei-risultati-della-ricerca.html#luso-del-valore-p-nel-mondo-della-ricerca"><i class="fa fa-check"></i><b>36.2</b> L’uso del valore-<span class="math inline">\(p\)</span> nel mondo della ricerca</a></li>
<li class="chapter" data-level="36.3" data-path="la-crisi-della-replicabilità-dei-risultati-della-ricerca.html"><a href="la-crisi-della-replicabilità-dei-risultati-della-ricerca.html#p-hacking"><i class="fa fa-check"></i><b>36.3</b> <span class="math inline">\(P\)</span>-hacking</a></li>
<li class="chapter" data-level="36.4" data-path="la-crisi-della-replicabilità-dei-risultati-della-ricerca.html"><a href="la-crisi-della-replicabilità-dei-risultati-della-ricerca.html#critiche-al-valore-p"><i class="fa fa-check"></i><b>36.4</b> Critiche al valore-<span class="math inline">\(p\)</span></a></li>
<li class="chapter" data-level="36.5" data-path="la-crisi-della-replicabilità-dei-risultati-della-ricerca.html"><a href="la-crisi-della-replicabilità-dei-risultati-della-ricerca.html#leffetto-sperimentale-è-esattamente-nullo"><i class="fa fa-check"></i><b>36.5</b> L’effetto sperimentale è esattamente nullo?</a></li>
<li class="chapter" data-level="36.6" data-path="la-crisi-della-replicabilità-dei-risultati-della-ricerca.html"><a href="la-crisi-della-replicabilità-dei-risultati-della-ricerca.html#simulazione"><i class="fa fa-check"></i><b>36.6</b> Simulazione</a>
<ul>
<li class="chapter" data-level="36.6.1" data-path="la-crisi-della-replicabilità-dei-risultati-della-ricerca.html"><a href="la-crisi-della-replicabilità-dei-risultati-della-ricerca.html#la-dimensione-delleffetto-1"><i class="fa fa-check"></i><b>36.6.1</b> La dimensione dell’effetto</a></li>
<li class="chapter" data-level="36.6.2" data-path="la-crisi-della-replicabilità-dei-risultati-della-ricerca.html"><a href="la-crisi-della-replicabilità-dei-risultati-della-ricerca.html#una-piccola-dimensione-delleffetto-nella-popolazione"><i class="fa fa-check"></i><b>36.6.2</b> Una piccola dimensione dell’effetto nella popolazione</a></li>
<li class="chapter" data-level="36.6.3" data-path="la-crisi-della-replicabilità-dei-risultati-della-ricerca.html"><a href="la-crisi-della-replicabilità-dei-risultati-della-ricerca.html#una-soluzione-sbagliata"><i class="fa fa-check"></i><b>36.6.3</b> Una soluzione (sbagliata)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="37" data-path="bibliografia.html"><a href="bibliografia.html"><i class="fa fa-check"></i><b>37</b> Bibliografia</a></li>
<li class="appendix"><span><b>Appendici</b></span></li>
<li class="chapter" data-level="A" data-path="simbologia-di-base.html"><a href="simbologia-di-base.html"><i class="fa fa-check"></i><b>A</b> Simbologia di base</a></li>
<li class="chapter" data-level="B" data-path="numeri-binari-interi-razionali-irrazionali-e-reali.html"><a href="numeri-binari-interi-razionali-irrazionali-e-reali.html"><i class="fa fa-check"></i><b>B</b> Numeri binari, interi, razionali, irrazionali e reali</a>
<ul>
<li class="chapter" data-level="B.1" data-path="numeri-binari-interi-razionali-irrazionali-e-reali.html"><a href="numeri-binari-interi-razionali-irrazionali-e-reali.html#numeri-binari"><i class="fa fa-check"></i><b>B.1</b> Numeri binari</a></li>
<li class="chapter" data-level="B.2" data-path="numeri-binari-interi-razionali-irrazionali-e-reali.html"><a href="numeri-binari-interi-razionali-irrazionali-e-reali.html#numeri-interi"><i class="fa fa-check"></i><b>B.2</b> Numeri interi</a></li>
<li class="chapter" data-level="B.3" data-path="numeri-binari-interi-razionali-irrazionali-e-reali.html"><a href="numeri-binari-interi-razionali-irrazionali-e-reali.html#numeri-razionali"><i class="fa fa-check"></i><b>B.3</b> Numeri razionali</a></li>
<li class="chapter" data-level="B.4" data-path="numeri-binari-interi-razionali-irrazionali-e-reali.html"><a href="numeri-binari-interi-razionali-irrazionali-e-reali.html#numeri-irrazionali"><i class="fa fa-check"></i><b>B.4</b> Numeri irrazionali</a></li>
<li class="chapter" data-level="B.5" data-path="numeri-binari-interi-razionali-irrazionali-e-reali.html"><a href="numeri-binari-interi-razionali-irrazionali-e-reali.html#numeri-reali"><i class="fa fa-check"></i><b>B.5</b> Numeri reali</a></li>
<li class="chapter" data-level="B.6" data-path="numeri-binari-interi-razionali-irrazionali-e-reali.html"><a href="numeri-binari-interi-razionali-irrazionali-e-reali.html#intervalli"><i class="fa fa-check"></i><b>B.6</b> Intervalli</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="insiemistica.html"><a href="insiemistica.html"><i class="fa fa-check"></i><b>C</b> Insiemi</a>
<ul>
<li class="chapter" data-level="C.1" data-path="insiemistica.html"><a href="insiemistica.html#operazioni-tra-insiemi"><i class="fa fa-check"></i><b>C.1</b> Operazioni tra insiemi</a></li>
<li class="chapter" data-level="C.2" data-path="insiemistica.html"><a href="insiemistica.html#diagrammi-di-eulero-venn"><i class="fa fa-check"></i><b>C.2</b> Diagrammi di Eulero-Venn</a></li>
<li class="chapter" data-level="C.3" data-path="insiemistica.html"><a href="insiemistica.html#coppie-ordinate-e-prodotto-cartesiano"><i class="fa fa-check"></i><b>C.3</b> Coppie ordinate e prodotto cartesiano</a></li>
<li class="chapter" data-level="C.4" data-path="insiemistica.html"><a href="insiemistica.html#cardinalità"><i class="fa fa-check"></i><b>C.4</b> Cardinalità</a></li>
</ul></li>
<li class="chapter" data-level="D" data-path="sommatorie.html"><a href="sommatorie.html"><i class="fa fa-check"></i><b>D</b> Simbolo di somma (sommatorie)</a>
<ul>
<li class="chapter" data-level="D.1" data-path="sommatorie.html"><a href="sommatorie.html#manipolazione-di-somme"><i class="fa fa-check"></i><b>D.1</b> Manipolazione di somme</a>
<ul>
<li class="chapter" data-level="D.1.1" data-path="sommatorie.html"><a href="sommatorie.html#proprietà-1-1"><i class="fa fa-check"></i><b>D.1.1</b> Proprietà 1</a></li>
<li class="chapter" data-level="D.1.2" data-path="sommatorie.html"><a href="sommatorie.html#proprietà-2-proprietà-distributiva"><i class="fa fa-check"></i><b>D.1.2</b> Proprietà 2 (proprietà distributiva)</a></li>
<li class="chapter" data-level="D.1.3" data-path="sommatorie.html"><a href="sommatorie.html#proprietà-3-proprietà-associativa"><i class="fa fa-check"></i><b>D.1.3</b> Proprietà 3 (proprietà associativa)</a></li>
<li class="chapter" data-level="D.1.4" data-path="sommatorie.html"><a href="sommatorie.html#proprietà-4"><i class="fa fa-check"></i><b>D.1.4</b> Proprietà 4</a></li>
<li class="chapter" data-level="D.1.5" data-path="sommatorie.html"><a href="sommatorie.html#proprietà-5"><i class="fa fa-check"></i><b>D.1.5</b> Proprietà 5</a></li>
</ul></li>
<li class="chapter" data-level="D.2" data-path="sommatorie.html"><a href="sommatorie.html#doppia-sommatoria"><i class="fa fa-check"></i><b>D.2</b> Doppia sommatoria</a></li>
<li class="chapter" data-level="D.3" data-path="sommatorie.html"><a href="sommatorie.html#sommatorie-e-produttorie-e-operazioni-vettoriali-in-r"><i class="fa fa-check"></i><b>D.3</b> Sommatorie (e produttorie) e operazioni vettoriali in <code>R</code></a></li>
</ul></li>
<li class="chapter" data-level="E" data-path="appendix:future-exp.html"><a href="appendix:future-exp.html"><i class="fa fa-check"></i><b>E</b> Le aspettative future dei pazienti depressi</a>
<ul>
<li class="chapter" data-level="E.1" data-path="appendix:future-exp.html"><a href="appendix:future-exp.html#app:zet"><i class="fa fa-check"></i><b>E.1</b> La ricerca di <span class="citation">Zetsche, Bürkner, and Renneberg (<span>2019</span>)</span></a></li>
</ul></li>
<li class="chapter" data-level="F" data-path="appendix:beta-binom.html"><a href="appendix:beta-binom.html"><i class="fa fa-check"></i><b>F</b> Modello Beta-binomiale</a>
<ul>
<li class="chapter" data-level="F.1" data-path="appendix:beta-binom.html"><a href="appendix:beta-binom.html#funzione-per-il-modello-beta-binomiale"><i class="fa fa-check"></i><b>F.1</b> Funzione per il modello Beta-binomiale</a></li>
</ul></li>
<li class="chapter" data-level="G" data-path="appendix:const-norm-bino23.html"><a href="appendix:const-norm-bino23.html"><i class="fa fa-check"></i><b>G</b> Verosimiglianza marginale</a>
<ul>
<li class="chapter" data-level="G.1" data-path="appendix:const-norm-bino23.html"><a href="appendix:const-norm-bino23.html#derivazione-analitica-della-costante-di-normalizzazione"><i class="fa fa-check"></i><b>G.1</b> Derivazione analitica della costante di normalizzazione</a></li>
</ul></li>
<li class="chapter" data-level="H" data-path="markov-chains.html"><a href="markov-chains.html"><i class="fa fa-check"></i><b>H</b> Le catene di Markov</a>
<ul>
<li class="chapter" data-level="H.1" data-path="markov-chains.html"><a href="markov-chains.html#simulare-una-catena-di-markov"><i class="fa fa-check"></i><b>H.1</b> Simulare una catena di Markov</a></li>
</ul></li>
<li class="chapter" data-level="I" data-path="regr-ml.html"><a href="regr-ml.html"><i class="fa fa-check"></i><b>I</b> Adattare il modello lineare ai dati</a>
<ul>
<li class="chapter" data-level="I.1" data-path="regr-ml.html"><a href="regr-ml.html#minimi-quadrati"><i class="fa fa-check"></i><b>I.1</b> Minimi quadrati</a>
<ul>
<li class="chapter" data-level="I.1.1" data-path="regr-ml.html"><a href="regr-ml.html#stima-della-deviazione-standard-dei-residui-sigma"><i class="fa fa-check"></i><b>I.1.1</b> Stima della deviazione standard dei residui <span class="math inline">\(\sigma\)</span></a></li>
</ul></li>
<li class="chapter" data-level="I.2" data-path="regr-ml.html"><a href="regr-ml.html#calcolare-la-somma-dei-quadrati"><i class="fa fa-check"></i><b>I.2</b> Calcolare la somma dei quadrati</a></li>
<li class="chapter" data-level="" data-path="regr-ml.html"><a href="regr-ml.html#commenti-e-considerazioni-finali-29"><i class="fa fa-check"></i>Commenti e considerazioni finali</a></li>
</ul></li>
<li class="chapter" data-level="J" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html"><i class="fa fa-check"></i><b>J</b> Introduzione al linguaggio R</a>
<ul>
<li class="chapter" data-level="J.1" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#prerequisiti"><i class="fa fa-check"></i><b>J.1</b> Prerequisiti</a>
<ul>
<li class="chapter" data-level="J.1.1" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#installare-r-e-rstudio"><i class="fa fa-check"></i><b>J.1.1</b> Installare R e RStudio</a></li>
<li class="chapter" data-level="J.1.2" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#utilizzare-rstudio-per-semplificare-il-lavoro"><i class="fa fa-check"></i><b>J.1.2</b> Utilizzare RStudio per semplificare il lavoro</a></li>
<li class="chapter" data-level="J.1.3" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#eseguire-il-codice"><i class="fa fa-check"></i><b>J.1.3</b> Eseguire il codice</a></li>
</ul></li>
<li class="chapter" data-level="J.2" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#installare-cmdstan"><i class="fa fa-check"></i><b>J.2</b> Installare <code>cmdstan</code></a></li>
<li class="chapter" data-level="J.3" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#chapter-sintassi"><i class="fa fa-check"></i><b>J.3</b> Sintassi di base</a>
<ul>
<li class="chapter" data-level="J.3.1" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#utilizzare-la-console-mathsfr-come-calcolatrice"><i class="fa fa-check"></i><b>J.3.1</b> Utilizzare la console <span class="math inline">\(\mathsf{R}\)</span> come calcolatrice</a></li>
<li class="chapter" data-level="J.3.2" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#espressioni"><i class="fa fa-check"></i><b>J.3.2</b> Espressioni</a></li>
<li class="chapter" data-level="J.3.3" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#oggetti"><i class="fa fa-check"></i><b>J.3.3</b> Oggetti</a></li>
<li class="chapter" data-level="J.3.4" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#variabili"><i class="fa fa-check"></i><b>J.3.4</b> Variabili</a></li>
<li class="chapter" data-level="J.3.5" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#r-console"><i class="fa fa-check"></i><b>J.3.5</b> R console</a></li>
<li class="chapter" data-level="J.3.6" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#parentesi"><i class="fa fa-check"></i><b>J.3.6</b> Parentesi</a></li>
<li class="chapter" data-level="J.3.7" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#i-nomi-degli-oggetti"><i class="fa fa-check"></i><b>J.3.7</b> I nomi degli oggetti</a></li>
<li class="chapter" data-level="J.3.8" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#permanenza-dei-dati-e-rimozione-di-oggetti"><i class="fa fa-check"></i><b>J.3.8</b> Permanenza dei dati e rimozione di oggetti</a></li>
<li class="chapter" data-level="J.3.9" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#chiudere-r"><i class="fa fa-check"></i><b>J.3.9</b> Chiudere R</a></li>
<li class="chapter" data-level="J.3.10" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#creare-ed-eseguire-uno-script-r-con-un-editore"><i class="fa fa-check"></i><b>J.3.10</b> Creare ed eseguire uno script R con un editore</a></li>
<li class="chapter" data-level="J.3.11" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#commentare-il-codice"><i class="fa fa-check"></i><b>J.3.11</b> Commentare il codice</a></li>
<li class="chapter" data-level="J.3.12" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#cambiare-la-cartella-di-lavoro"><i class="fa fa-check"></i><b>J.3.12</b> Cambiare la cartella di lavoro</a></li>
<li class="chapter" data-level="J.3.13" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#loggetto-base-di-r-il-vettore"><i class="fa fa-check"></i><b>J.3.13</b> L’oggetto base di R: il vettore</a></li>
<li class="chapter" data-level="J.3.14" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#operazioni-vettorializzate"><i class="fa fa-check"></i><b>J.3.14</b> Operazioni vettorializzate</a></li>
<li class="chapter" data-level="J.3.15" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#vettori-aritmetici"><i class="fa fa-check"></i><b>J.3.15</b> Vettori aritmetici</a></li>
<li class="chapter" data-level="J.3.16" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#generazione-di-sequenze-regolari"><i class="fa fa-check"></i><b>J.3.16</b> Generazione di sequenze regolari</a></li>
<li class="chapter" data-level="J.3.17" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#generazione-di-numeri-casuali"><i class="fa fa-check"></i><b>J.3.17</b> Generazione di numeri casuali</a></li>
<li class="chapter" data-level="J.3.18" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#vettori-logici"><i class="fa fa-check"></i><b>J.3.18</b> Vettori logici</a></li>
<li class="chapter" data-level="J.3.19" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#dati-mancanti"><i class="fa fa-check"></i><b>J.3.19</b> Dati mancanti</a></li>
<li class="chapter" data-level="J.3.20" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#vettori-di-caratteri-e-fattori"><i class="fa fa-check"></i><b>J.3.20</b> Vettori di caratteri e fattori</a></li>
<li class="chapter" data-level="J.3.21" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#funzioni-1"><i class="fa fa-check"></i><b>J.3.21</b> Funzioni</a></li>
<li class="chapter" data-level="J.3.22" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#scrivere-proprie-funzioni"><i class="fa fa-check"></i><b>J.3.22</b> Scrivere proprie funzioni</a></li>
<li class="chapter" data-level="J.3.23" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#pacchetti"><i class="fa fa-check"></i><b>J.3.23</b> Pacchetti</a></li>
<li class="chapter" data-level="J.3.24" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#istallazione-e-upgrade-dei-pacchetti"><i class="fa fa-check"></i><b>J.3.24</b> Istallazione e upgrade dei pacchetti</a></li>
<li class="chapter" data-level="J.3.25" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#caricare-un-pacchetto-in-r"><i class="fa fa-check"></i><b>J.3.25</b> Caricare un pacchetto in R</a></li>
</ul></li>
<li class="chapter" data-level="J.4" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#chapter-strutture-dati"><i class="fa fa-check"></i><b>J.4</b> Strutture di dati</a>
<ul>
<li class="chapter" data-level="J.4.1" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#classi-e-modi-degli-oggetti"><i class="fa fa-check"></i><b>J.4.1</b> Classi e modi degli oggetti</a></li>
<li class="chapter" data-level="J.4.2" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#vettori"><i class="fa fa-check"></i><b>J.4.2</b> Vettori</a></li>
<li class="chapter" data-level="J.4.3" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#matrici"><i class="fa fa-check"></i><b>J.4.3</b> Matrici</a></li>
<li class="chapter" data-level="J.4.4" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#array"><i class="fa fa-check"></i><b>J.4.4</b> Array</a></li>
<li class="chapter" data-level="J.4.5" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#operazioni-aritmetiche-su-vettori-matrici-e-array"><i class="fa fa-check"></i><b>J.4.5</b> Operazioni aritmetiche su vettori, matrici e array</a></li>
<li class="chapter" data-level="J.4.6" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#liste"><i class="fa fa-check"></i><b>J.4.6</b> Liste</a></li>
<li class="chapter" data-level="J.4.7" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#data-frame"><i class="fa fa-check"></i><b>J.4.7</b> Data frame</a></li>
<li class="chapter" data-level="J.4.8" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#giochi-di-carte"><i class="fa fa-check"></i><b>J.4.8</b> Giochi di carte</a></li>
<li class="chapter" data-level="J.4.9" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#variabili-locali"><i class="fa fa-check"></i><b>J.4.9</b> Variabili locali</a></li>
</ul></li>
<li class="chapter" data-level="J.5" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#chapter-strut-contr"><i class="fa fa-check"></i><b>J.5</b> Strutture di controllo</a>
<ul>
<li class="chapter" data-level="J.5.1" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#il-ciclo-for"><i class="fa fa-check"></i><b>J.5.1</b> Il ciclo <code>for</code></a></li>
</ul></li>
<li class="chapter" data-level="J.6" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#chapter-input-output"><i class="fa fa-check"></i><b>J.6</b> Input/Output</a>
<ul>
<li class="chapter" data-level="J.6.1" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#la-funzione-read.table"><i class="fa fa-check"></i><b>J.6.1</b> La funzione <code>read.table()</code></a></li>
<li class="chapter" data-level="J.6.2" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#file-di-dati-forniti-da-r"><i class="fa fa-check"></i><b>J.6.2</b> File di dati forniti da R</a></li>
<li class="chapter" data-level="J.6.3" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#esportazione-di-un-file"><i class="fa fa-check"></i><b>J.6.3</b> Esportazione di un file</a></li>
<li class="chapter" data-level="J.6.4" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#pacchetto-rio"><i class="fa fa-check"></i><b>J.6.4</b> Pacchetto <code>rio</code></a></li>
<li class="chapter" data-level="J.6.5" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#dove-sono-i-miei-file"><i class="fa fa-check"></i><b>J.6.5</b> Dove sono i miei file?</a></li>
</ul></li>
<li class="chapter" data-level="J.7" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#manipolazione-dei-dati"><i class="fa fa-check"></i><b>J.7</b> Manipolazione dei dati</a>
<ul>
<li class="chapter" data-level="J.7.1" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#motivazione"><i class="fa fa-check"></i><b>J.7.1</b> Motivazione</a></li>
<li class="chapter" data-level="J.7.2" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#trattamento-dei-dati-con-dplyr"><i class="fa fa-check"></i><b>J.7.2</b> Trattamento dei dati con <code>dplyr</code></a></li>
<li class="chapter" data-level="J.7.3" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#dati-categoriali-in-r"><i class="fa fa-check"></i><b>J.7.3</b> Dati categoriali in <code>R</code></a></li>
<li class="chapter" data-level="J.7.4" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#creare-grafici-con-ggplot2"><i class="fa fa-check"></i><b>J.7.4</b> Creare grafici con <code>ggplot2()</code></a></li>
<li class="chapter" data-level="J.7.5" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#diagramma-a-dispersione-1"><i class="fa fa-check"></i><b>J.7.5</b> Diagramma a dispersione</a></li>
<li class="chapter" data-level="J.7.6" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#scrivere-il-codice-r-con-stile"><i class="fa fa-check"></i><b>J.7.6</b> Scrivere il codice <code>R</code> con stile</a></li>
</ul></li>
<li class="chapter" data-level="J.8" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#flusso-di-lavoro-riproducibile"><i class="fa fa-check"></i><b>J.8</b> Flusso di lavoro riproducibile</a>
<ul>
<li class="chapter" data-level="J.8.1" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#la-crisi-della-riproducibilità"><i class="fa fa-check"></i><b>J.8.1</b> La crisi della riproducibilità</a></li>
<li class="chapter" data-level="J.8.2" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#r-markdown"><i class="fa fa-check"></i><b>J.8.2</b> R-markdown</a></li>
<li class="chapter" data-level="J.8.3" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#compilare-la-presentazione-r-markdown"><i class="fa fa-check"></i><b>J.8.3</b> Compilare la presentazione R-markdown</a></li>
</ul></li>
<li class="chapter" data-level="J.9" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#dati-mancanti-1"><i class="fa fa-check"></i><b>J.9</b> Dati mancanti</a>
<ul>
<li class="chapter" data-level="J.9.1" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#motivazione-1"><i class="fa fa-check"></i><b>J.9.1</b> Motivazione</a></li>
<li class="chapter" data-level="J.9.2" data-path="introduzione-al-linguaggio-r.html"><a href="introduzione-al-linguaggio-r.html#trattamento-dei-dati-mancanti"><i class="fa fa-check"></i><b>J.9.2</b> Trattamento dei dati mancanti</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science per psicologi</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introduzione-al-linguaggio-r" class="section level1 hasAnchor" number="47">
<h1><span class="header-section-number">Appendice J</span> Introduzione al linguaggio R<a href="introduzione-al-linguaggio-r.html#introduzione-al-linguaggio-r" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>In questa sezione della dispensa saranno presentate le caratteristiche di base e la filosofia dell’ambiente <span class="math inline">\(\mathsf{R}\)</span>, passando poi a illustrare le strutture dati e le principali strutture di controllo. Verranno introdotte alcune funzioni utili per la gestione dei dati e verranno forniti i rudimenti per realizzare semplici funzioni. Verranno introdotti i tipi di file editabili in RStudio (script, markdown, …). Nello specifico, dopo aver accennato alcune caratteristiche del sistema <code>tidyverse</code>, verranno illustrate le principali funzionalità dell’IDE RStudio e dei pacchetti <code>dplyr</code> e <code>ggplot2</code>. Sul web sono disponibili tantissime introduzioni all’uso di <span class="math inline">\(\mathsf{R}\)</span> come, ad esempio, <a href="https://rstudio-education.github.io/hopr/">Hands-On Programming with R</a>, <a href="https://r4ds.had.co.nz">R for Data Science</a>, <a href="https://bookdown.org/hneth/ds4psy/">Data Science for Psychologists</a>, e <a href="https://bookdown.org/hneth/i2ds/">Introduction to Data Science</a>.</p>
<div id="prerequisiti" class="section level2 hasAnchor" number="47.1">
<h2><span class="header-section-number">J.1</span> Prerequisiti<a href="introduzione-al-linguaggio-r.html#prerequisiti" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Al fine di utilizzare <span class="math inline">\(\mathsf{R}\)</span> è necessario eseguire le seguenti tre operazioni
nell’ordine dato:</p>
<ol style="list-style-type: decimal">
<li>Installare <span class="math inline">\(\mathsf{R}\)</span>;</li>
<li>Installare RStudio;</li>
<li>Installare R-Packages (se necessario).</li>
</ol>
<p>Di seguito viene descritto come installare <span class="math inline">\(\mathsf{R}\)</span> e RStudio.</p>
<div id="installare-r-e-rstudio" class="section level3 hasAnchor" number="47.1.1">
<h3><span class="header-section-number">J.1.1</span> Installare R e RStudio<a href="introduzione-al-linguaggio-r.html#installare-r-e-rstudio" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><span class="math inline">\(\mathsf{R}\)</span> è disponibile gratuitamente ed è scaricabile dal sito
<a href="http://www.rproject.org/" class="uri">http://www.rproject.org/</a>. Dalla pagina principale del sito
<code>r-project.org</code> andiamo sulla sezione <code>Download</code> e scegliamo un server a
piacimento per scaricare il software d’installazione. Una volta
scaricato l’installer, lo installiamo come un qualsiasi software,
cliccando due volte sul file d’istallazione. Esistono versioni di <span class="math inline">\(\mathsf{R}\)</span> per
tutti i più diffusi sistemi operativi (Windows, Mac OS X e Linux).</p>
<p>Il R Core Development Team lavora continuamente per migliorare le
prestazioni di <span class="math inline">\(\mathsf{R}\)</span>, per correggere errori e per consentire l’uso di con
nuove tecnologie. Di conseguenza, periodicamente vengono rilasciate
nuove versioni di <span class="math inline">\(\mathsf{R}\)</span>. Informazioni a questo proposito sono fornite sulla
pagina web <a href="https://www.r-project.org/" class="uri">https://www.r-project.org/</a>. Per installare una nuova
versione di <span class="math inline">\(\mathsf{R}\)</span> si segue la stessa procedura che è stata seguita per la
prima installazione.</p>
<p>Insieme al software si possono scaricare dal sito principale sia manuali d’uso che numerose dispense per approfondire diversi aspetti di <span class="math inline">\(\mathsf{R}\)</span>. In particolare, nel sito <a href="http://cran.r-project.org/other-docs.html" class="uri">http://cran.r-project.org/other-docs.html</a> si possono trovare anche numerose dispense in italiano (sezione “Other languages”).</p>
<p>Dopo avere installato <span class="math inline">\(\mathsf{R}\)</span> è opportuno installare anche RStudio. RStudio si
può scaricare da <a href="https://www.rstudio.com/" class="uri">https://www.rstudio.com/</a>. Anche RStudio è disponibile
per tutti i più diffusi sistemi operativi.</p>
</div>
<div id="utilizzare-rstudio-per-semplificare-il-lavoro" class="section level3 hasAnchor" number="47.1.2">
<h3><span class="header-section-number">J.1.2</span> Utilizzare RStudio per semplificare il lavoro<a href="introduzione-al-linguaggio-r.html#utilizzare-rstudio-per-semplificare-il-lavoro" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Possiamo pensare ad <span class="math inline">\(\mathsf{R}\)</span> come al motore di un automobile e a RStudio come
al cruscotto di un automobile. Più precisamente, <span class="math inline">\(\mathsf{R}\)</span> è un linguaggio di
programmazione che esegue calcoli mentre RStudio è un ambiente di
sviluppo integrato (IDE) che fornisce un’interfaccia grafica aggiungendo
una serie di strumenti che facilitano la fase di sviluppo e di
esecuzione del codice. Utilizzeremo dunque <span class="math inline">\(\mathsf{R}\)</span> mediante RStudio. In altre
parole,</p>
<p><strong>non aprite</strong></p>
<p><img src="images/Rlogo.png" style="width:15.0%" /></p>
<p><strong>aprite invece</strong></p>
<p><img src="images/RStudio-Logo-Blue-Gradient.png" style="width:30.0%" /></p>
<p>L’ambiente di lavoro di RStudio è costituito da quattro finestre: la finestra del codice (scrivere-eseguire script), la finestra della console (riga di comando -
output), la finestra degli oggetti (elenco oggetti-cronologia dei
comandi) e la finestra dei pacchetti-dei grafici-dell’aiuto in linea.</p>
<div class="figure">
<img src="images/rstudio_pics.png" id="fig:rstudio_pics" style="width:100.0%" alt="" />
<p class="caption">La console di RStudio.</p>
</div>
</div>
<div id="eseguire-il-codice" class="section level3 hasAnchor" number="47.1.3">
<h3><span class="header-section-number">J.1.3</span> Eseguire il codice<a href="introduzione-al-linguaggio-r.html#eseguire-il-codice" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Mediante il menu a tendina di RStudio, scegliendo il percorso</p>
<pre><code>File &gt; New File &gt; R Notebook</code></pre>
<p>oppure</p>
<pre><code>File &gt; New File &gt; R Script</code></pre>
<p>l’utente può aprire nella finestra del codice (in alto a destra) un <span class="math inline">\(\mathsf{R}\)</span> Notebook o un <span class="math inline">\(\mathsf{R}\)</span> script dove inserire le istruzioni da eseguire.</p>
<p>In un <span class="math inline">\(\mathsf{R}\)</span> script, un blocco di codice viene eseguito selezionando un
insieme di righe di istruzioni e digitando la sequenza di tasti
<code>Command</code> + <code>Invio</code> sul Mac, oppure <code>Control</code> + <code>Invio</code> su Windows. In
un R Notebook, un blocco di codice viene eseguito schiacciando il
bottone con l’icona <span class="math inline">\(\color{red}\blacktriangleright\)</span> (“Run current
chunk”) posizionata a destra rispetto al codice.</p>
</div>
</div>
<div id="installare-cmdstan" class="section level2 hasAnchor" number="47.2">
<h2><span class="header-section-number">J.2</span> Installare <code>cmdstan</code><a href="introduzione-al-linguaggio-r.html#installare-cmdstan" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>È possibile installare <code>cmdstan</code> in almento tre modi. Per informazioni dettagliate, si vedano le istruzioni <a href="https://mc-stan.org/docs/2_28/cmdstan-guide/cmdstan-installation.html">CmdStan Installation</a>.</p>
<p>Prima di installare <code>cmdstan</code>, tre raccomandazioni generali:</p>
<ul>
<li>usare la versione più recente del sistema operativo;</li>
<li>usare la versione più recente di RStudio;</li>
<li>usare la versione più recente di <span class="math inline">\(\mathsf{R}\)</span>.</li>
</ul>
<p>Se i tre vincoli precedenti sono soddisfatti, l’installazione di <code>cmdstan</code> dovrebbe procedere senza intoppi. Altrimenti si possono creare dei problemi di non facile soluzione.</p>
<p>Il modo più semplice per installare <code>cmdstan</code> è quello di installare prima <a href="https://mc-stan.org/cmdstanr/">cmdstanr</a> per poi utilizzare le funzionalità di quel pacchetto per l’installazione di <code>cmdstan</code>.</p>
<p>Un secondo metodo (che è quello che io uso normalmente) è quello di installare dal sorgente, seguendo le istruzioni riportante su <a href="https://mc-stan.org/docs/2_28/cmdstan-guide/cmdstan-installation.html">CmdStan Installation</a>.</p>
<p>Un terzo metodo (che richiede una minima comprensione delle funzionalità della shell e di Python) richiede, avendo prima installato <a href="https://www.anaconda.com/products/individual">Anaconda</a>, di digitare sulla console del proprio computer (la shell) le seguenti istruzioni:</p>
<pre><code>conda create -n stan-env -c conda-forge cmdstan
conda activate stan-env</code></pre>
<p>Su <code>macos</code>, prima di installare <code>cmdstan</code>, è necessario installare la versione più recente di Xcode. Dopo avere installato Xcode, aprire la app. Verrà chiesto all’utente se si vogliono istallare delle componenti aggiuntive. Questo passaggio è cruciale, perché senza queste componenti aggiuntive <code>cmdstan</code> non funzionerà. Dopo avere installato le componenti aggiuntive, aprire Xcode e, in caso, accettare i termini della licenza. A quel punto si può chiudere Xcode. Ogni volta che Xcode viene aggiornato (deve sempre essere aggiornato quando un aggiornamento è disponibile), queste operazioni vanno ripetute.</p>

</div>
<div id="chapter-sintassi" class="section level2 hasAnchor" number="47.3">
<h2><span class="header-section-number">J.3</span> Sintassi di base<a href="introduzione-al-linguaggio-r.html#chapter-sintassi" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><span class="math inline">\(\mathsf{R}\)</span> è un linguaggio di programmazione orientato all’analisi dei dati, il
calcolo e la visualizzazione grafica. È disponibile su Internet una
vasta gamma di materiali utile per avvicinarsi all’ambiente <span class="math inline">\(\mathsf{R}\)</span> e aiutare
l’utente nell’apprendimento di questo software statistico. Cercheremo
qui di fornire alcune indicazioni e una breve descrizione delle risorse
di base di <span class="math inline">\(\mathsf{R}\)</span>.</p>
<p>Aggiungo qui sotto alcune considerazioni che ho preso, pari pari, da un testo che tratta di un altro linguaggio di programmazione, ma che si applicano perfettamente anche al caso nostro. <em>“Come in ogni linguaggio, per parlare in R è necessario seguire un insieme di regole. Come in tutti i linguaggi di programmazione, queste regole sono del tutto inflessibili e inderogabili. In R, un enunciato o è sintatticamente corretto o è incomprensibile all’interprete, che lo segnalerà all’utente. Questo aspetto non è esattamente amichevole per chi non è abituato ai linguaggi di programmazione, e si trova così costretto ad una precisione di scrittura decisamente poco”analogica”. Tuttavia, ci sono due aspetti positivi nello scrivere codice, interrelati tra loro. Il primo è lo sforzo analitico necessario, che allena ad un’analisi precisa del problema che si vuole risolvere in modo da poterlo formalizzare linguisticamente. Il secondo concerne una forma di autoconsapevolezza specifica: salvo “bachi” nel linguaggio (rarissimi sebbene possibili), il mantra del programmatore è “Se qualcosa non ti funziona, è colpa tua”</em> (testo adattato da Andrea Valle).</p>
<p>A chi preferisce un approccio più “giocoso” posso suggerire il seguente <a href="https://tinystats.github.io/teacups-giraffes-and-statistics/01_introToR.html">link</a>.</p>
<div id="utilizzare-la-console-mathsfr-come-calcolatrice" class="section level3 hasAnchor" number="47.3.1">
<h3><span class="header-section-number">J.3.1</span> Utilizzare la console <span class="math inline">\(\mathsf{R}\)</span> come calcolatrice<a href="introduzione-al-linguaggio-r.html#utilizzare-la-console-mathsfr-come-calcolatrice" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>La console di RStudio contiene un cursore rappresentato dal simbolo “&gt;”
(linea di comando) dove si possono inserire i comandi e le funzioni –
in realtà è sempre meglio utilizzare un <span class="math inline">\(\mathsf{R}\)</span> Notebook anziché la console,
ma per ora esaminiamo il funzionamento di quest’ultima.</p>
<p>La console di RStudio può essere utilizzata come semplice calcolatrice.
I comandi elementari consistono di espressioni o di assegnazioni. Le
operazioni aritmetiche vengono eseguite mediante simboli “standard:” +,
*, -, /, <code>sqrt()</code>, <code>log()</code>, <code>exp()</code>, …</p>
<p>I comandi sono separati da un carattere di nuova linea (si immette un
carattere di nuova linea digitando il tasto <code>Invio</code>). Se un comando non
è completo alla fine della linea, <span class="math inline">\(\mathsf{R}\)</span> darà un prompt differente che per
default è il carattere <code>+</code> sulla linea seguente e continuerà a leggere
l’input finché il comando non è sintatticamente completo. Ad esempio,</p>
<div class="sourceCode" id="cb567"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb567-1"><a href="introduzione-al-linguaggio-r.html#cb567-1" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="sc">-</span></span>
<span id="cb567-2"><a href="introduzione-al-linguaggio-r.html#cb567-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span> </span>
<span id="cb567-3"><a href="introduzione-al-linguaggio-r.html#cb567-3" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb567-4"><a href="introduzione-al-linguaggio-r.html#cb567-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 3</span></span></code></pre></div>
<p><span class="math inline">\(\mathsf{R}\)</span> è un ambiente interattivo, ossia i comandi producono una risposta immediata. Se scriviamo <code>2 + 2</code> e premiamo il tasto di invio, comparirà nella riga successiva il risultato:</p>
<div class="sourceCode" id="cb568"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb568-1"><a href="introduzione-al-linguaggio-r.html#cb568-1" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="sc">+</span> <span class="dv">2</span></span>
<span id="cb568-2"><a href="introduzione-al-linguaggio-r.html#cb568-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 4</span></span></code></pre></div>
<p>Il risultato è preceduto da <code>[1]</code>, il che significa che il risultato dell’operazione che abbiamo appena eseguito è il primo valore di questa linea. Alcune funzioni ritornano più di un singolo numero e, in quel caso, l’informazione fornita da <span class="math inline">\(\mathsf{R}\)</span> è più utile. Per esempio, l’istruzione <code>100:130</code> ritorna <span class="math inline">\(31\)</span> valori, ovvero i numeri da <span class="math inline">\(100\)</span> a <span class="math inline">\(130\)</span>:</p>
<div class="sourceCode" id="cb569"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb569-1"><a href="introduzione-al-linguaggio-r.html#cb569-1" aria-hidden="true" tabindex="-1"></a><span class="dv">100</span><span class="sc">:</span><span class="dv">130</span></span>
<span id="cb569-2"><a href="introduzione-al-linguaggio-r.html#cb569-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118</span></span>
<span id="cb569-3"><a href="introduzione-al-linguaggio-r.html#cb569-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [20] 119 120 121 122 123 124 125 126 127 128 129 130</span></span></code></pre></div>
<p>In questo caso, sul mio computer, <code>[24]</code> indica che il valore <span class="math inline">\(123\)</span> è il ventiquattresimo numero che è stato stampato sulla console – su un altro computer le cose possono essere diverse in quanto il risultato, credo, dipende dalla grandezza dello schermo.</p>
</div>
<div id="espressioni" class="section level3 hasAnchor" number="47.3.2">
<h3><span class="header-section-number">J.3.2</span> Espressioni<a href="introduzione-al-linguaggio-r.html#espressioni" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In questo corso, cercheremo di evitare i numeri nei nomi R, così come le lettere maiuscole e .. Useremo quindi nomi come: my_data, anova_results, square_root, ecc.</p>
<p>Un’espressione in <span class="math inline">\(\mathsf{R}\)</span> è un enunciato finito e autonomo del linguaggio: una frase conclusa, si potrebbe dire. Si noti che le espressioni in <span class="math inline">\(\mathsf{R}\)</span> non sono delimitate dal <code>;</code> come succede in alcuni linguaggi di programmazione. L’ordine delle espressioni è l’ordine di esecuzione delle stesse.</p>
<p>L’a capo non è rilevante per <span class="math inline">\(\mathsf{R}\)</span>. Questo permette di utilizzare l’a capo per migliorare la leggibilità del codice.</p>
</div>
<div id="oggetti" class="section level3 hasAnchor" number="47.3.3">
<h3><span class="header-section-number">J.3.3</span> Oggetti<a href="introduzione-al-linguaggio-r.html#oggetti" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><span class="math inline">\(\mathsf{R}\)</span> è un linguaggio di programmazione a oggetti, quindi si basa sulla creazione di oggetti e sulla possibilità di salvarli nella memoria del programma. <span class="math inline">\(\mathsf{R}\)</span> distingue tra maiuscole e minuscole come la maggior parte dei linguaggi basati su UNIX, quindi <code>A</code> e <code>a</code> sono nomi diversi e fanno riferimento a oggetti diversi.</p>
<p>I comandi elementari di <span class="math inline">\(\mathsf{R}\)</span> consistono in espressioni o assegnazioni.</p>
<p>Se un’espressione viene fornita come comando, viene valutata, stampata sullo schermo e il valore viene perso, come succedeva alle operazioni aritmetiche che abbiamo presentato sopra discutendo l’uso della console <span class="math inline">\(\mathsf{R}\)</span> come calcolatrice.</p>
<p>Un’assegnazione crea un oggetto oppure valuta un’espressione e passa il valore a un oggetto, ma il risultato non viene stampato automaticamente sullo schermo. Per l’operazione di assegnazione si usa il simbolo <code>&lt;-</code>. Ad esempio, per creare un oggetto che contiene il risultato dell’operazione <code>2 + 2</code> procediamo nel modo seguente:</p>
<div class="sourceCode" id="cb570"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb570-1"><a href="introduzione-al-linguaggio-r.html#cb570-1" aria-hidden="true" tabindex="-1"></a>res_sum <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">+</span> <span class="dv">2</span></span>
<span id="cb570-2"><a href="introduzione-al-linguaggio-r.html#cb570-2" aria-hidden="true" tabindex="-1"></a>res_sum</span>
<span id="cb570-3"><a href="introduzione-al-linguaggio-r.html#cb570-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 4</span></span></code></pre></div>
<p>L’operazione di assegnazione (<code>&lt;-</code>) copia il contenuto dell’operando destro (detto <code>r-value</code>) nell’operando sinistro detto (<code>l-value</code>). Il valore dell’espressione assegnazione è <code>r-value</code>. Nell’esempio precedente, <code>res_sum</code> (<code>l-value</code>) assume il valore di <span class="math inline">\(4\)</span>.</p>
</div>
<div id="variabili" class="section level3 hasAnchor" number="47.3.4">
<h3><span class="header-section-number">J.3.4</span> Variabili<a href="introduzione-al-linguaggio-r.html#variabili" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>L’oggetto <code>res_sum</code> è una <em>variabile</em>. Una spiegazione di ciò che questo significa è riportata qui sotto. <em>“Una variabile è un segnaposto. Tutte le volte che si memorizza un dato lo si assegna ad una variabile. Infatti, se il dato è nella memoria, per potervi accedere, è necessario conoscere il suo indirizzo, la sua “etichetta” (come in un grande magazzino in cui si va a cercare un oggetto in base alla sua collocazione). Se il dato è memorizzato ma inaccessibile (come nel caso di un oggetto sperso in un magazzino), allora non si può usare ed è soltanto uno spreco di spazio. La teoria delle variabili è un ambito molto complesso nella scienza della computazione. Ad esempio, una aspetto importante può concernere la tipizzazione delle variabili. Nei linguaggi “tipizzati” (ad esempio C), l’utente dichiara che userà quella etichetta (la variabile) per contenere solo ed esclusivamente un certo tipo di oggetto (ad esempio, un numero intero), e la variabile non potrà essere utilizzata per oggetti diversi (ad esempio, una stringa). In questo caso, prima di usare una variabile se ne dichiara l’esistenza e se ne specifica il tipo. I linguaggi non tipizzati non richiedono all’utente di specificare il tipo, che viene inferito in vario modo (ad esempio, in funzione dell’assegnazione del valore alla variabile). Alcuni linguaggi (ad esempio Python) non richiedono neppure la dichiarazione della variabile, che viene semplicemente usata. È l’interprete che inferisce che quella stringa è una variabile. La tipizzazione impone vincoli d’uso sulle variabili e maggiore scrittura del codice, ma assicura una chiara organizzazione dei dati. In assenza di tipizzazione, si lavora in maniera più rapida e snella, ma potenzialmente si può andare incontro a situazioni complicate, come quando si cambia il tipo di una variabile “in corsa” senza accorgersene” (Andrea Valle).</em></p>
<p><span class="math inline">\(\mathsf{R}\)</span> è un linguaggio non tipicizzato, come Python. In <span class="math inline">\(\mathsf{R}\)</span> non è necessario dichiarare le variabili che si intendono utilizzare, né il loro tipo.</p>
</div>
<div id="r-console" class="section level3 hasAnchor" number="47.3.5">
<h3><span class="header-section-number">J.3.5</span> R console<a href="introduzione-al-linguaggio-r.html#r-console" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>La console di RStudio fornisce la possibilità di richiamare e rieseguire
i comandi. I tasti freccia verticale, <span class="math inline">\(\uparrow\)</span> e <span class="math inline">\(\downarrow\)</span>, sulla
tastiera possono essere utilizzati per scorrere avanti e indietro i
comandi già immessi. Appena trovato il comando che interessa, lo si può
modificare, ad esempio, con i tasti freccia orizzontali, immettendo
nuovi caratteri o cancellandone altri.</p>
<p>Se viene digitato un comando che <span class="math inline">\(\mathsf{R}\)</span> non riconosce, sulla console viene visualizzato un messaggio di errore; ad esempio,</p>
<div class="sourceCode" id="cb571"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb571-1"><a href="introduzione-al-linguaggio-r.html#cb571-1" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> % <span class="dv">9</span></span>
<span id="cb571-2"><a href="introduzione-al-linguaggio-r.html#cb571-2" aria-hidden="true" tabindex="-1"></a>Errore<span class="sc">:</span> unexpected input <span class="cf">in</span> <span class="st">&quot;3 % 9&quot;</span></span></code></pre></div>
</div>
<div id="parentesi" class="section level3 hasAnchor" number="47.3.6">
<h3><span class="header-section-number">J.3.6</span> Parentesi<a href="introduzione-al-linguaggio-r.html#parentesi" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Le parentesi in <span class="math inline">\(\mathsf{R}\)</span> (come in generale in ogni linguaggio di programmazione) assegnano un significato diverso alle porzioni di codice che delimitano.</p>
<ul>
<li>Le parentesi tonde funzionano come nell’algebra. Per esempio</li>
</ul>
<div class="sourceCode" id="cb572"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb572-1"><a href="introduzione-al-linguaggio-r.html#cb572-1" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="sc">+</span> <span class="dv">3</span> <span class="sc">*</span> <span class="dv">4</span></span>
<span id="cb572-2"><a href="introduzione-al-linguaggio-r.html#cb572-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 14</span></span></code></pre></div>
<p>non è equivalente a</p>
<div class="sourceCode" id="cb573"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb573-1"><a href="introduzione-al-linguaggio-r.html#cb573-1" aria-hidden="true" tabindex="-1"></a>(<span class="dv">2</span> <span class="sc">+</span> <span class="dv">3</span>) <span class="sc">*</span> <span class="dv">4</span></span>
<span id="cb573-2"><a href="introduzione-al-linguaggio-r.html#cb573-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 20</span></span></code></pre></div>
<p>Le due istruzioni precedenti producono risultati diversi perché, se
la sequenza delle operazioni algebriche non viene specificata dalle
parentesi, <span class="math inline">\(\mathsf{R}\)</span> assegna alle operazioni algebriche il seguente ordine
di priorità decrescente: esponenziazione, moltiplicazione /
divisione, addizione / sottrazione, confronti logici
(<code>&lt;, &gt;, &lt;=, &gt;=, ==, !=</code>). È sempre una buona idea rendere esplicito
l’ordine delle operazioni algebriche che si vuole eseguire mediante
l’uso delle parentesi tonde.<br />
Le parentesi tonde vengono anche utilizzate per le funzioni, come
vedremo nei prossimi paragrafi. Tra le parentesi tonde avremo dunque
l’oggetto a cui vogliamo applicare la funzione e gli argomenti
passati alla funzione.</p>
<ul>
<li><p>Le parentesi graffe sono destinate alla programmazione. Un blocco
tra le parentesi graffe viene letto come un oggetto unico che può
contenere una o più istruzioni.</p></li>
<li><p>Le parentesi quadre vengono utilizzate per selezionare degli
elementi, per esempio all’interno di un vettore, o di una matrice, o
di un data.frame. L’argomento entro le parentesi quadre può essere
generato da espressioni logiche.</p></li>
</ul>
</div>
<div id="i-nomi-degli-oggetti" class="section level3 hasAnchor" number="47.3.7">
<h3><span class="header-section-number">J.3.7</span> I nomi degli oggetti<a href="introduzione-al-linguaggio-r.html#i-nomi-degli-oggetti" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Le entità create e manipolate da <span class="math inline">\(\mathsf{R}\)</span> si chiamano ‘oggetti’. Tali oggetti
possono essere variabili (come nell’esempio che abbiamo visto sopra), array di numeri, caratteri, stringhe, funzioni, o più in generale strutture costruite a partire da tali
componenti. Durante una sessione di R gli oggetti sono creati e
memorizzati attraverso opportuni nomi.</p>
<p>I nomi possono contenere un qualunque carattere alfanumerico e come
carattere speciale il trattino basso (<code>_</code>) o il punto. R fornisce i
seguenti vincoli per i nomi degli oggetti: i nomi degli oggetti non
possono mai iniziare con un carattere numerico e non possono contenere i
seguenti simboli: <code>$</code>, <code>@</code>, <code>!</code>, <code>^</code>, <code>+</code>, <code>-</code>, <code>/</code>, <code>*</code>. È buona
pratica usare nomi come <code>ratio_of_sums</code>. È fortemente sconsigliato
utilizzare nei nomi degli oggetti caratteri accentati o, ancora peggio,
apostrofi. Per questa ragione è sensato creare i nomi degli oggetti
utilizzando la lingua inglese. È anche bene che i nomi degli oggetti non
coincidano con nomi di funzioni. Ricordo nuovamente che <span class="math inline">\(\mathsf{R}\)</span> è <em>case sensitive</em>, cioè
<code>A</code> e <code>a</code> sono due simboli diversi e identificano due oggetti
differenti.</p>
<p>In questo corso cercheremo di evitare i numeri nei nomi degli oggetti <span class="math inline">\(\mathsf{R}\)</span>, così come le lettere maiuscole e il punto. Useremo quindi nomi come: <code>my_data</code>, <code>regression_results</code>, <code>square_root</code>, ecc.</p>
</div>
<div id="permanenza-dei-dati-e-rimozione-di-oggetti" class="section level3 hasAnchor" number="47.3.8">
<h3><span class="header-section-number">J.3.8</span> Permanenza dei dati e rimozione di oggetti<a href="introduzione-al-linguaggio-r.html#permanenza-dei-dati-e-rimozione-di-oggetti" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Gli oggetti vengono salvati nello “spazio di lavoro” (<em>workspace</em>). Il
comando <code>ls()</code> può essere utilizzato per visualizzare i nomi degli
oggetti che sono in quel momento memorizzati in <span class="math inline">\(\mathsf{R}\)</span>.</p>
<p>Per eliminare oggetti dallo spazio di lavoro è disponibile la funzione
<code>rm()</code>; ad esempio</p>
<div class="sourceCode" id="cb574"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb574-1"><a href="introduzione-al-linguaggio-r.html#cb574-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(x, y, z, ink, junk, temp, foo, bar)</span></code></pre></div>
<p>cancella tutti gli oggetti indicati entro parentesi. Per eliminare tutti
gli oggetti presenti nello spazio di lavoro si può utilizzare la
seguente istruzione:</p>
<div class="sourceCode" id="cb575"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb575-1"><a href="introduzione-al-linguaggio-r.html#cb575-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span></code></pre></div>
</div>
<div id="chiudere-r" class="section level3 hasAnchor" number="47.3.9">
<h3><span class="header-section-number">J.3.9</span> Chiudere R<a href="introduzione-al-linguaggio-r.html#chiudere-r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Quando si chiude RStudio il programma ci chiederà se si desidera salvare
l’area di lavoro sul computer. Tale operazione è da evitare in quanto
gli oggetti così salvati andranno ad interferire con gli oggetti creati
in un lavoro futuro. Si consiglia dunque di rispondere negativamente a
questa domanda.</p>
<ul>
<li><p>In RStudio, selezionare <code>Preferences</code> dal menu a tendina e, in
<code>R General</code> <code>Workspace</code>, deselezionare l’opzione
<code>Restore .RData into workspace at start-</code> <code>up</code> e scegliere l’opzione
<code>Never</code> nella finestra di dialogo <code>Save workspace to</code>
<code>.RData on exit</code>.</p></li>
<li><p>In R, selezionare <code>Preferences</code> dal menu a tendina e, in <code>Startup</code>,
selezionare l’opzione <code>No</code> in corrispondenza dell’item
<code>Save workspace on exit from R</code>.</p></li>
</ul>
</div>
<div id="creare-ed-eseguire-uno-script-r-con-un-editore" class="section level3 hasAnchor" number="47.3.10">
<h3><span class="header-section-number">J.3.10</span> Creare ed eseguire uno script R con un editore<a href="introduzione-al-linguaggio-r.html#creare-ed-eseguire-uno-script-r-con-un-editore" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>È molto più facile interagire con R manipolando uno script con un
editore piuttosto che inserendo direttamente le istruzioni nella
console. <span class="math inline">\(\mathsf{R}\)</span> fornisce il Text Editor dove è possibile inserire il codice
(File <span class="math inline">\(\to\)</span> New Script). Per salvare il file basta utilizzare l’apposito
menù a tendina (estensione <code>.R</code>). Tale file potrà poi essere riaperto ed
utilizzato in un momento successivo.</p>
<p>L’editore comunica con <span class="math inline">\(\mathsf{R}\)</span> nel modo seguente: dopo avere selezionato la
porzione di codice che si vuole eseguire, si digita un’apposita sequenza
di tasti (<code>Command + Enter</code> su Mac OS X e <code>ctrl + r</code> in Windows).
<code>ctrl + r</code> significa premere il tasto <code>ctrl</code> e, tenendolo premuto, premere il tasto <span class="math inline">\(\mathsf{R}\)</span> della tastiera.
Così facendo, <span class="math inline">\(\mathsf{R}\)</span> eseguirà le istruzioni selezionate e l’output verrà
stampato sulla console. Il Text Editor fornito da <span class="math inline">\(\mathsf{R}\)</span> è piuttosto
primitivo: è fortemente consigliato utilizzare RStudio.</p>
</div>
<div id="commentare-il-codice" class="section level3 hasAnchor" number="47.3.11">
<h3><span class="header-section-number">J.3.11</span> Commentare il codice<a href="introduzione-al-linguaggio-r.html#commentare-il-codice" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Un “commento” è una parte di codice che l’interprete non tiene in considerazione. Quando l’interprete arriva ad un segnalatore di commento salta fino al segnalatore di fine commento e di lì riprende il normale processo esecutivo.</p>
<p>I commenti sono parole in linguaggio naturale (nel nostro caso l’italiano), che permettono agli utilizzatori di capire il flusso logico del codice e a chi lo ha scritto di ricordare il perché di determinate istruzioni.</p>
<p>In <span class="math inline">\(\mathsf{R}\)</span>, le parole dopo il simbolo <code>#</code> sono considerate commenti e sono ignorate; ad esempio:</p>
<div class="sourceCode" id="cb576"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb576-1"><a href="introduzione-al-linguaggio-r.html#cb576-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Questo e&#39; un commento</span></span></code></pre></div>
</div>
<div id="cambiare-la-cartella-di-lavoro" class="section level3 hasAnchor" number="47.3.12">
<h3><span class="header-section-number">J.3.12</span> Cambiare la cartella di lavoro<a href="introduzione-al-linguaggio-r.html#cambiare-la-cartella-di-lavoro" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Quando si inizia una sessione di lavoro, <span class="math inline">\(\mathsf{R}\)</span> sceglie una cartella quale
“working directory”. Sarà in tale cartella che andrà a cercare gli
script definiti dall’utilizzatore e i file dei dati. È possibile
determinare quale sia la corrente “working directory” digitando sulla
console di RStudio l’istruzione:</p>
<div class="sourceCode" id="cb577"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb577-1"><a href="introduzione-al-linguaggio-r.html#cb577-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code></pre></div>
<p>Per cambiare la cartella di lavoro (in maniera tale che corrisponda alla
cartella nella quale sono stati salvati i dati e gli script da eseguire)
si sceglie la voce <code>Set Working Directory</code> sul menù a tendina di RStudio
e si selezione la voce <code>Choose Directory…</code> Nella finestra che compare,
si cambia la cartella con quella che si vuole.</p>
</div>
<div id="loggetto-base-di-r-il-vettore" class="section level3 hasAnchor" number="47.3.13">
<h3><span class="header-section-number">J.3.13</span> L’oggetto base di R: il vettore<a href="introduzione-al-linguaggio-r.html#loggetto-base-di-r-il-vettore" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><span class="math inline">\(\mathsf{R}\)</span> opera su strutture di dati; la più semplice di tali strutture è il
vettore numerico, che consiste in un insieme ordinato di numeri; ad
esempio:</p>
<div class="sourceCode" id="cb578"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb578-1"><a href="introduzione-al-linguaggio-r.html#cb578-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">7.0</span>, <span class="fl">10.2</span>, <span class="sc">-</span><span class="fl">2.9</span>, <span class="fl">21.4</span>)</span></code></pre></div>
<p>Nell’istruzione precedente, <code>c()</code> è una funzione. In R gli argomenti
sono passati alle funzioni inserendoli all’interno delle parentesi
tonde. Si noti che gli argomenti (in questo caso, i numeri
<span class="math inline">\(7.0, 10.2, -2.9, 21.4\)</span>) sono separati a virgole. La funzione <code>c()</code> può
prendere un numero arbitrario di argomenti e genera un vettore
concatenando i suoi argomenti. L’operatore <code>&lt;-</code> assegna un nome al
vettore che è stato creato. Nel caso presente, digitando <code>x</code> possiamo
visualizzare il vettore che abbiamo creato:</p>
<div class="sourceCode" id="cb579"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb579-1"><a href="introduzione-al-linguaggio-r.html#cb579-1" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb579-2"><a href="introduzione-al-linguaggio-r.html#cb579-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1]  7.0 10.2 -2.9 21.4</span></span></code></pre></div>
<p>Se invece eseguiamo l’istruzione</p>
<div class="sourceCode" id="cb580"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb580-1"><a href="introduzione-al-linguaggio-r.html#cb580-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="fl">7.0</span>, <span class="fl">10.2</span>, <span class="sc">-</span><span class="fl">2.9</span>, <span class="fl">21.4</span>)</span>
<span id="cb580-2"><a href="introduzione-al-linguaggio-r.html#cb580-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1]  7.0 10.2 -2.9 21.4</span></span></code></pre></div>
<p>senza assegnazione, il valore dell’espressione sarà visualizzato nella
console, ma il vettore non potrà essere utilizzato in nessun altro modo.</p>
</div>
<div id="operazioni-vettorializzate" class="section level3 hasAnchor" number="47.3.14">
<h3><span class="header-section-number">J.3.14</span> Operazioni vettorializzate<a href="introduzione-al-linguaggio-r.html#operazioni-vettorializzate" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Molte operazioni in <span class="math inline">\(\mathsf{R}\)</span> sono vettorializzate, il che significa che esse
sono eseguite in parallelo in determinati oggetti. Ciò consente di
scrivere codice che sia efficiente, conciso e più facile da leggere
rispetto al codice che contiene istruzioni non vettorializzate.</p>
</div>
<div id="vettori-aritmetici" class="section level3 hasAnchor" number="47.3.15">
<h3><span class="header-section-number">J.3.15</span> Vettori aritmetici<a href="introduzione-al-linguaggio-r.html#vettori-aritmetici" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>L’esempio più semplice che illustra come si svolgono le operazioni
vettorializzate riguarda le operazioni algebriche applicate ai vettori.
I vettori, infatti, possono essere utilizzati in espressioni numeriche
nelle quali le operazioni algebriche vengono eseguite “elemento per
elemento”.</p>
<p>Per illustrare questo concetto, definiamo il vettore <code>die</code> che contiene
i possibili risultati del lancio di un dado:</p>
<div class="sourceCode" id="cb581"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb581-1"><a href="introduzione-al-linguaggio-r.html#cb581-1" aria-hidden="true" tabindex="-1"></a>die <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>)</span>
<span id="cb581-2"><a href="introduzione-al-linguaggio-r.html#cb581-2" aria-hidden="true" tabindex="-1"></a>die</span>
<span id="cb581-3"><a href="introduzione-al-linguaggio-r.html#cb581-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3 4 5 6</span></span></code></pre></div>
<p>Supponiamo di volere sommare <span class="math inline">\(10\)</span> a ciascun elemento del vettore <code>die</code>.
Dato che le operazioni sui vettori sono eseguite elemento per elemento,
per ottenere questo risultato è sufficiente eseguire l’istruzione:</p>
<div class="sourceCode" id="cb582"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb582-1"><a href="introduzione-al-linguaggio-r.html#cb582-1" aria-hidden="true" tabindex="-1"></a>die <span class="sc">+</span> <span class="dv">10</span></span>
<span id="cb582-2"><a href="introduzione-al-linguaggio-r.html#cb582-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 11 12 13 14 15 16</span></span></code></pre></div>
<p>Si noti come la costante <span class="math inline">\(10\)</span> sia stata sommata a ciascun elemento del
vettore. In maniera corrispondente, l’istruzione</p>
<div class="sourceCode" id="cb583"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb583-1"><a href="introduzione-al-linguaggio-r.html#cb583-1" aria-hidden="true" tabindex="-1"></a>die <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb583-2"><a href="introduzione-al-linguaggio-r.html#cb583-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 0 1 2 3 4 5</span></span></code></pre></div>
<p>sottrarrà un’unità da ciascuno degli elementi del vettore <code>die</code>.</p>
<p>Se l’operazione aritmetica coinvolge due o più vettori, R allinea i vettori ed esegue una sequenza di operazioni elemento per elemento. Per esempio, l’istruzione</p>
<div class="sourceCode" id="cb584"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb584-1"><a href="introduzione-al-linguaggio-r.html#cb584-1" aria-hidden="true" tabindex="-1"></a>die <span class="sc">*</span> die</span>
<span id="cb584-2"><a href="introduzione-al-linguaggio-r.html#cb584-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1]  1  4  9 16 25 36</span></span></code></pre></div>
<p>fa sì che i due vettori vengano disposti l’uno di fianco all’altro per poi moltiplicare gli elementi corrispondenti: il primo elemento del primo vettore per il primo elemento del secondo vettore e così via. Il vettore risultante avrà la stessa dimensione dei due vettori che sono stati moltiplicati, come indicato qui sotto:</p>
<p><span class="math display">\[
\begin{array}{ccccc}
1 &amp; \times &amp; 1 &amp; \to &amp; 1 \\
2 &amp; \times &amp; 2 &amp; \to &amp; 4 \\
3 &amp; \times &amp; 3 &amp; \to &amp; 9 \\
4 &amp; \times &amp; 4 &amp; \to &amp; 16 \\
5 &amp; \times &amp; 5 &amp; \to &amp; 25 \\
6 &amp; \times &amp; 6 &amp; \to &amp; 36 \\
\hline
\verb+die+ &amp; * &amp; \verb+die+ &amp; = &amp;
\end{array}
\]</span></p>
<p>Oltre agli operatori aritmetici elementari <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, e <code>^</code> per
l’elevamento a potenza, sono disponibili le più comuni funzioni
matematiche: <code>log()</code>, <code>exp()</code>, <code>sin()</code>, <code>cos()</code>, <code>tan()</code>, <code>sqrt()</code>,
<code>max()</code>, <code>min()</code> e così via. Altre funzioni di uso comune sono:
<code>range()</code> che restituisce un vettore <code>c(min(x), max(x))</code>; <code>sort()</code> che
restituisce un vettore ordinato; <code>length(x)</code> che restituisce il numero
di elementi di <code>x</code>; <code>sum(x)</code> che dà la somma degli elementi di <code>x</code>,
mentre <code>prod(x)</code> dà il loro prodotto. Due funzioni statistiche di uso
comune sono <code>mean(x)</code>, la media aritmetica, e <code>var(x)</code>, la varianza.</p>
</div>
<div id="generazione-di-sequenze-regolari" class="section level3 hasAnchor" number="47.3.16">
<h3><span class="header-section-number">J.3.16</span> Generazione di sequenze regolari<a href="introduzione-al-linguaggio-r.html#generazione-di-sequenze-regolari" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><span class="math inline">\(\mathsf{R}\)</span> possiede un ampio numero di funzioni per generare sequenze di numeri.
Ad esempio, <code>c(1:10)</code> è il vettore <code>c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)</code>.
L’espressione <code>c(30:1)</code> può essere utilizzata per generare una sequenza
all’indietro.</p>
<p>La funzione <code>seq()</code> genera un vettore che contiene una sequenza regolare
di numeri, generata in base a determinate regole. Può avere 5 argomenti:
i primi due rappresentano l’inizio (<code>from</code>) e la fine (<code>to</code>) della
sequenza, il terzo specifica l’ampiezza del passo (<code>by</code>), il quarto la
lunghezza della sequenza (<code>length.out</code>) e infine il quinto
(<code>along.with</code>), che se utilizzato deve essere l’unico parametro
presente, è il nome di un vettore, ad esempio <code>x</code>, creando in tal modo
la sequenza 1, 2, …, <code>length(x)</code>. Esempi di utilizzo della funzione
<code>seq()</code> sono i seguenti:</p>
<div class="sourceCode" id="cb585"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb585-1"><a href="introduzione-al-linguaggio-r.html#cb585-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">1</span>, <span class="at">to =</span> <span class="dv">10</span>)</span>
<span id="cb585-2"><a href="introduzione-al-linguaggio-r.html#cb585-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></span>
<span id="cb585-3"><a href="introduzione-al-linguaggio-r.html#cb585-3" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="sc">-</span><span class="dv">5</span>, <span class="dv">5</span>, <span class="at">by =</span> <span class="fl">2.5</span>)</span>
<span id="cb585-4"><a href="introduzione-al-linguaggio-r.html#cb585-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] -5.0 -2.5  0.0  2.5  5.0</span></span>
<span id="cb585-5"><a href="introduzione-al-linguaggio-r.html#cb585-5" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">1</span>, <span class="at">to =</span> <span class="dv">7</span>, <span class="at">length.out =</span> <span class="dv">4</span>)</span>
<span id="cb585-6"><a href="introduzione-al-linguaggio-r.html#cb585-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 3 5 7</span></span>
<span id="cb585-7"><a href="introduzione-al-linguaggio-r.html#cb585-7" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="at">along.with =</span> die)</span>
<span id="cb585-8"><a href="introduzione-al-linguaggio-r.html#cb585-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3 4 5 6</span></span></code></pre></div>
<p>Altra funzione utilizzata per generare sequenze è <code>rep()</code> che può essere
utilizzata per replicare un oggetto in vari modi. Ad esempio:</p>
<div class="sourceCode" id="cb586"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb586-1"><a href="introduzione-al-linguaggio-r.html#cb586-1" aria-hidden="true" tabindex="-1"></a>die3 <span class="ot">&lt;-</span> <span class="fu">rep</span>(die, <span class="at">times =</span> <span class="dv">3</span>)</span>
<span id="cb586-2"><a href="introduzione-al-linguaggio-r.html#cb586-2" aria-hidden="true" tabindex="-1"></a>die3</span>
<span id="cb586-3"><a href="introduzione-al-linguaggio-r.html#cb586-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] 1 2 3 4 5 6 1 2 3 4 5 6 1 2 3 4 5 6</span></span></code></pre></div>
<p>metterà tre copie di <code>die</code> nell’oggetto <code>die3</code>.</p>
</div>
<div id="generazione-di-numeri-casuali" class="section level3 hasAnchor" number="47.3.17">
<h3><span class="header-section-number">J.3.17</span> Generazione di numeri casuali<a href="introduzione-al-linguaggio-r.html#generazione-di-numeri-casuali" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>La funzione <code>sample()</code> è una delle tante funzioni che possono essere
usate per generare numeri casuali. Per esempio, la seguente istruzione
simula dieci lanci di un dado a sei facce:</p>
<div class="sourceCode" id="cb587"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb587-1"><a href="introduzione-al-linguaggio-r.html#cb587-1" aria-hidden="true" tabindex="-1"></a>roll <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="dv">10</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb587-2"><a href="introduzione-al-linguaggio-r.html#cb587-2" aria-hidden="true" tabindex="-1"></a>roll</span>
<span id="cb587-3"><a href="introduzione-al-linguaggio-r.html#cb587-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] 1 3 3 6 3 1 2 2 6 6</span></span></code></pre></div>
<p>Il primo argomento di <code>sample()</code> è il vettore da cui la funzione
estrarrà degli elementi a caso; il secondo argomento specifica che
dovranno essere effettuate 10 estrazioni casuali; il terzo argomento
specifica che le estrazioni sono con rimessa (cioè, lo stesso elemento
può essere estratto più di una volta).</p>
<p>Scegliere un elemento a caso dal vettore <span class="math inline">\(\{1, 2, 3, 4, 5, 6\}\)</span> è
equivalente a lanciare un dado e osservare la faccia che si presenta.
L’istruzione precedente corrisponde dunque alla simulazione di dieci
lanci di un dado a sei facce.</p>
</div>
<div id="vettori-logici" class="section level3 hasAnchor" number="47.3.18">
<h3><span class="header-section-number">J.3.18</span> Vettori logici<a href="introduzione-al-linguaggio-r.html#vettori-logici" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Quando si manipolano i vettori, talvolta si vogliono trovare gli
elementi che soddisfano determinate condizioni logiche. Per esempio, in
dieci lanci di un dado, quante volte è uscito <span class="math inline">\(5\)</span>? Per rispondere a
questa domanda si possono usare gli operatori logici <code>&lt;</code>, <code>&gt;</code> e <code>==</code> per
le operazioni di “minore di,” “maggiore di” e “uguale a”. Se scriviamo</p>
<div class="sourceCode" id="cb588"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb588-1"><a href="introduzione-al-linguaggio-r.html#cb588-1" aria-hidden="true" tabindex="-1"></a>roll <span class="sc">==</span> <span class="dv">5</span></span>
<span id="cb588-2"><a href="introduzione-al-linguaggio-r.html#cb588-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span></span></code></pre></div>
<p>creiamo un vettore costituito da elementi <code>TRUE/FALSE</code> i quali
identificano gli elementi del vettore che soddisfano la condizione
logica specificata.</p>
<p>Possiamo trattare tale vettore come se fosse costituito da elementi di
valore <span class="math inline">\(0\)</span> e <span class="math inline">\(1\)</span>. Sommando gli elementi di tale vettore, infatti,
possiamo contare il numero di “5”:</p>
<div class="sourceCode" id="cb589"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb589-1"><a href="introduzione-al-linguaggio-r.html#cb589-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(roll <span class="sc">==</span> <span class="dv">5</span>)</span>
<span id="cb589-2"><a href="introduzione-al-linguaggio-r.html#cb589-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 0</span></span></code></pre></div>
</div>
<div id="dati-mancanti" class="section level3 hasAnchor" number="47.3.19">
<h3><span class="header-section-number">J.3.19</span> Dati mancanti<a href="introduzione-al-linguaggio-r.html#dati-mancanti" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Quando si è in presenza di un dato mancante, R assegna il valore
speciale <code>NA</code>, che sta per <em>Not Available</em>. In generale, un’operazione
su un <code>NA</code> dà come risultato un <code>NA</code>. Nell’uso delle funzioni che
operano sui dati sarà dunque necessario specificare che, qualunque
operazione venga effettuata, gli <code>NA</code> devono essere esclusi.</p>
</div>
<div id="vettori-di-caratteri-e-fattori" class="section level3 hasAnchor" number="47.3.20">
<h3><span class="header-section-number">J.3.20</span> Vettori di caratteri e fattori<a href="introduzione-al-linguaggio-r.html#vettori-di-caratteri-e-fattori" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>I vettori di caratteri si creano formando una sequenza di caratteri
delimitati da doppie virgolette e possono essere concatenati in un
vettore attraverso la funzione <code>c()</code>. Successivamente, si può applicare
la funzione <code>factor()</code>, che definisce automaticamente le modalità della
variabile categoriale. Ad esempio,</p>
<div class="sourceCode" id="cb590"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb590-1"><a href="introduzione-al-linguaggio-r.html#cb590-1" aria-hidden="true" tabindex="-1"></a>soc_status <span class="ot">&lt;-</span> <span class="fu">factor</span>(</span>
<span id="cb590-2"><a href="introduzione-al-linguaggio-r.html#cb590-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="st">&quot;low&quot;</span>, <span class="st">&quot;high&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;high&quot;</span>, <span class="st">&quot;low&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;high&quot;</span>)</span>
<span id="cb590-3"><a href="introduzione-al-linguaggio-r.html#cb590-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb590-4"><a href="introduzione-al-linguaggio-r.html#cb590-4" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(soc_status)</span>
<span id="cb590-5"><a href="introduzione-al-linguaggio-r.html#cb590-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;high&quot;   &quot;low&quot;    &quot;medium&quot;</span></span></code></pre></div>
<p>Talvolta l’ordine dei livelli del fattore non importa, mentre altre
volte l’ordine è importante, per esempio, quando una variable
categoriale viene rappresentata in un grafico. Per specificare l’ordine
dei livelli del fattore si usa la seguente sintassi:</p>
<div class="sourceCode" id="cb591"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb591-1"><a href="introduzione-al-linguaggio-r.html#cb591-1" aria-hidden="true" tabindex="-1"></a>soc_status <span class="ot">&lt;-</span> </span>
<span id="cb591-2"><a href="introduzione-al-linguaggio-r.html#cb591-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">factor</span>(soc_status, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;low&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;high&quot;</span>))</span>
<span id="cb591-3"><a href="introduzione-al-linguaggio-r.html#cb591-3" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(soc_status)</span>
<span id="cb591-4"><a href="introduzione-al-linguaggio-r.html#cb591-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;low&quot;    &quot;medium&quot; &quot;high&quot;</span></span></code></pre></div>
</div>
<div id="funzioni-1" class="section level3 hasAnchor" number="47.3.21">
<h3><span class="header-section-number">J.3.21</span> Funzioni<a href="introduzione-al-linguaggio-r.html#funzioni-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><span class="math inline">\(\mathsf{R}\)</span> offre la possibilità di utilizzare un’enorme libreria di funzioni che
permettono di svolgere operazioni complicate, quali ad esempio, il
campionamento casuale. Esaminiamo ora con più attenzione le proprietà
delle funzioni di <span class="math inline">\(\mathsf{R}\)</span> utilizzando ancora l’esempio del lancio di un dado.
Abbiamo visto in precedenza come il lancio di un dado possa essere
simulato da R con la funzione <code>sample()</code>. La funzione <code>sample()</code> prende
tre argomenti: il nome di un vettore, un numero chiamato <code>size</code> e un
argomento chiamato <code>replace</code>. La funzione <code>sample()</code> ritorna un numero
di elementi del vettore pari a <code>size</code>. Ad esempio</p>
<div class="sourceCode" id="cb592"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb592-1"><a href="introduzione-al-linguaggio-r.html#cb592-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sample</span>(die, <span class="dv">2</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb592-2"><a href="introduzione-al-linguaggio-r.html#cb592-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 3 4</span></span></code></pre></div>
<p>Assegnando <code>TRUE</code> all’argomento <code>replace</code> specifichiamo che vogliamo un
campionamento con rimessa.</p>
<p>Se volgiamo eseguire una serie di lanci indipendenti di un dado,
eseguiamo ripetutamente la funzione <code>sample()</code> ponendo <code>size</code> uguale a
1:</p>
<div class="sourceCode" id="cb593"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb593-1"><a href="introduzione-al-linguaggio-r.html#cb593-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sample</span>(die, <span class="dv">1</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb593-2"><a href="introduzione-al-linguaggio-r.html#cb593-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 3</span></span>
<span id="cb593-3"><a href="introduzione-al-linguaggio-r.html#cb593-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sample</span>(die, <span class="dv">1</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb593-4"><a href="introduzione-al-linguaggio-r.html#cb593-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2</span></span>
<span id="cb593-5"><a href="introduzione-al-linguaggio-r.html#cb593-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sample</span>(die, <span class="dv">1</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb593-6"><a href="introduzione-al-linguaggio-r.html#cb593-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 5</span></span></code></pre></div>
<p>Come si fa a sapere quanti e quali argomenti sono richiesti da una
funzione? Tale informazione viene fornita dalla funzione <code>args()</code>. Nel
nostro caso</p>
<div class="sourceCode" id="cb594"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb594-1"><a href="introduzione-al-linguaggio-r.html#cb594-1" aria-hidden="true" tabindex="-1"></a><span class="fu">args</span>(sample)</span>
<span id="cb594-2"><a href="introduzione-al-linguaggio-r.html#cb594-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; function (x, size, replace = FALSE, prob = NULL) </span></span>
<span id="cb594-3"><a href="introduzione-al-linguaggio-r.html#cb594-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; NULL</span></span></code></pre></div>
<p>ci informa che il primo argomento è un vettore chiamato <code>x</code>, il secondo
argomento è chiamato <code>size</code> ed ha il significato descritto sopra, il
terzo argomento, <code>replace</code>, specifica se il campionamento è eseguito con
o senza reimmissione, e il quarto argomento, <code>prob</code>, assegna delle
probabilità agli elementi del vettore. Il significato degli argomenti
viene spiegato nel file di help della funzione. Si noti che agli ultimi
due argomenti sono stati assegnati dei valori, detti di default. Ciò
significa che, se l’utilizzatore non li cambia, verranno usati da . La
specificazione <code>replace = FALSE</code> significa che il campionamento viene
eseguito senza reimmissione. Se desideriamo un campionamento con
reimmissione, basta specificare <code>replace = TRUE</code> (nel caso di una
singola estrazione è ovviamente irrilevante). Ad esempio, l’istruzione
seguente simula i risultati di 10 lanci indipendenti di un dado:</p>
<div class="sourceCode" id="cb595"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb595-1"><a href="introduzione-al-linguaggio-r.html#cb595-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sample</span>(die, <span class="dv">10</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb595-2"><a href="introduzione-al-linguaggio-r.html#cb595-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] 3 6 1 3 3 4 3 6 3 4</span></span></code></pre></div>
<p>Infine, <code>prob = NULL</code> specifica che non viene alterata la probabilità di
estrazione degli elementi del vettore. In generale, gli argomenti di una
funzione possono essere oggetti come vettori, matrici, altre funzioni,
parametri o operatori logici.</p>
<p><span class="math inline">\(\mathsf{R}\)</span> ha un sistema di help interno in formato HTML che si richiama con
<code>help.start()</code>. Per avere informazioni su qualche funzione specifica,
per esempio la funzione <code>sample()</code>, il comando da utilizzare è
<code>help(sample)</code> oppure <code>?sample</code>.</p>
</div>
<div id="scrivere-proprie-funzioni" class="section level3 hasAnchor" number="47.3.22">
<h3><span class="header-section-number">J.3.22</span> Scrivere proprie funzioni<a href="introduzione-al-linguaggio-r.html#scrivere-proprie-funzioni" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Abbiamo visto in precedenza come sia possibile simulare i risultati
prodotti da dieci lanci di un dado o, in maniera equivalente, dal
singolo lancio di dieci dadi. Possiamo replicare questo processo
digitando ripetutamente le stesse istruzioni nella console. Otterremo
ogni volta risultati diversi perché, ad ogni ripetizione, il generatore
di numeri pseudo-casuali di R dipende dal valore ottenuto dal clock
interno della macchina. La funzione <code>set.seed()</code> ci permette di
replicare esattamente i risultati della generazione di numeri casuali.
Per ottenere questo risultato, basta assegnare al seed un numero
arbitrario, es. <code>set.seed(12345)</code>. Tuttavia, questa procedura è
praticamente difficile da perseguire se il numero di ripetizioni è alto.
In tal caso è vantaggioso scrivere una funzione contenente il codice che
specifica il numero di ripetizioni. In questo modo, per trovare il
risultato cercato basterà chiamare la funzione una sola volta.</p>
<p>Le funzioni utilizzate da <span class="math inline">\(\mathsf{R}\)</span> sono costituite da tre elementi: il nome, il blocco del
codice e una serie di argomenti. Per creare una funzione è necessario
immagazzinare in R questi tre elementi e <code>function()</code> consente di
ottenere tale risultato usando la sintassi seguente:</p>
<div class="sourceCode" id="cb596"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb596-1"><a href="introduzione-al-linguaggio-r.html#cb596-1" aria-hidden="true" tabindex="-1"></a>nome_funzione <span class="ot">&lt;-</span> <span class="cf">function</span>(arg1, arg2, ...) {</span>
<span id="cb596-2"><a href="introduzione-al-linguaggio-r.html#cb596-2" aria-hidden="true" tabindex="-1"></a>  espressione1</span>
<span id="cb596-3"><a href="introduzione-al-linguaggio-r.html#cb596-3" aria-hidden="true" tabindex="-1"></a>  espressione2</span>
<span id="cb596-4"><a href="introduzione-al-linguaggio-r.html#cb596-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(risultato)</span>
<span id="cb596-5"><a href="introduzione-al-linguaggio-r.html#cb596-5" aria-hidden="true" tabindex="-1"></a>} </span></code></pre></div>
<p>Una chiamata di funzione è poi eseguita nel seguente modo:</p>
<div class="sourceCode" id="cb597"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb597-1"><a href="introduzione-al-linguaggio-r.html#cb597-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nome_funzione</span>(arg1, arg2, ...)</span></code></pre></div>
<p>Per potere essere utilizzata, una funzione deve essere presente nella
memoria di lavoro di <span class="math inline">\(\mathsf{R}\)</span>. Le funzioni salvate in un file possono essere
richiamate utilizzando la funzione <code>source()</code>, ad esempio,
<code>source("file_funzioni.R")</code>.</p>
<p>Consideriamo ora la funzione <code>two_rolls()</code> che ritorna la somma dei
punti prodotti dal lancio di due dadi non truccati:</p>
<div class="sourceCode" id="cb598"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb598-1"><a href="introduzione-al-linguaggio-r.html#cb598-1" aria-hidden="true" tabindex="-1"></a>two_rolls <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb598-2"><a href="introduzione-al-linguaggio-r.html#cb598-2" aria-hidden="true" tabindex="-1"></a>  die <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span></span>
<span id="cb598-3"><a href="introduzione-al-linguaggio-r.html#cb598-3" aria-hidden="true" tabindex="-1"></a>  res <span class="ot">&lt;-</span> <span class="fu">sample</span>(die, <span class="at">size =</span> <span class="dv">2</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb598-4"><a href="introduzione-al-linguaggio-r.html#cb598-4" aria-hidden="true" tabindex="-1"></a>  sum_res <span class="ot">&lt;-</span> <span class="fu">sum</span>(res)</span>
<span id="cb598-5"><a href="introduzione-al-linguaggio-r.html#cb598-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(sum_res)</span>
<span id="cb598-6"><a href="introduzione-al-linguaggio-r.html#cb598-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>La funzione <code>two_rolls()</code> inizia con il creare il vettore <code>die</code> che
contiene sei elementi: i numeri da <span class="math inline">\(1\)</span> a <span class="math inline">\(6\)</span>. Viene poi utilizzata la
funzione <code>sample()</code> con gli gli argomenti, <code>die</code>, <code>size = 2</code> e
<code>replace = TRUE</code>. Tale funzione restituisce il risultato del lancio di
due dadi. Il risultato fornito da <code>sample(die, size = 2, replace = TRUE)</code> viene assegnato all’oggetto <code>res</code>. L’oggetto <code>res</code> corrisponde dunque ad un vettore di due elementi.
L’istruzione <code>sum(res)</code> somma gli elementi del vettore <code>res</code> e
attribuisce il risultato di questa operazione a <code>sum_res</code>. Infine, la
funzione <code>return()</code> ritorna il contenuto dell’oggetto <code>sum_res</code>.
Invocando la funzione <code>two_rolls()</code> si ottiene dunque la somma del
lancio di due dadi. In generale, la funzione <code>two_rolls()</code> produrrà un
risultato diverso ogni volta che viene usata:</p>
<div class="sourceCode" id="cb599"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb599-1"><a href="introduzione-al-linguaggio-r.html#cb599-1" aria-hidden="true" tabindex="-1"></a><span class="fu">two_rolls</span>()   </span>
<span id="cb599-2"><a href="introduzione-al-linguaggio-r.html#cb599-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 9</span></span>
<span id="cb599-3"><a href="introduzione-al-linguaggio-r.html#cb599-3" aria-hidden="true" tabindex="-1"></a><span class="fu">two_rolls</span>()</span>
<span id="cb599-4"><a href="introduzione-al-linguaggio-r.html#cb599-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 4</span></span>
<span id="cb599-5"><a href="introduzione-al-linguaggio-r.html#cb599-5" aria-hidden="true" tabindex="-1"></a><span class="fu">two_rolls</span>()</span>
<span id="cb599-6"><a href="introduzione-al-linguaggio-r.html#cb599-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 7</span></span></code></pre></div>
<p>La formattazione del codice mediante l’uso di spazi e rientri non è
necessaria ma è altamente raccomandata per minimizzare la probabilità di
compiere errori.</p>
</div>
<div id="pacchetti" class="section level3 hasAnchor" number="47.3.23">
<h3><span class="header-section-number">J.3.23</span> Pacchetti<a href="introduzione-al-linguaggio-r.html#pacchetti" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Le funzioni di <span class="math inline">\(\mathsf{R}\)</span> sono organizzate in pacchetti, i più importanti dei
quali sono già disponibili quando si accede al programma.</p>
</div>
<div id="istallazione-e-upgrade-dei-pacchetti" class="section level3 hasAnchor" number="47.3.24">
<h3><span class="header-section-number">J.3.24</span> Istallazione e upgrade dei pacchetti<a href="introduzione-al-linguaggio-r.html#istallazione-e-upgrade-dei-pacchetti" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Alcuni pacchetti non sono presenti nella release di base di <span class="math inline">\(\mathsf{R}\)</span>. Per
installare un pacchetto non presente è sufficiente scrivere nella
console:</p>
<div class="sourceCode" id="cb600"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb600-1"><a href="introduzione-al-linguaggio-r.html#cb600-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;nome_pacchetto&quot;</span>)</span></code></pre></div>
<p>Ad esempio,</p>
<div class="sourceCode" id="cb601"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb601-1"><a href="introduzione-al-linguaggio-r.html#cb601-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;ggplot2&quot;</span>)</span></code></pre></div>
<p>La prima volta che si usa questa funzione durante una sessione di lavoro
si dovrà anche selezionare da una lista il sito <em>mirror</em> da cui
scaricare il pacchetto.</p>
<p>Gli autori dei pacchetti periodicamente rilasciano nuove versioni dei
loro pacchetti che contengono miglioramenti di varia natura. Per
eseguire l’upgrade dei pacchetti <code>ggplot2</code> e <code>dplyr</code>, ad esempio, si usa
la seguente istruzione:</p>
<div class="sourceCode" id="cb602"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb602-1"><a href="introduzione-al-linguaggio-r.html#cb602-1" aria-hidden="true" tabindex="-1"></a><span class="fu">update.packages</span>(<span class="fu">c</span>(<span class="st">&quot;ggplot2&quot;</span>, <span class="st">&quot;dplyr&quot;</span>))</span></code></pre></div>
<p>Per eseguire l’upgrade di tutti i pacchetti l’istruzione è</p>
<div class="sourceCode" id="cb603"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb603-1"><a href="introduzione-al-linguaggio-r.html#cb603-1" aria-hidden="true" tabindex="-1"></a><span class="fu">update.packages</span>()</span></code></pre></div>
</div>
<div id="caricare-un-pacchetto-in-r" class="section level3 hasAnchor" number="47.3.25">
<h3><span class="header-section-number">J.3.25</span> Caricare un pacchetto in R<a href="introduzione-al-linguaggio-r.html#caricare-un-pacchetto-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>L’istallazione dei pacchetti non rende immediatamente disponibili le
funzioni in essi contenute. L’istallazione di un pacchetto semplicemente
copia il codice sul disco rigido della macchina in uso. Per potere usare
le funzioni contenute in un pacchetto installato è necessario caricare
il pacchetto in . Ciò si ottiene con il comando:</p>
<div class="sourceCode" id="cb604"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb604-1"><a href="introduzione-al-linguaggio-r.html#cb604-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;ggplot2&quot;</span>)</span></code></pre></div>
<p>se si vuole caricare il pacchetto <code>ggplot2</code>. A questo punto diventa
possibile usare le funzioni contenute in <code>ggplot2</code>. Queste operazioni si
possono anche eseguire usando dal menu a tendina di RStudio.</p>
<p>Per sapere quali sono i pacchetti già presenti nella release di <span class="math inline">\(\mathsf{R}\)</span> con
cui si sta lavorando, basta scrivere:</p>
<div class="sourceCode" id="cb605"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb605-1"><a href="introduzione-al-linguaggio-r.html#cb605-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>()</span></code></pre></div>

</div>
</div>
<div id="chapter-strutture-dati" class="section level2 hasAnchor" number="47.4">
<h2><span class="header-section-number">J.4</span> Strutture di dati<a href="introduzione-al-linguaggio-r.html#chapter-strutture-dati" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Solitamente gli psicologi raccolgono grandi quantità di dati. Tali dati
vengono codificati in <code>R</code> all’interno di oggetti aventi proprietà
diverse. Intuitivamente, in <code>R</code> un oggetto è qualsiasi cosa a cui è
possibile assegnare un valore. I dati possono essere di tipo numerico o
alfanumerico. Di conseguenza, <code>R</code>distingue tra oggetti aventi <em>modi</em>
diversi. Inoltre, i dati possono essere organizzati in righe e colonne
in base a diversi tipi di strutture che <code>R</code> chiama <em>classi</em>.</p>
<div id="classi-e-modi-degli-oggetti" class="section level3 hasAnchor" number="47.4.1">
<h3><span class="header-section-number">J.4.1</span> Classi e modi degli oggetti<a href="introduzione-al-linguaggio-r.html#classi-e-modi-degli-oggetti" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Gli oggetti <code>R</code> si distinguono a seconda della loro classe (<em>class</em>) e
del loro modo (<em>mode</em>). La classe definisce il tipo di oggetto. In <code>R</code>,
vengono utilizzate cinque strutture di dati che corrispondono a cinque
classi differenti: <code>vector</code>, <code>matrix</code>, <code>array</code>, <code>list</code> e <code>data.frame</code>.
Un’altra classe di oggetti <code>R</code> è <code>function</code> (ad essa appartengono le
funzioni).</p>
<p>La classe di appartenenza di un oggetto si stabilisce usando le funzioni
<code>class()</code>, oppure <code>is.list()</code>, <code>is.function()</code>, <code>is.logical()</code>, e così
via. Queste funzioni restituisco <code>TRUE</code> e <code>FALSE</code> in base
all’appartenenza o meno dell’argomento a quella determinata classe.</p>
<p>Gli oggetti <code>R</code> possono anche essere classificati in base al loro ‘modo’.
I modi ‘atomici’ degli oggetti sono: <code>numeric</code>, <code>complex</code>, <code>character</code> e
<code>logical</code>. Per esempio,</p>
<div class="sourceCode" id="cb606"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb606-1"><a href="introduzione-al-linguaggio-r.html#cb606-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">9</span>)</span>
<span id="cb606-2"><a href="introduzione-al-linguaggio-r.html#cb606-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mode</span>(x)</span>
<span id="cb606-3"><a href="introduzione-al-linguaggio-r.html#cb606-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;numeric&quot;</span></span>
<span id="cb606-4"><a href="introduzione-al-linguaggio-r.html#cb606-4" aria-hidden="true" tabindex="-1"></a>cards <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;9 of clubs&quot;</span>, <span class="st">&quot;10 of hearts&quot;</span>, <span class="st">&quot;jack of hearts&quot;</span>) </span>
<span id="cb606-5"><a href="introduzione-al-linguaggio-r.html#cb606-5" aria-hidden="true" tabindex="-1"></a><span class="fu">mode</span>(cards)</span>
<span id="cb606-6"><a href="introduzione-al-linguaggio-r.html#cb606-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;character&quot;</span></span></code></pre></div>
<p>Nel seguito verranno esaminate le cinque strutture di dati utilizzate da
<code>R</code>.</p>
</div>
<div id="vettori" class="section level3 hasAnchor" number="47.4.2">
<h3><span class="header-section-number">J.4.2</span> Vettori<a href="introduzione-al-linguaggio-r.html#vettori" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>I vettori sono la classe di oggetto più importante in <code>R</code>. Un vettore può
essere creato usando la funzione <code>c()</code>:</p>
<div class="sourceCode" id="cb607"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb607-1"><a href="introduzione-al-linguaggio-r.html#cb607-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">6</span>, <span class="sc">-</span><span class="dv">3</span>, <span class="dv">9</span>)</span>
<span id="cb607-2"><a href="introduzione-al-linguaggio-r.html#cb607-2" aria-hidden="true" tabindex="-1"></a>y</span>
<span id="cb607-3"><a href="introduzione-al-linguaggio-r.html#cb607-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1]  2  1  6 -3  9</span></span></code></pre></div>
<p>Le dimensioni di un vettore presente nella memoria di lavoro possono essere trovare con la funzione <code>length()</code>; ad esempio,</p>
<div class="sourceCode" id="cb608"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb608-1"><a href="introduzione-al-linguaggio-r.html#cb608-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(y)</span>
<span id="cb608-2"><a href="introduzione-al-linguaggio-r.html#cb608-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 5</span></span></code></pre></div>
<p>ci dice che <code>y</code> è un vettore costituito da cinque elementi. La somma, il
minimo e il massimo degli elementi contenuti in un vettore si trovano
con le seguenti istruzioni:</p>
<div class="sourceCode" id="cb609"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb609-1"><a href="introduzione-al-linguaggio-r.html#cb609-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(y)</span>
<span id="cb609-2"><a href="introduzione-al-linguaggio-r.html#cb609-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 15</span></span>
<span id="cb609-3"><a href="introduzione-al-linguaggio-r.html#cb609-3" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(y)</span>
<span id="cb609-4"><a href="introduzione-al-linguaggio-r.html#cb609-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] -3</span></span>
<span id="cb609-5"><a href="introduzione-al-linguaggio-r.html#cb609-5" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(y)</span>
<span id="cb609-6"><a href="introduzione-al-linguaggio-r.html#cb609-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 9</span></span></code></pre></div>
<p>Mentre ci sono sei ‘tipi’ di vettori ‘atomici’ in <code>R</code>, noi ci
focalizzeremo sui tipi seguenti: ‘numeric’ (‘integer’: <em>e.g.</em>, 5;
‘double’: <em>e.g.</em>, 5.5), ‘character’ (<em>e.g.</em>, ‘pippo’) e ‘logical’
(<em>e.g.</em>, <code>TRUE</code>, <code>FALSE</code>). Usiamo la funzione <code>typeof()</code> per determinare
il ‘tipo’ di un vettore atomico. Tutti gli elementi di un vettore
atomico devono essere dello stesso tipo. La funzione <code>str()</code> rende
visibile in maniera compatta la struttura interna di un oggetto.</p>
</div>
<div id="matrici" class="section level3 hasAnchor" number="47.4.3">
<h3><span class="header-section-number">J.4.3</span> Matrici<a href="introduzione-al-linguaggio-r.html#matrici" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Una matrice è una collezione di vettori. Il comando per generare una
matrice è <code>matrix()</code>:</p>
<div class="sourceCode" id="cb610"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb610-1"><a href="introduzione-al-linguaggio-r.html#cb610-1" aria-hidden="true" tabindex="-1"></a>X <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>, <span class="at">nrow =</span> <span class="dv">4</span>, <span class="at">byrow =</span> <span class="cn">FALSE</span>)</span>
<span id="cb610-2"><a href="introduzione-al-linguaggio-r.html#cb610-2" aria-hidden="true" tabindex="-1"></a>X</span>
<span id="cb610-3"><a href="introduzione-al-linguaggio-r.html#cb610-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5]</span></span>
<span id="cb610-4"><a href="introduzione-al-linguaggio-r.html#cb610-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,]    1    5    9   13   17</span></span>
<span id="cb610-5"><a href="introduzione-al-linguaggio-r.html#cb610-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,]    2    6   10   14   18</span></span>
<span id="cb610-6"><a href="introduzione-al-linguaggio-r.html#cb610-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,]    3    7   11   15   19</span></span>
<span id="cb610-7"><a href="introduzione-al-linguaggio-r.html#cb610-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,]    4    8   12   16   20</span></span></code></pre></div>
<p>Il primo argomento è il vettore i cui elementi andranno a disporsi
all’interno della matrice. È poi necessario specificare le dimensioni
della matrice e il modo in cui <code>R</code> dovrà riempire la matrice. Date le
dimensioni del vettore, la specificazione del numero di righe (secondo
argomento) è sufficiente per determinare le dimensioni della matrice.
L’argomento <code>byrow = FALSE</code> è il default. In tal caso, <code>R</code> riempie la
matrice per colonne. Se vogliamo che <code>R</code> riempia la matrice per righe,
usiamo <code>byrow = TRUE</code>:</p>
<div class="sourceCode" id="cb611"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb611-1"><a href="introduzione-al-linguaggio-r.html#cb611-1" aria-hidden="true" tabindex="-1"></a>Y <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>, <span class="at">nrow =</span> <span class="dv">4</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb611-2"><a href="introduzione-al-linguaggio-r.html#cb611-2" aria-hidden="true" tabindex="-1"></a>Y</span>
<span id="cb611-3"><a href="introduzione-al-linguaggio-r.html#cb611-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5]</span></span>
<span id="cb611-4"><a href="introduzione-al-linguaggio-r.html#cb611-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,]    1    2    3    4    5</span></span>
<span id="cb611-5"><a href="introduzione-al-linguaggio-r.html#cb611-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,]    6    7    8    9   10</span></span>
<span id="cb611-6"><a href="introduzione-al-linguaggio-r.html#cb611-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,]   11   12   13   14   15</span></span>
<span id="cb611-7"><a href="introduzione-al-linguaggio-r.html#cb611-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,]   16   17   18   19   20</span></span></code></pre></div>
<p>Le dimensioni di una matrice presente nella memoria di lavoro possono
essere trovare con la funzione <code>dim()</code>; ad esempio,</p>
<div class="sourceCode" id="cb612"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb612-1"><a href="introduzione-al-linguaggio-r.html#cb612-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(Y)</span>
<span id="cb612-2"><a href="introduzione-al-linguaggio-r.html#cb612-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 4 5</span></span></code></pre></div>
<p>ci dice che <code>Y</code> è una matrice con quattro righe e cinque colonne.</p>
</div>
<div id="array" class="section level3 hasAnchor" number="47.4.4">
<h3><span class="header-section-number">J.4.4</span> Array<a href="introduzione-al-linguaggio-r.html#array" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Un array è una collezione di matrici (si veda la
Figura <a href="#fig:R_data_structures" reference-type="ref" reference="fig:R_data_structures">1.1</a>). Per costruire un array con la
funzione <code>array()</code> è necessario specificare un vettore come primo
argomento e un vettore di dimensioni, chiamato <code>dim</code>, quale secondo
argomento:</p>
<div class="sourceCode" id="cb613"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb613-1"><a href="introduzione-al-linguaggio-r.html#cb613-1" aria-hidden="true" tabindex="-1"></a>ar <span class="ot">&lt;-</span> <span class="fu">array</span>(</span>
<span id="cb613-2"><a href="introduzione-al-linguaggio-r.html#cb613-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="dv">11</span><span class="sc">:</span><span class="dv">14</span>, <span class="dv">21</span><span class="sc">:</span><span class="dv">24</span>, <span class="dv">31</span><span class="sc">:</span><span class="dv">34</span>), </span>
<span id="cb613-3"><a href="introduzione-al-linguaggio-r.html#cb613-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">dim =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb613-4"><a href="introduzione-al-linguaggio-r.html#cb613-4" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>Un sottoinsieme di questi dati può essere selezionato, per esempio, nel
modo seguente:</p>
<div class="sourceCode" id="cb614"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb614-1"><a href="introduzione-al-linguaggio-r.html#cb614-1" aria-hidden="true" tabindex="-1"></a>ar[, , <span class="dv">3</span>]</span>
<span id="cb614-2"><a href="introduzione-al-linguaggio-r.html#cb614-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1] [,2]</span></span>
<span id="cb614-3"><a href="introduzione-al-linguaggio-r.html#cb614-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,]   31   33</span></span>
<span id="cb614-4"><a href="introduzione-al-linguaggio-r.html#cb614-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,]   32   34</span></span></code></pre></div>
</div>
<div id="operazioni-aritmetiche-su-vettori-matrici-e-array" class="section level3 hasAnchor" number="47.4.5">
<h3><span class="header-section-number">J.4.5</span> Operazioni aritmetiche su vettori, matrici e array<a href="introduzione-al-linguaggio-r.html#operazioni-aritmetiche-su-vettori-matrici-e-array" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="operazioni-aritmetiche-su-vettori" class="section level4 hasAnchor" number="47.4.5.1">
<h4><span class="header-section-number">J.4.5.1</span> Operazioni aritmetiche su vettori<a href="introduzione-al-linguaggio-r.html#operazioni-aritmetiche-su-vettori" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>I vettori e le matrici (o gli array) possono essere utilizzati in
espressioni aritmetiche. Il risultato è un vettore o una matrice (o un
array) formato dalle operazioni fatte elemento per elemento sui vettori
o sulle matrici. Ad esempio,</p>
<div class="sourceCode" id="cb615"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb615-1"><a href="introduzione-al-linguaggio-r.html#cb615-1" aria-hidden="true" tabindex="-1"></a>y <span class="sc">+</span> <span class="dv">3</span></span>
<span id="cb615-2"><a href="introduzione-al-linguaggio-r.html#cb615-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1]  5  4  9  0 12</span></span></code></pre></div>
<p>restituisce un vettore di dimensioni uguali alle dimensioni di <code>y</code>, i
cui elementi sono dati dalla somma tra ciascuno degli elementi originari
di <code>y</code> e la costante “3”.</p>
<p>Ovviamente, ad un vettore possono essere applicate tutte le altre
operazioni algebriche, sempre elemento per elemento. Ad esempio,</p>
<div class="sourceCode" id="cb616"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb616-1"><a href="introduzione-al-linguaggio-r.html#cb616-1" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="sc">*</span> y</span>
<span id="cb616-2"><a href="introduzione-al-linguaggio-r.html#cb616-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1]  6  3 18 -9 27</span></span></code></pre></div>
<p>restituisce un vettore i cui elementi sono uguali agli elementi di <code>y</code>
moltiplicati per 3.</p>
<p>Se sono costituiti dallo stesso numero di elementi, due vettori possono
essere sommati, sottratti, moltiplicati e divisi, laddove queste
operazioni algebriche vengono eseguite elemento per elemento. Per
esempio,</p>
<div class="sourceCode" id="cb617"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb617-1"><a href="introduzione-al-linguaggio-r.html#cb617-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">3</span>)</span>
<span id="cb617-2"><a href="introduzione-al-linguaggio-r.html#cb617-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">6</span>, <span class="dv">3</span>, <span class="dv">9</span>)</span>
<span id="cb617-3"><a href="introduzione-al-linguaggio-r.html#cb617-3" aria-hidden="true" tabindex="-1"></a>x <span class="sc">+</span> y</span>
<span id="cb617-4"><a href="introduzione-al-linguaggio-r.html#cb617-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1]  3  2  8  4 12</span></span>
<span id="cb617-5"><a href="introduzione-al-linguaggio-r.html#cb617-5" aria-hidden="true" tabindex="-1"></a>x <span class="sc">-</span> y</span>
<span id="cb617-6"><a href="introduzione-al-linguaggio-r.html#cb617-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] -1  0 -4 -2 -6</span></span>
<span id="cb617-7"><a href="introduzione-al-linguaggio-r.html#cb617-7" aria-hidden="true" tabindex="-1"></a>x <span class="sc">*</span> y</span>
<span id="cb617-8"><a href="introduzione-al-linguaggio-r.html#cb617-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1]  2  1 12  3 27</span></span>
<span id="cb617-9"><a href="introduzione-al-linguaggio-r.html#cb617-9" aria-hidden="true" tabindex="-1"></a>x <span class="sc">/</span> y</span>
<span id="cb617-10"><a href="introduzione-al-linguaggio-r.html#cb617-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 0.5000000 1.0000000 0.3333333 0.3333333 0.3333333</span></span></code></pre></div>
</div>
<div id="operazioni-aritmetiche-su-matrici" class="section level4 hasAnchor" number="47.4.5.2">
<h4><span class="header-section-number">J.4.5.2</span> Operazioni aritmetiche su matrici<a href="introduzione-al-linguaggio-r.html#operazioni-aritmetiche-su-matrici" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Le operazioni algebriche elemento per elemento si possono estendere al
caso delle matrici. Per esempio, se <code>X</code>, <code>Y</code> sono entrambe matrici di
dimensioni <span class="math inline">\(4 \times 5\)</span>, allora la seguente operazione</p>
<div class="sourceCode" id="cb618"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb618-1"><a href="introduzione-al-linguaggio-r.html#cb618-1" aria-hidden="true" tabindex="-1"></a>M <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> (X <span class="sc">+</span> Y) <span class="sc">-</span> <span class="dv">3</span> </span></code></pre></div>
<p>crea una matrice <code>D</code> anch’essa di dimensioni <span class="math inline">\(4 \times 5\)</span> i cui elementi
sono ottenuti dalle operazioni fatte elemento per elemento sulle matrici
e sugli scalari:</p>
<div class="sourceCode" id="cb619"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb619-1"><a href="introduzione-al-linguaggio-r.html#cb619-1" aria-hidden="true" tabindex="-1"></a>M</span>
<span id="cb619-2"><a href="introduzione-al-linguaggio-r.html#cb619-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5]</span></span>
<span id="cb619-3"><a href="introduzione-al-linguaggio-r.html#cb619-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,]    1   11   21   31   41</span></span>
<span id="cb619-4"><a href="introduzione-al-linguaggio-r.html#cb619-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,]   13   23   33   43   53</span></span>
<span id="cb619-5"><a href="introduzione-al-linguaggio-r.html#cb619-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,]   25   35   45   55   65</span></span>
<span id="cb619-6"><a href="introduzione-al-linguaggio-r.html#cb619-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,]   37   47   57   67   77</span></span></code></pre></div>
</div>
<div id="operazioni-aritmetiche-su-array" class="section level4 hasAnchor" number="47.4.5.3">
<h4><span class="header-section-number">J.4.5.3</span> Operazioni aritmetiche su array<a href="introduzione-al-linguaggio-r.html#operazioni-aritmetiche-su-array" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Le stesse considerazioni si estendono al caso degli array.</p>
</div>
</div>
<div id="liste" class="section level3 hasAnchor" number="47.4.6">
<h3><span class="header-section-number">J.4.6</span> Liste<a href="introduzione-al-linguaggio-r.html#liste" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Le liste assomigliano ai vettori perché raggruppano i dati in un insieme
unidimensionale. Tuttavia, le liste non raggruppano elementi individuali
ma bensì oggetti di <code>R</code>, quali vettori e altre liste. Per esempio,</p>
<div class="sourceCode" id="cb620"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb620-1"><a href="introduzione-al-linguaggio-r.html#cb620-1" aria-hidden="true" tabindex="-1"></a>list1 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">&quot;R&quot;</span>, <span class="fu">list</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>), <span class="dv">20</span><span class="sc">:</span><span class="dv">24</span>)</span>
<span id="cb620-2"><a href="introduzione-al-linguaggio-r.html#cb620-2" aria-hidden="true" tabindex="-1"></a>list1</span>
<span id="cb620-3"><a href="introduzione-al-linguaggio-r.html#cb620-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb620-4"><a href="introduzione-al-linguaggio-r.html#cb620-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;R&quot;</span></span>
<span id="cb620-5"><a href="introduzione-al-linguaggio-r.html#cb620-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb620-6"><a href="introduzione-al-linguaggio-r.html#cb620-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb620-7"><a href="introduzione-al-linguaggio-r.html#cb620-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[2]][[1]]</span></span>
<span id="cb620-8"><a href="introduzione-al-linguaggio-r.html#cb620-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb620-9"><a href="introduzione-al-linguaggio-r.html#cb620-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb620-10"><a href="introduzione-al-linguaggio-r.html#cb620-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[2]][[2]]</span></span>
<span id="cb620-11"><a href="introduzione-al-linguaggio-r.html#cb620-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE</span></span>
<span id="cb620-12"><a href="introduzione-al-linguaggio-r.html#cb620-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb620-13"><a href="introduzione-al-linguaggio-r.html#cb620-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb620-14"><a href="introduzione-al-linguaggio-r.html#cb620-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[3]]</span></span>
<span id="cb620-15"><a href="introduzione-al-linguaggio-r.html#cb620-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 20 21 22 23 24</span></span></code></pre></div>
<p>Le doppie parentesi quadre identificano l’elemento della lista a cui
vogliamo fare riferimento. Per esempio,</p>
<div class="sourceCode" id="cb621"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb621-1"><a href="introduzione-al-linguaggio-r.html#cb621-1" aria-hidden="true" tabindex="-1"></a>list1[[<span class="dv">3</span>]]</span>
<span id="cb621-2"><a href="introduzione-al-linguaggio-r.html#cb621-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 20 21 22 23 24</span></span>
<span id="cb621-3"><a href="introduzione-al-linguaggio-r.html#cb621-3" aria-hidden="true" tabindex="-1"></a>list1[[<span class="dv">3</span>]][<span class="dv">2</span>]</span>
<span id="cb621-4"><a href="introduzione-al-linguaggio-r.html#cb621-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 21</span></span></code></pre></div>
</div>
<div id="data-frame" class="section level3 hasAnchor" number="47.4.7">
<h3><span class="header-section-number">J.4.7</span> Data frame<a href="introduzione-al-linguaggio-r.html#data-frame" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>I data.frame sono strutture tipo matrice, in cui le colonne possono
essere vettori di tipi differenti. La funzione usata per generare un
data frame è <code>data.frame()</code>, che permette di unire più vettori di uguale
lunghezza come colonne del data frame, ognuno dei quali si riferisce ad
una diversa variabile. Ad esempio,</p>
<div class="sourceCode" id="cb622"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb622-1"><a href="introduzione-al-linguaggio-r.html#cb622-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb622-2"><a href="introduzione-al-linguaggio-r.html#cb622-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">face =</span> <span class="fu">c</span>(<span class="st">&quot;ace&quot;</span>, <span class="st">&quot;two&quot;</span>, <span class="st">&quot;six&quot;</span>),</span>
<span id="cb622-3"><a href="introduzione-al-linguaggio-r.html#cb622-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">suit =</span> <span class="fu">c</span>(<span class="st">&quot;clubs&quot;</span>, <span class="st">&quot;clubs&quot;</span>, <span class="st">&quot;clubs&quot;</span>), </span>
<span id="cb622-4"><a href="introduzione-al-linguaggio-r.html#cb622-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">value =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb622-5"><a href="introduzione-al-linguaggio-r.html#cb622-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb622-6"><a href="introduzione-al-linguaggio-r.html#cb622-6" aria-hidden="true" tabindex="-1"></a>df</span>
<span id="cb622-7"><a href="introduzione-al-linguaggio-r.html#cb622-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   face  suit value</span></span>
<span id="cb622-8"><a href="introduzione-al-linguaggio-r.html#cb622-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  ace clubs     1</span></span>
<span id="cb622-9"><a href="introduzione-al-linguaggio-r.html#cb622-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2  two clubs     2</span></span>
<span id="cb622-10"><a href="introduzione-al-linguaggio-r.html#cb622-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  six clubs     3</span></span></code></pre></div>
<p>L’estrazione di dati da un data.frame può essere effettuata in maniera
simile a quanto avviene per i vettori. Ad esempio, per estrarre la
variabile <code>value</code> dal data.frame <code>df</code> si può indicare l’indice della
terza colonna:</p>
<div class="sourceCode" id="cb623"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb623-1"><a href="introduzione-al-linguaggio-r.html#cb623-1" aria-hidden="true" tabindex="-1"></a>df[, <span class="dv">3</span>]</span>
<span id="cb623-2"><a href="introduzione-al-linguaggio-r.html#cb623-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3</span></span></code></pre></div>
<p>Dal momento che le colonne sono delle variabili, è possibile estrarle
anche indicando nome della variabile, scrivendo
<code>nome_data_frame$nome_variabile</code>:</p>
<div class="sourceCode" id="cb624"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb624-1"><a href="introduzione-al-linguaggio-r.html#cb624-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>value</span>
<span id="cb624-2"><a href="introduzione-al-linguaggio-r.html#cb624-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3</span></span></code></pre></div>
<p>Per fare un esempio, creiamo un data.frame che contenga tutte le informazioni di un mazzo di carte da poker <span class="citation">(<a href="#ref-grolemund2014hands" role="doc-biblioref">Grolemund 2014</a>)</span>. In tale data.frame, ciascuna riga
corrisponde ad una carta – in un mazzo da poker ci sono 52 carte,
perciò il data.frame avrà 52 righe. Il vettore <code>face</code> indica con una
stringa di caratteri il valore di ciascuna carta, il vettore <code>suit</code>
indica il seme e il vettore <code>value</code> indica con un numero intero il
valore di ciascuna carta. Quindi, il data.frame avrà 3 colonne.</p>
<div class="sourceCode" id="cb625"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb625-1"><a href="introduzione-al-linguaggio-r.html#cb625-1" aria-hidden="true" tabindex="-1"></a>deck <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb625-2"><a href="introduzione-al-linguaggio-r.html#cb625-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">face =</span> <span class="fu">c</span>(<span class="st">&quot;king&quot;</span>, <span class="st">&quot;queen&quot;</span>, <span class="st">&quot;jack&quot;</span>, <span class="st">&quot;ten&quot;</span>, <span class="st">&quot;nine&quot;</span>, <span class="st">&quot;eight&quot;</span>,</span>
<span id="cb625-3"><a href="introduzione-al-linguaggio-r.html#cb625-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;seven&quot;</span>, <span class="st">&quot;six&quot;</span>, <span class="st">&quot;five&quot;</span>, <span class="st">&quot;four&quot;</span>, <span class="st">&quot;three&quot;</span>, <span class="st">&quot;two&quot;</span>, <span class="st">&quot;ace&quot;</span>, </span>
<span id="cb625-4"><a href="introduzione-al-linguaggio-r.html#cb625-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;king&quot;</span>, <span class="st">&quot;queen&quot;</span>, <span class="st">&quot;jack&quot;</span>, <span class="st">&quot;ten&quot;</span>, <span class="st">&quot;nine&quot;</span>, <span class="st">&quot;eight&quot;</span>, <span class="st">&quot;seven&quot;</span>, </span>
<span id="cb625-5"><a href="introduzione-al-linguaggio-r.html#cb625-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;six&quot;</span>, <span class="st">&quot;five&quot;</span>, <span class="st">&quot;four&quot;</span>, <span class="st">&quot;three&quot;</span>, <span class="st">&quot;two&quot;</span>, <span class="st">&quot;ace&quot;</span>, <span class="st">&quot;king&quot;</span>, </span>
<span id="cb625-6"><a href="introduzione-al-linguaggio-r.html#cb625-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;queen&quot;</span>, <span class="st">&quot;jack&quot;</span>, <span class="st">&quot;ten&quot;</span>, <span class="st">&quot;nine&quot;</span>, <span class="st">&quot;eight&quot;</span>, <span class="st">&quot;seven&quot;</span>, <span class="st">&quot;six&quot;</span>, </span>
<span id="cb625-7"><a href="introduzione-al-linguaggio-r.html#cb625-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;five&quot;</span>, <span class="st">&quot;four&quot;</span>, <span class="st">&quot;three&quot;</span>, <span class="st">&quot;two&quot;</span>, <span class="st">&quot;ace&quot;</span>, <span class="st">&quot;king&quot;</span>, <span class="st">&quot;queen&quot;</span>, </span>
<span id="cb625-8"><a href="introduzione-al-linguaggio-r.html#cb625-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;jack&quot;</span>, <span class="st">&quot;ten&quot;</span>, <span class="st">&quot;nine&quot;</span>, <span class="st">&quot;eight&quot;</span>, <span class="st">&quot;seven&quot;</span>, <span class="st">&quot;six&quot;</span>, <span class="st">&quot;five&quot;</span>, </span>
<span id="cb625-9"><a href="introduzione-al-linguaggio-r.html#cb625-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;four&quot;</span>, <span class="st">&quot;three&quot;</span>, <span class="st">&quot;two&quot;</span>, <span class="st">&quot;ace&quot;</span>), </span>
<span id="cb625-10"><a href="introduzione-al-linguaggio-r.html#cb625-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">suit =</span> <span class="fu">c</span>(<span class="st">&quot;spades&quot;</span>, <span class="st">&quot;spades&quot;</span>, <span class="st">&quot;spades&quot;</span>, <span class="st">&quot;spades&quot;</span>, </span>
<span id="cb625-11"><a href="introduzione-al-linguaggio-r.html#cb625-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;spades&quot;</span>, <span class="st">&quot;spades&quot;</span>, <span class="st">&quot;spades&quot;</span>, <span class="st">&quot;spades&quot;</span>, <span class="st">&quot;spades&quot;</span>, </span>
<span id="cb625-12"><a href="introduzione-al-linguaggio-r.html#cb625-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;spades&quot;</span>, <span class="st">&quot;spades&quot;</span>, <span class="st">&quot;spades&quot;</span>, <span class="st">&quot;spades&quot;</span>, <span class="st">&quot;clubs&quot;</span>, <span class="st">&quot;clubs&quot;</span>, </span>
<span id="cb625-13"><a href="introduzione-al-linguaggio-r.html#cb625-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;clubs&quot;</span>, <span class="st">&quot;clubs&quot;</span>, <span class="st">&quot;clubs&quot;</span>, <span class="st">&quot;clubs&quot;</span>, <span class="st">&quot;clubs&quot;</span>, <span class="st">&quot;clubs&quot;</span>, </span>
<span id="cb625-14"><a href="introduzione-al-linguaggio-r.html#cb625-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;clubs&quot;</span>, <span class="st">&quot;clubs&quot;</span>, <span class="st">&quot;clubs&quot;</span>, <span class="st">&quot;clubs&quot;</span>, <span class="st">&quot;clubs&quot;</span>, <span class="st">&quot;diamonds&quot;</span>, </span>
<span id="cb625-15"><a href="introduzione-al-linguaggio-r.html#cb625-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;diamonds&quot;</span>, <span class="st">&quot;diamonds&quot;</span>, <span class="st">&quot;diamonds&quot;</span>, <span class="st">&quot;diamonds&quot;</span>, </span>
<span id="cb625-16"><a href="introduzione-al-linguaggio-r.html#cb625-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;diamonds&quot;</span>, <span class="st">&quot;diamonds&quot;</span>, <span class="st">&quot;diamonds&quot;</span>, <span class="st">&quot;diamonds&quot;</span>, </span>
<span id="cb625-17"><a href="introduzione-al-linguaggio-r.html#cb625-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;diamonds&quot;</span>, <span class="st">&quot;diamonds&quot;</span>, <span class="st">&quot;diamonds&quot;</span>, <span class="st">&quot;diamonds&quot;</span>, <span class="st">&quot;hearts&quot;</span>, </span>
<span id="cb625-18"><a href="introduzione-al-linguaggio-r.html#cb625-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;hearts&quot;</span>, <span class="st">&quot;hearts&quot;</span>, <span class="st">&quot;hearts&quot;</span>, <span class="st">&quot;hearts&quot;</span>, <span class="st">&quot;hearts&quot;</span>, </span>
<span id="cb625-19"><a href="introduzione-al-linguaggio-r.html#cb625-19" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;hearts&quot;</span>, <span class="st">&quot;hearts&quot;</span>, <span class="st">&quot;hearts&quot;</span>, <span class="st">&quot;hearts&quot;</span>, <span class="st">&quot;hearts&quot;</span>, </span>
<span id="cb625-20"><a href="introduzione-al-linguaggio-r.html#cb625-20" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;hearts&quot;</span>, <span class="st">&quot;hearts&quot;</span>), </span>
<span id="cb625-21"><a href="introduzione-al-linguaggio-r.html#cb625-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">value =</span> <span class="fu">c</span>(<span class="dv">13</span>, <span class="dv">12</span>, <span class="dv">11</span>, <span class="dv">10</span>, <span class="dv">9</span>, <span class="dv">8</span>, <span class="dv">7</span>, <span class="dv">6</span>, <span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">13</span>, <span class="dv">12</span>, <span class="dv">11</span>, <span class="dv">10</span>, <span class="dv">9</span>, <span class="dv">8</span>, <span class="dv">7</span>, <span class="dv">6</span>, <span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">13</span>, <span class="dv">12</span>, <span class="dv">11</span>, <span class="dv">10</span>, <span class="dv">9</span>, <span class="dv">8</span>, <span class="dv">7</span>, <span class="dv">6</span>, <span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">13</span>, <span class="dv">12</span>, <span class="dv">11</span>, <span class="dv">10</span>, <span class="dv">9</span>, <span class="dv">8</span>, <span class="dv">7</span>, <span class="dv">6</span>, <span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>)</span>
<span id="cb625-22"><a href="introduzione-al-linguaggio-r.html#cb625-22" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>Avendo salvato tutte queste informazioni nell’oggetto <code>deck</code>, possiamo
stamparle sullo schermo semplicemente digitando il nome dell’oggetto che
le contiene:</p>
<div class="sourceCode" id="cb626"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb626-1"><a href="introduzione-al-linguaggio-r.html#cb626-1" aria-hidden="true" tabindex="-1"></a>deck</span>
<span id="cb626-2"><a href="introduzione-al-linguaggio-r.html#cb626-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     face     suit value</span></span>
<span id="cb626-3"><a href="introduzione-al-linguaggio-r.html#cb626-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1   king   spades    13</span></span>
<span id="cb626-4"><a href="introduzione-al-linguaggio-r.html#cb626-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2  queen   spades    12</span></span>
<span id="cb626-5"><a href="introduzione-al-linguaggio-r.html#cb626-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3   jack   spades    11</span></span>
<span id="cb626-6"><a href="introduzione-al-linguaggio-r.html#cb626-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4    ten   spades    10</span></span>
<span id="cb626-7"><a href="introduzione-al-linguaggio-r.html#cb626-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5   nine   spades     9</span></span>
<span id="cb626-8"><a href="introduzione-al-linguaggio-r.html#cb626-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6  eight   spades     8</span></span>
<span id="cb626-9"><a href="introduzione-al-linguaggio-r.html#cb626-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7  seven   spades     7</span></span>
<span id="cb626-10"><a href="introduzione-al-linguaggio-r.html#cb626-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8    six   spades     6</span></span>
<span id="cb626-11"><a href="introduzione-al-linguaggio-r.html#cb626-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9   five   spades     5</span></span>
<span id="cb626-12"><a href="introduzione-al-linguaggio-r.html#cb626-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10  four   spades     4</span></span>
<span id="cb626-13"><a href="introduzione-al-linguaggio-r.html#cb626-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11 three   spades     3</span></span>
<span id="cb626-14"><a href="introduzione-al-linguaggio-r.html#cb626-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12   two   spades     2</span></span>
<span id="cb626-15"><a href="introduzione-al-linguaggio-r.html#cb626-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13   ace   spades     1</span></span>
<span id="cb626-16"><a href="introduzione-al-linguaggio-r.html#cb626-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14  king    clubs    13</span></span>
<span id="cb626-17"><a href="introduzione-al-linguaggio-r.html#cb626-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15 queen    clubs    12</span></span>
<span id="cb626-18"><a href="introduzione-al-linguaggio-r.html#cb626-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16  jack    clubs    11</span></span>
<span id="cb626-19"><a href="introduzione-al-linguaggio-r.html#cb626-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17   ten    clubs    10</span></span>
<span id="cb626-20"><a href="introduzione-al-linguaggio-r.html#cb626-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 18  nine    clubs     9</span></span>
<span id="cb626-21"><a href="introduzione-al-linguaggio-r.html#cb626-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19 eight    clubs     8</span></span>
<span id="cb626-22"><a href="introduzione-al-linguaggio-r.html#cb626-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20 seven    clubs     7</span></span>
<span id="cb626-23"><a href="introduzione-al-linguaggio-r.html#cb626-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 21   six    clubs     6</span></span>
<span id="cb626-24"><a href="introduzione-al-linguaggio-r.html#cb626-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 22  five    clubs     5</span></span>
<span id="cb626-25"><a href="introduzione-al-linguaggio-r.html#cb626-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 23  four    clubs     4</span></span>
<span id="cb626-26"><a href="introduzione-al-linguaggio-r.html#cb626-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 24 three    clubs     3</span></span>
<span id="cb626-27"><a href="introduzione-al-linguaggio-r.html#cb626-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 25   two    clubs     2</span></span>
<span id="cb626-28"><a href="introduzione-al-linguaggio-r.html#cb626-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 26   ace    clubs     1</span></span>
<span id="cb626-29"><a href="introduzione-al-linguaggio-r.html#cb626-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 27  king diamonds    13</span></span>
<span id="cb626-30"><a href="introduzione-al-linguaggio-r.html#cb626-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 28 queen diamonds    12</span></span>
<span id="cb626-31"><a href="introduzione-al-linguaggio-r.html#cb626-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 29  jack diamonds    11</span></span>
<span id="cb626-32"><a href="introduzione-al-linguaggio-r.html#cb626-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 30   ten diamonds    10</span></span>
<span id="cb626-33"><a href="introduzione-al-linguaggio-r.html#cb626-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 31  nine diamonds     9</span></span>
<span id="cb626-34"><a href="introduzione-al-linguaggio-r.html#cb626-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 32 eight diamonds     8</span></span>
<span id="cb626-35"><a href="introduzione-al-linguaggio-r.html#cb626-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 33 seven diamonds     7</span></span>
<span id="cb626-36"><a href="introduzione-al-linguaggio-r.html#cb626-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 34   six diamonds     6</span></span>
<span id="cb626-37"><a href="introduzione-al-linguaggio-r.html#cb626-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 35  five diamonds     5</span></span>
<span id="cb626-38"><a href="introduzione-al-linguaggio-r.html#cb626-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 36  four diamonds     4</span></span>
<span id="cb626-39"><a href="introduzione-al-linguaggio-r.html#cb626-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 37 three diamonds     3</span></span>
<span id="cb626-40"><a href="introduzione-al-linguaggio-r.html#cb626-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 38   two diamonds     2</span></span>
<span id="cb626-41"><a href="introduzione-al-linguaggio-r.html#cb626-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 39   ace diamonds     1</span></span>
<span id="cb626-42"><a href="introduzione-al-linguaggio-r.html#cb626-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 40  king   hearts    13</span></span>
<span id="cb626-43"><a href="introduzione-al-linguaggio-r.html#cb626-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 41 queen   hearts    12</span></span>
<span id="cb626-44"><a href="introduzione-al-linguaggio-r.html#cb626-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 42  jack   hearts    11</span></span>
<span id="cb626-45"><a href="introduzione-al-linguaggio-r.html#cb626-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 43   ten   hearts    10</span></span>
<span id="cb626-46"><a href="introduzione-al-linguaggio-r.html#cb626-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 44  nine   hearts     9</span></span>
<span id="cb626-47"><a href="introduzione-al-linguaggio-r.html#cb626-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 45 eight   hearts     8</span></span>
<span id="cb626-48"><a href="introduzione-al-linguaggio-r.html#cb626-48" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 46 seven   hearts     7</span></span>
<span id="cb626-49"><a href="introduzione-al-linguaggio-r.html#cb626-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 47   six   hearts     6</span></span>
<span id="cb626-50"><a href="introduzione-al-linguaggio-r.html#cb626-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 48  five   hearts     5</span></span>
<span id="cb626-51"><a href="introduzione-al-linguaggio-r.html#cb626-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 49  four   hearts     4</span></span>
<span id="cb626-52"><a href="introduzione-al-linguaggio-r.html#cb626-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 50 three   hearts     3</span></span>
<span id="cb626-53"><a href="introduzione-al-linguaggio-r.html#cb626-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 51   two   hearts     2</span></span>
<span id="cb626-54"><a href="introduzione-al-linguaggio-r.html#cb626-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 52   ace   hearts     1</span></span></code></pre></div>
<p>Si noti che, a schermo, <code>R</code> stampa un numero progressivo che corrisponde
al numero della riga.</p>
<div id="selezione-di-elementi" class="section level4 hasAnchor" number="47.4.7.1">
<h4><span class="header-section-number">J.4.7.1</span> Selezione di elementi<a href="introduzione-al-linguaggio-r.html#selezione-di-elementi" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Una volta creato un data.frame, ad esempio quello che contiene un mazzo
virtuale di carte (si veda
l’esempio <a href="#exmp:deck_of_cards" reference-type="ref" reference="exmp:deck_of_cards"><span class="math display">\[exmp:deck_of_cards\]</span></a>), è necessario sapere come manipolarlo.
La funzione <code>head()</code> mostra le prime sei righe del data.frame:</p>
<div class="sourceCode" id="cb627"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb627-1"><a href="introduzione-al-linguaggio-r.html#cb627-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(deck)</span>
<span id="cb627-2"><a href="introduzione-al-linguaggio-r.html#cb627-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    face   suit value</span></span>
<span id="cb627-3"><a href="introduzione-al-linguaggio-r.html#cb627-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  king spades    13</span></span>
<span id="cb627-4"><a href="introduzione-al-linguaggio-r.html#cb627-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 queen spades    12</span></span>
<span id="cb627-5"><a href="introduzione-al-linguaggio-r.html#cb627-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  jack spades    11</span></span>
<span id="cb627-6"><a href="introduzione-al-linguaggio-r.html#cb627-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4   ten spades    10</span></span>
<span id="cb627-7"><a href="introduzione-al-linguaggio-r.html#cb627-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5  nine spades     9</span></span>
<span id="cb627-8"><a href="introduzione-al-linguaggio-r.html#cb627-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 eight spades     8</span></span></code></pre></div>
<p>Poniamoci ora il problema di mescolare il mazzo di carte e di estrarre
alcune carte dal mazzo. Queste operazioni possono essere eseguite usando
il sistema notazionale di <code>R</code>.</p>
<p>Il sistema di notazione di <code>R</code> consente di estrarre singoli elementi
dagli oggetti definiti da <code>R</code>. Per estrarre un valore da un data.frame,
per esempio, dobbiamo scrivere il nome del data.frame seguito da una
coppia di parentesi quadre:</p>
<div class="sourceCode" id="cb628"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb628-1"><a href="introduzione-al-linguaggio-r.html#cb628-1" aria-hidden="true" tabindex="-1"></a>deck[, ]</span></code></pre></div>
<p>All’interno delle parentesi quadre ci sono due indici separati da una
virgola. <code>R</code> usa il primo indice per selezionare un sottoinsieme di righe
del data.frame e il secondo indice per selezionare un sottoinsieme di
colonne. L’indice è il numero d’ordine che etichetta progressivamente ognuno dei valori del vettore. Per esempio,</p>
<div class="sourceCode" id="cb629"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb629-1"><a href="introduzione-al-linguaggio-r.html#cb629-1" aria-hidden="true" tabindex="-1"></a>deck[<span class="dv">9</span>, <span class="dv">2</span>]</span>
<span id="cb629-2"><a href="introduzione-al-linguaggio-r.html#cb629-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;spades&quot;</span></span></code></pre></div>
<p>restituisce l’elemento che si trova nella nella nona riga della seconda
colonna di <code>deck</code>.</p>
<p>In <code>R</code> ci sono sei modi diversi per specificare gli indici di un oggetto:
interi positivi, interi negativi, zero, spazi vuoti, valori logici e
nomi. Esaminiamoli qui di seguito.</p>
</div>
<div id="interi-positivi" class="section level4 hasAnchor" number="47.4.7.2">
<h4><span class="header-section-number">J.4.7.2</span> Interi positivi<a href="introduzione-al-linguaggio-r.html#interi-positivi" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Gli indici <span class="math inline">\(i, j\)</span> possono essere degli interi positivi che identificano
l’elemento nella <span class="math inline">\(i\)</span>-esima riga e nella <span class="math inline">\(j\)</span>-esima colonna del
data.frame. Per l’esempio relativo al mazzo di carte, l’istruzione</p>
<div class="sourceCode" id="cb630"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb630-1"><a href="introduzione-al-linguaggio-r.html#cb630-1" aria-hidden="true" tabindex="-1"></a>deck[<span class="dv">1</span>, <span class="dv">1</span>]</span>
<span id="cb630-2"><a href="introduzione-al-linguaggio-r.html#cb630-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;king&quot;</span></span></code></pre></div>
<p>ritorna il valore nella prima riga e nella prima colonna. Per estrarre
più di un valore, usiamo un vettore di interi positivi. Per esempio, la
prima riga di <code>deck</code> si trova con</p>
<div class="sourceCode" id="cb631"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb631-1"><a href="introduzione-al-linguaggio-r.html#cb631-1" aria-hidden="true" tabindex="-1"></a>deck[<span class="dv">1</span>, <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)]</span>
<span id="cb631-2"><a href="introduzione-al-linguaggio-r.html#cb631-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   face   suit value</span></span>
<span id="cb631-3"><a href="introduzione-al-linguaggio-r.html#cb631-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 king spades    13</span></span></code></pre></div>
<p>Tale sistema notazionale non si applica solo ai data.frame ma può essere
usato anche per gli altri oggetti di <code>R</code>.</p>
<p>L’indice usato da <code>R</code> inizia da 1. In altri linguaggi di programmazione,
per esempio <code>C</code>, inizia da 0.</p>
</div>
<div id="interi-negativi" class="section level4 hasAnchor" number="47.4.7.3">
<h4><span class="header-section-number">J.4.7.3</span> Interi negativi<a href="introduzione-al-linguaggio-r.html#interi-negativi" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Gli interi negativi fanno l’esatto contrario degli interi positivi: R
ritornerà tutti gli elementi tranne quelli specificati dagli interi
negativi. Per esempio, la prima riga del data.frame può essere
specificata nel modo seguente</p>
<div class="sourceCode" id="cb632"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb632-1"><a href="introduzione-al-linguaggio-r.html#cb632-1" aria-hidden="true" tabindex="-1"></a>deck[<span class="sc">-</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">52</span>), <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]</span>
<span id="cb632-2"><a href="introduzione-al-linguaggio-r.html#cb632-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   face   suit value</span></span>
<span id="cb632-3"><a href="introduzione-al-linguaggio-r.html#cb632-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 king spades    13</span></span></code></pre></div>
<p>ovvero, escludendo tutte le righe seguenti.</p>
</div>
<div id="zero" class="section level4 hasAnchor" number="47.4.7.4">
<h4><span class="header-section-number">J.4.7.4</span> Zero<a href="introduzione-al-linguaggio-r.html#zero" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Quando lo zero viene usato come indice, <code>R</code> non ritorna nulla dalla
dimensione a cui lo zero si riferisce. L’istruzione</p>
<div class="sourceCode" id="cb633"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb633-1"><a href="introduzione-al-linguaggio-r.html#cb633-1" aria-hidden="true" tabindex="-1"></a>deck[<span class="dv">0</span>, <span class="dv">0</span>]</span>
<span id="cb633-2"><a href="introduzione-al-linguaggio-r.html#cb633-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; data frame con 0 colonne e 0 righe</span></span></code></pre></div>
<p>ritorna un data.frame vuoto. Non molto utile.</p>
</div>
<div id="spazio" class="section level4 hasAnchor" number="47.4.7.5">
<h4><span class="header-section-number">J.4.7.5</span> Spazio <code>’ ’</code><a href="introduzione-al-linguaggio-r.html#spazio" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Uno spazio viene usato quale indice per comunicare a <code>R</code> di estrarre
tutti i valori in quella dimensione. Questo è utile per estrarre intere
colonne o intere righe da un data.frame. Per esempio, l’istruzione</p>
<div class="sourceCode" id="cb634"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb634-1"><a href="introduzione-al-linguaggio-r.html#cb634-1" aria-hidden="true" tabindex="-1"></a>deck[<span class="dv">3</span>, ]</span>
<span id="cb634-2"><a href="introduzione-al-linguaggio-r.html#cb634-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   face   suit value</span></span>
<span id="cb634-3"><a href="introduzione-al-linguaggio-r.html#cb634-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 jack spades    11</span></span></code></pre></div>
<p>ritorna la terza riga del data.frame <code>deck</code>.</p>
</div>
<div id="valori-booleani" class="section level4 hasAnchor" number="47.4.7.6">
<h4><span class="header-section-number">J.4.7.6</span> Valori booleani<a href="introduzione-al-linguaggio-r.html#valori-booleani" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Se viene fornito un vettore di stringhe <code>TRUE</code>, <code>FALSE</code>, <code>R</code> selezionerà
gli elementi riga o colonna corrispondenti ai valori booleani <code>TRUE</code>
usati quali indici. Per esempio, l’istruzione</p>
<div class="sourceCode" id="cb635"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb635-1"><a href="introduzione-al-linguaggio-r.html#cb635-1" aria-hidden="true" tabindex="-1"></a>deck[<span class="dv">3</span>, <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)]</span>
<span id="cb635-2"><a href="introduzione-al-linguaggio-r.html#cb635-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   face   suit</span></span>
<span id="cb635-3"><a href="introduzione-al-linguaggio-r.html#cb635-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 jack spades</span></span></code></pre></div>
<p>ritorna i valori delle prime due colonne della terza riga di <code>deck</code>.</p>
</div>
<div id="nomi" class="section level4 hasAnchor" number="47.4.7.7">
<h4><span class="header-section-number">J.4.7.7</span> Nomi<a href="introduzione-al-linguaggio-r.html#nomi" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>È possibile selezionare gli elementi del data.frame usando i loro nomi.
Per esempio,</p>
<div class="sourceCode" id="cb636"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb636-1"><a href="introduzione-al-linguaggio-r.html#cb636-1" aria-hidden="true" tabindex="-1"></a>deck[<span class="dv">1</span>, <span class="fu">c</span>(<span class="st">&quot;face&quot;</span>, <span class="st">&quot;suit&quot;</span>, <span class="st">&quot;value&quot;</span>)]</span>
<span id="cb636-2"><a href="introduzione-al-linguaggio-r.html#cb636-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   face   suit value</span></span>
<span id="cb636-3"><a href="introduzione-al-linguaggio-r.html#cb636-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 king spades    13</span></span>
<span id="cb636-4"><a href="introduzione-al-linguaggio-r.html#cb636-4" aria-hidden="true" tabindex="-1"></a>deck[, <span class="st">&quot;value&quot;</span>]</span>
<span id="cb636-5"><a href="introduzione-al-linguaggio-r.html#cb636-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] 13 12 11 10  9  8  7  6  5  4  3  2  1 13 12 11 10  9  8  7  6  5  4  3  2</span></span>
<span id="cb636-6"><a href="introduzione-al-linguaggio-r.html#cb636-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [26]  1 13 12 11 10  9  8  7  6  5  4  3  2  1 13 12 11 10  9  8  7  6  5  4  3</span></span>
<span id="cb636-7"><a href="introduzione-al-linguaggio-r.html#cb636-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [51]  2  1</span></span></code></pre></div>
</div>
</div>
<div id="giochi-di-carte" class="section level3 hasAnchor" number="47.4.8">
<h3><span class="header-section-number">J.4.8</span> Giochi di carte<a href="introduzione-al-linguaggio-r.html#giochi-di-carte" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Avendo presentato le nozioni base del sistema di notazione di <code>R</code>,
utilizziamo tali conoscenze per manipolare il data.frame. L’istruzione</p>
<div class="sourceCode" id="cb637"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb637-1"><a href="introduzione-al-linguaggio-r.html#cb637-1" aria-hidden="true" tabindex="-1"></a>deck[<span class="dv">1</span><span class="sc">:</span><span class="dv">52</span>, ]</span></code></pre></div>
<p>ritorna tutte le righe e tutte e le colonne del data.frame <code>deck</code>. Le
righe sono identificate dal primo indice, che va da 1 a 52. Permutare in
modo casuale l’indice delle righe equivale a mescolare il mazzo di
carte. Per fare questo, utilizziamo la funzione <code>sample()</code> ponendo <code>replace=FALSE</code> e <code>size</code>
uguale alla dimensione del vettore che contiene gli indici da 1 a 52:</p>
<div class="sourceCode" id="cb638"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb638-1"><a href="introduzione-al-linguaggio-r.html#cb638-1" aria-hidden="true" tabindex="-1"></a>random <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">52</span>, <span class="at">size =</span> <span class="dv">52</span>, <span class="at">replace =</span> <span class="cn">FALSE</span>)</span>
<span id="cb638-2"><a href="introduzione-al-linguaggio-r.html#cb638-2" aria-hidden="true" tabindex="-1"></a>random</span>
<span id="cb638-3"><a href="introduzione-al-linguaggio-r.html#cb638-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] 41 35 51 22  3 10  2 15 11 16 46 21  7 19 43 17 27 50 39 44 14 18 40 47 31</span></span>
<span id="cb638-4"><a href="introduzione-al-linguaggio-r.html#cb638-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [26] 30 52 37 20 33  6  9  5 49 13  4  8 28 32 45 42 26 36  1 48 23 24 29 34 25</span></span>
<span id="cb638-5"><a href="introduzione-al-linguaggio-r.html#cb638-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [51] 38 12</span></span></code></pre></div>
<p>Utilizzando il vettore <code>random</code> di indici permutati otteniamo il
risultato cercato:</p>
<div class="sourceCode" id="cb639"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb639-1"><a href="introduzione-al-linguaggio-r.html#cb639-1" aria-hidden="true" tabindex="-1"></a>deck_shuffled <span class="ot">&lt;-</span> deck[random, ]</span>
<span id="cb639-2"><a href="introduzione-al-linguaggio-r.html#cb639-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(deck_shuffled)</span>
<span id="cb639-3"><a href="introduzione-al-linguaggio-r.html#cb639-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     face     suit value</span></span>
<span id="cb639-4"><a href="introduzione-al-linguaggio-r.html#cb639-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 41 queen   hearts    12</span></span>
<span id="cb639-5"><a href="introduzione-al-linguaggio-r.html#cb639-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 35  five diamonds     5</span></span>
<span id="cb639-6"><a href="introduzione-al-linguaggio-r.html#cb639-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 51   two   hearts     2</span></span>
<span id="cb639-7"><a href="introduzione-al-linguaggio-r.html#cb639-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 22  five    clubs     5</span></span>
<span id="cb639-8"><a href="introduzione-al-linguaggio-r.html#cb639-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3   jack   spades    11</span></span>
<span id="cb639-9"><a href="introduzione-al-linguaggio-r.html#cb639-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10  four   spades     4</span></span></code></pre></div>
<p>Possiamo ora scrivere una funzione che include le precedenti istruzioni:</p>
<div class="sourceCode" id="cb640"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb640-1"><a href="introduzione-al-linguaggio-r.html#cb640-1" aria-hidden="true" tabindex="-1"></a>shuffle <span class="ot">&lt;-</span> <span class="cf">function</span>(cards) {</span>
<span id="cb640-2"><a href="introduzione-al-linguaggio-r.html#cb640-2" aria-hidden="true" tabindex="-1"></a>  random <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">52</span>, <span class="at">size =</span> <span class="dv">52</span>, <span class="at">replace =</span> <span class="cn">FALSE</span>) </span>
<span id="cb640-3"><a href="introduzione-al-linguaggio-r.html#cb640-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(cards[random, ])</span>
<span id="cb640-4"><a href="introduzione-al-linguaggio-r.html#cb640-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Invocando la funzione <code>shuffle()</code> possiamo generare un data.frame che
rappresenta un mazzo di carte mescolato:</p>
<div class="sourceCode" id="cb641"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb641-1"><a href="introduzione-al-linguaggio-r.html#cb641-1" aria-hidden="true" tabindex="-1"></a>deck_shuffled <span class="ot">&lt;-</span> <span class="fu">shuffle</span>(deck)</span></code></pre></div>
<p>Se immaginiamo di distribuire le carte di questo mazzo a due giocatori
di poker, per il primo giocatore avremo:</p>
<div class="sourceCode" id="cb642"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb642-1"><a href="introduzione-al-linguaggio-r.html#cb642-1" aria-hidden="true" tabindex="-1"></a>deck_shuffled[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>), ]</span>
<span id="cb642-2"><a href="introduzione-al-linguaggio-r.html#cb642-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    face     suit value</span></span>
<span id="cb642-3"><a href="introduzione-al-linguaggio-r.html#cb642-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 26  ace    clubs     1</span></span>
<span id="cb642-4"><a href="introduzione-al-linguaggio-r.html#cb642-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 44 nine   hearts     9</span></span>
<span id="cb642-5"><a href="introduzione-al-linguaggio-r.html#cb642-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 29 jack diamonds    11</span></span>
<span id="cb642-6"><a href="introduzione-al-linguaggio-r.html#cb642-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 42 jack   hearts    11</span></span>
<span id="cb642-7"><a href="introduzione-al-linguaggio-r.html#cb642-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 22 five    clubs     5</span></span></code></pre></div>
<p>e per il secondo:</p>
<div class="sourceCode" id="cb643"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb643-1"><a href="introduzione-al-linguaggio-r.html#cb643-1" aria-hidden="true" tabindex="-1"></a>deck_shuffled[<span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>, <span class="dv">10</span>), ]</span>
<span id="cb643-2"><a href="introduzione-al-linguaggio-r.html#cb643-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     face     suit value</span></span>
<span id="cb643-3"><a href="introduzione-al-linguaggio-r.html#cb643-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 24 three    clubs     3</span></span>
<span id="cb643-4"><a href="introduzione-al-linguaggio-r.html#cb643-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 47   six   hearts     6</span></span>
<span id="cb643-5"><a href="introduzione-al-linguaggio-r.html#cb643-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 34   six diamonds     6</span></span>
<span id="cb643-6"><a href="introduzione-al-linguaggio-r.html#cb643-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 51   two   hearts     2</span></span>
<span id="cb643-7"><a href="introduzione-al-linguaggio-r.html#cb643-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17   ten    clubs    10</span></span></code></pre></div>
</div>
<div id="variabili-locali" class="section level3 hasAnchor" number="47.4.9">
<h3><span class="header-section-number">J.4.9</span> Variabili locali<a href="introduzione-al-linguaggio-r.html#variabili-locali" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Si noti che, nell’esempio precedente, abbiamo passato l’argomento <code>deck</code>
alla funzione <code>shuffle()</code>, perché questo è il nome del data.frame che
volevamo manipolare. Nella definizione della funzione <code>shuffle()</code>, però,
l’argomento della funzione era chiamato <code>cards</code>. Il nome degli argomenti
è diverso nei due casi. Allora perché l’istruzione <code>shuffle(deck)</code> non
dà un messaggio d’errore?</p>
<p>La risposta a questa domanda è che nelle funzioni le variabili nascono
quando la funzione entra in esecuzione e muoiono al termine
dell’esecuzione della funzione. Per questa ragione, sono dette ‘locali’.
La variabile <code>cards</code>, in questo esempio, esiste soltanto all’interno
della funzione. Dunque non deve (necessariamente) avere lo stesso nome
di un altro oggetto che esiste al di fuori della funzione, nello spazio
di lavoro di R (anzi, è meglio se il nome degli oggetti usati
all’interno delle funzioni è diverso da quello degli oggetti che
esistono fuori dalle funzioni). R sa che l’oggetto <code>deck</code> passato a
<code>shuffle()</code> corrisponde a <code>cards</code> all’interno della funzione perché
assegna il nome <code>cards</code> a qualunque oggetto venga passato alla funzione
<code>shuffle()</code> come primo (e, in questo caso, unico) argomento.</p>

</div>
</div>
<div id="chapter-strut-contr" class="section level2 hasAnchor" number="47.5">
<h2><span class="header-section-number">J.5</span> Strutture di controllo<a href="introduzione-al-linguaggio-r.html#chapter-strut-contr" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In <code>R</code> il flusso della computazione segue l’ordine di lettura delle espressioni. I controlli di flusso sono quei costrutti sintattici che possono modificare quest’ordine di computazione. Ad esempio, un ciclo <code>for</code> ripete le istruzioni annidate al suo interno per un certo numero di volte, e quindi procede sequenzialmente da lì in avanti, mentre un condizionale <code>if</code> valuta una condizione rispetto alla quale il flusso di informazioni si biforca (se è vero / se è falso). Ci limitiamo qui ad introdurre il ciclo <code>for</code>.</p>
<div id="il-ciclo-for" class="section level3 hasAnchor" number="47.5.1">
<h3><span class="header-section-number">J.5.1</span> Il ciclo <code>for</code><a href="introduzione-al-linguaggio-r.html#il-ciclo-for" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Il ciclo <code>for</code> è una struttura di controllo iterativa che determina l’esecuzione di una porzione di codice ripetuta per un certo numero noto di volte. Il linguaggio <code>R</code> usa la seguente sintassi per il ciclo <code>for</code>:</p>
<p><code>for</code> (<code>indice</code> in <code>valori_indice</code>) {
<em>operazioni</em>
}</p>
<p>il che significa “esegui le operazioni <em>operazioni</em> per i diversi valori di <code>indice</code> compresi nel vettore <code>valori_indice</code>”. Per esempio, il seguente ciclo <code>for</code> non fa altro che stampare il valore della variabile contatore in ciascuna esecuzione del ciclo:</p>
<div class="sourceCode" id="cb644"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb644-1"><a href="introduzione-al-linguaggio-r.html#cb644-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) {</span>
<span id="cb644-2"><a href="introduzione-al-linguaggio-r.html#cb644-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(i)</span>
<span id="cb644-3"><a href="introduzione-al-linguaggio-r.html#cb644-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb644-4"><a href="introduzione-al-linguaggio-r.html#cb644-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1</span></span>
<span id="cb644-5"><a href="introduzione-al-linguaggio-r.html#cb644-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2</span></span>
<span id="cb644-6"><a href="introduzione-al-linguaggio-r.html#cb644-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 3</span></span></code></pre></div>
<p>Un esempio (leggermente) più complicato è il seguente:</p>
<div class="sourceCode" id="cb645"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb645-1"><a href="introduzione-al-linguaggio-r.html#cb645-1" aria-hidden="true" tabindex="-1"></a>x_list <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">9</span>, <span class="at">by =</span> <span class="dv">2</span>)</span>
<span id="cb645-2"><a href="introduzione-al-linguaggio-r.html#cb645-2" aria-hidden="true" tabindex="-1"></a>x_list</span>
<span id="cb645-3"><a href="introduzione-al-linguaggio-r.html#cb645-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 3 5 7 9</span></span>
<span id="cb645-4"><a href="introduzione-al-linguaggio-r.html#cb645-4" aria-hidden="true" tabindex="-1"></a>sum_x <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb645-5"><a href="introduzione-al-linguaggio-r.html#cb645-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (x <span class="cf">in</span> x_list) {</span>
<span id="cb645-6"><a href="introduzione-al-linguaggio-r.html#cb645-6" aria-hidden="true" tabindex="-1"></a>  sum_x <span class="ot">&lt;-</span> sum_x <span class="sc">+</span> x</span>
<span id="cb645-7"><a href="introduzione-al-linguaggio-r.html#cb645-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;L&#39;indice corrente e&#39;&quot;</span>, x, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb645-8"><a href="introduzione-al-linguaggio-r.html#cb645-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;La frequenza cumulata e&#39;&quot;</span>, sum_x, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>) </span>
<span id="cb645-9"><a href="introduzione-al-linguaggio-r.html#cb645-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb645-10"><a href="introduzione-al-linguaggio-r.html#cb645-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; L&#39;indice corrente e&#39; 1 </span></span>
<span id="cb645-11"><a href="introduzione-al-linguaggio-r.html#cb645-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; La frequenza cumulata e&#39; 1 </span></span>
<span id="cb645-12"><a href="introduzione-al-linguaggio-r.html#cb645-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; L&#39;indice corrente e&#39; 3 </span></span>
<span id="cb645-13"><a href="introduzione-al-linguaggio-r.html#cb645-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; La frequenza cumulata e&#39; 4 </span></span>
<span id="cb645-14"><a href="introduzione-al-linguaggio-r.html#cb645-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; L&#39;indice corrente e&#39; 5 </span></span>
<span id="cb645-15"><a href="introduzione-al-linguaggio-r.html#cb645-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; La frequenza cumulata e&#39; 9 </span></span>
<span id="cb645-16"><a href="introduzione-al-linguaggio-r.html#cb645-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; L&#39;indice corrente e&#39; 7 </span></span>
<span id="cb645-17"><a href="introduzione-al-linguaggio-r.html#cb645-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; La frequenza cumulata e&#39; 16 </span></span>
<span id="cb645-18"><a href="introduzione-al-linguaggio-r.html#cb645-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; L&#39;indice corrente e&#39; 9 </span></span>
<span id="cb645-19"><a href="introduzione-al-linguaggio-r.html#cb645-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; La frequenza cumulata e&#39; 25</span></span></code></pre></div>
<p>Per esempio, quanti numeri pari sono contenuti in un vettore? La
risposta a questa domanda viene fornita dalla funzione
<code>countEvenNumbers()</code> che possiamo definire come indicato qui sotto:</p>
<div class="sourceCode" id="cb646"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb646-1"><a href="introduzione-al-linguaggio-r.html#cb646-1" aria-hidden="true" tabindex="-1"></a>countEvenNumbers <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb646-2"><a href="introduzione-al-linguaggio-r.html#cb646-2" aria-hidden="true" tabindex="-1"></a>  count <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb646-3"><a href="introduzione-al-linguaggio-r.html#cb646-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(x)) {</span>
<span id="cb646-4"><a href="introduzione-al-linguaggio-r.html#cb646-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (x[i] <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span>)  </span>
<span id="cb646-5"><a href="introduzione-al-linguaggio-r.html#cb646-5" aria-hidden="true" tabindex="-1"></a>      count <span class="ot">=</span> count <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb646-6"><a href="introduzione-al-linguaggio-r.html#cb646-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb646-7"><a href="introduzione-al-linguaggio-r.html#cb646-7" aria-hidden="true" tabindex="-1"></a>  count</span>
<span id="cb646-8"><a href="introduzione-al-linguaggio-r.html#cb646-8" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Nella funzione <code>countEvenNumbers()</code> abbiamo inizializzato la variabile
<code>count</code> a zero. Prima dell’esecuzione del ciclo <code>for</code>, dunque, <code>count</code>
vale zero. Il ciclo <code>for</code> viene eseguito tante volte quanti sono gli
elementi che costituiscono il vettore <code>x</code>. L’indice <code>i</code> dunque assume
valori compresi tra 1 e il valore che corrisponde al numero di elementi
di <code>x</code>. L’operazione modulo, indicato con <code>%%</code> dà come risultato il
resto della divisione euclidea del primo numero per il secondo. Per
esempio, <code>9 %% 2</code> dà come risultato <span class="math inline">\(1\)</span> perché questo è il resto della
divisione <span class="math inline">\(9/2\)</span>. L’operazione modulo dà come risultato <span class="math inline">\(0\)</span> per tutti i
numeri pari. In ciascuna esecuzione del ciclo <code>for</code> l’operazione modulo
viene eseguita, successivamente, su uno degli elementi di <code>x</code>. Se
l’operazione modulo dà <span class="math inline">\(0\)</span> come risultato, ovvero se il valore
considerato è un numero pari, allora la variabile <code>count</code> viene
incrementata di un’unità. L’istruzione <code>return()</code> ritorna il
numero di valori pari contenuti nel vettore di input alla funzione.
Si noti che è necessario usare <code>return()</code>: la funzione ritornerà qualunque cosa sia stampato nell’ultima riga della funzione stessa.</p>
<p>Facciamo un esempio:</p>
<div class="sourceCode" id="cb647"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb647-1"><a href="introduzione-al-linguaggio-r.html#cb647-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">3</span>, <span class="dv">9</span>, <span class="dv">12</span>)</span>
<span id="cb647-2"><a href="introduzione-al-linguaggio-r.html#cb647-2" aria-hidden="true" tabindex="-1"></a><span class="fu">countEvenNumbers</span>(x)</span>
<span id="cb647-3"><a href="introduzione-al-linguaggio-r.html#cb647-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 4</span></span></code></pre></div>

</div>
</div>
<div id="chapter-input-output" class="section level2 hasAnchor" number="47.6">
<h2><span class="header-section-number">J.6</span> Input/Output<a href="introduzione-al-linguaggio-r.html#chapter-input-output" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>I dati raccolti dallo psicologo sono contenuti in file aventi formati
diversi: solo testo, CSV, Excel, eccetera. <code>R</code> prevede diverse funzioni
di importazione dei dati. Esamineremo qui la funzione <code>read.table()</code> per
l’importazione di dati in formato solo testo, ma funzioni analoghe
possono essere usate per molti altri formati possibili.</p>
<div id="la-funzione-read.table" class="section level3 hasAnchor" number="47.6.1">
<h3><span class="header-section-number">J.6.1</span> La funzione <code>read.table()</code><a href="introduzione-al-linguaggio-r.html#la-funzione-read.table" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Ci sono tanti modi per importare un file dal nostro computer. <code>R</code> permette di utilizzare delle funzioni che sono già nella libreria di base, oppure possiamo utilizzare delle funzioni specifiche, a seconda del tipo di file da importare, che sono contenute in pacchetti aggiuntivi. Per leggere i dati da file in <code>R</code> è conveniente
preliminarmente generare un file di dati in formato ASCII, disponendoli
come si farebbe in una matrice di dati, e mettere questo file nella
cartella di lavoro corrente. Fatto questo, si può utilizzare la funzione
<code>read.table()</code> presente nella libreria di base per leggere l’intero
dataset. Se la prima riga del file contiene l’intestazione delle
variabili, allora <code>read.table("my_file.txt", header = TRUE)</code>
interpreterà la prima riga del file come una riga dove sono contenuti i
nomi delle variabili, assegnando ciascun nome alle variabili del data
frame:</p>
<div class="sourceCode" id="cb648"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb648-1"><a href="introduzione-al-linguaggio-r.html#cb648-1" aria-hidden="true" tabindex="-1"></a>mydata <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="st">&quot;my_file.txt&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>In alternativa, si può impiegare la funzione <code>read.csv()</code>, che è adatta
a leggere dati salvati in <code>.csv</code>. Utilizzando altre funzioni, si possono
leggere in <code>R</code> i dati contenuti in file aventi formati diversi da quelli
considerati qui, quali Excel, SPSS, ecc.</p>
</div>
<div id="file-di-dati-forniti-da-r" class="section level3 hasAnchor" number="47.6.2">
<h3><span class="header-section-number">J.6.2</span> File di dati forniti da R<a href="introduzione-al-linguaggio-r.html#file-di-dati-forniti-da-r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In <code>R</code> esistono comunque oltre 50 insiemi di dati contenuti nel package
<code>base</code> e altri sono disponibili in altri packages. Per vedere l’elenco
degli insiemi di dati disponibili nel package <code>base</code> basta usare
l’istruzione <code>data()</code>; per caricare un particolare insieme di dati, ad
esempio <code>cars</code>, basta utilizzare l’istruzione</p>
<div class="sourceCode" id="cb649"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb649-1"><a href="introduzione-al-linguaggio-r.html#cb649-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(cars)</span></code></pre></div>
<p>Nella maggior parte dei casi questo corrisponde a caricare un oggetto,
solitamente un data.frame dello stesso nome: per l’esempio considerato
si avrebbe un data frame di nome <code>cars</code>.</p>
</div>
<div id="esportazione-di-un-file" class="section level3 hasAnchor" number="47.6.3">
<h3><span class="header-section-number">J.6.3</span> Esportazione di un file<a href="introduzione-al-linguaggio-r.html#esportazione-di-un-file" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Per esportare un data.frame in formato <code>.csv</code> possiamo scrivere il
seguente codice</p>
<div class="sourceCode" id="cb650"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb650-1"><a href="introduzione-al-linguaggio-r.html#cb650-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(df_esempio, <span class="at">file =</span> <span class="st">&quot;esempio.csv&quot;</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p>dove <code>df_esempio</code> è il data.frame da salvare e <code>esempio.csv</code> è il file
che verrà salvato all’interno della nostra cartellla di lavoro.</p>
</div>
<div id="pacchetto-rio" class="section level3 hasAnchor" number="47.6.4">
<h3><span class="header-section-number">J.6.4</span> Pacchetto <code>rio</code><a href="introduzione-al-linguaggio-r.html#pacchetto-rio" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Un’alternativa più semplice è fornita dalle funzioni fornite dal pacchetto <code>rio</code>. Per importare i dati da un file in qualsiasi formato si usa</p>
<div class="sourceCode" id="cb651"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb651-1"><a href="introduzione-al-linguaggio-r.html#cb651-1" aria-hidden="true" tabindex="-1"></a>my_data_frame <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">&quot;my_file.csv&quot;</span>)</span></code></pre></div>
<p>Per esportare i dati in un file avente qualsiasi formato si usa invece</p>
<div class="sourceCode" id="cb652"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb652-1"><a href="introduzione-al-linguaggio-r.html#cb652-1" aria-hidden="true" tabindex="-1"></a>rio<span class="sc">::</span><span class="fu">export</span>(my_data_frame, <span class="st">&quot;my_file.csv&quot;</span>)</span></code></pre></div>
</div>
<div id="dove-sono-i-miei-file" class="section level3 hasAnchor" number="47.6.5">
<h3><span class="header-section-number">J.6.5</span> Dove sono i miei file?<a href="introduzione-al-linguaggio-r.html#dove-sono-i-miei-file" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Quello che abbiamo detto finora, a proposito dell’importazione ed esportazione dei file, si riferisce a file che si trovano nella cartella di lavoro (<em>working directory</em>). Ma non sempre ci troviamo in questa situazione, il che è una buona cosa, perché se dobbiamo gestire un progetto anche leggermente complesso è sempre una buona idea salvare i file che usiamo in cartelle diverse. Per esempio, possiamo usare una cartella chiamata <code>psicometria</code> dove salviamo tutto il materiale di questo insegnamento. Nella cartella <code>psicometria</code> ci potrà essere una cartella chiamata <code>scripts</code> dove salveremo gli script con il codice R utilizzato per i vari esercizi, e una cartella chiamata <code>data</code> dove possiamo salvare i dati. Questa organizzazione minimale ci pone, però, difronte ad un problema: i dati che vogliamo caricare in R non si trovano nella cartella dove sono contenuti gli script. Quando importiamo un file di dati dobbiamo dunque specificare il percorso che identifica la posizione del file sul nostro computer.</p>
<p>Questo problema può essere risolto in due modi: speficicando l’indirizzo assoluto del file, o l’indirizzo relativo. Specificare l’indirizzo assoluto di un file comporta una serie di svantaggi. Il più grande è che non sarà possibile utilizzare quell’istruzione su una macchina diversa. Dunque, è molto più conveniente specificare l’indirizzo dei file in modo relativo. Ma relativo rispetto a cosa? Rispetto alla <em>working directory</em> che definirà l’origine del nostro percorso.</p>
<p>È ovvio che la <em>working directory</em> cambia da progetto a progetto. Infatti, per ciascun progetto dobbiamo specificare una diversa <em>working directory</em>. Per esempio, potremmo avere un progetto relativo all’insegnamento di Psicometria e un progetto relativo alla prova finale.</p>
<p>Per organizzaere il lavoro in questo modo, si procede come segue. Supponiamo di creare una cartella chiamata <code>psicometria</code> che contiene, al suo interno, le cartelle <code>scripts</code> e <code>data</code>:</p>
<div class="sourceCode" id="cb653"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb653-1"><a href="introduzione-al-linguaggio-r.html#cb653-1" aria-hidden="true" tabindex="-1"></a>psicometria<span class="sc">/</span></span>
<span id="cb653-2"><a href="introduzione-al-linguaggio-r.html#cb653-2" aria-hidden="true" tabindex="-1"></a>  ├── data</span>
<span id="cb653-3"><a href="introduzione-al-linguaggio-r.html#cb653-3" aria-hidden="true" tabindex="-1"></a>  ├── scripts</span></code></pre></div>
<p>Supponiamo che queste cartelle contengano i file che ho specificato sopra. Chiudiamo RStudio, se è aperto, e lo riapriamo di nuovo. Dal menu selezioniamo <code>File -&gt; New Project...</code> In questo modo si aprirà un menu che ci chiederà, tra le altre cose, se vogliamo creare un nuovo progetto (<code>New project</code>). Selezioniamo quell’opzione e navighiamo fino alla cartella <code>psicometria</code> e selezioniamo <code>open</code>. Questo creerà un file chiamato <code>psicometria.Rproj</code> nella cartella <code>psicometria</code>.</p>
<p>Chiudiamo ora RStudio. Se vogliamo accedere al progetto “psicometria”, che abbiamo appena creato, dobbiamo semplicemente cliccare sul file <code>psicometria.Rproj</code>. Questo aprirà RStudio e farà in modo che la <em>working directory</em> coincida con la cartalla <code>psicometria</code>. Ogni volta che vogliamo lavorare sui dati del progetto “psicometria” chiudiamo dunque RStudio (se è già aperto) e lo riapriamo cliccando sul file <code>psicometria.Rproj</code>.</p>
<p>A questo punto possiamo definire l’indirizzo dei file in modo relativo – ovvero, relativo alla cartella <code>psicometria</code>. Per fare questo usiamo le funzionalità del pacchetto <code>here</code>. Supponiamo di volere caricare un file di dati che si chiama <code>dati_depressione.txt</code> e si trova nella cartella <code>psicometria/data</code>. Per importare i dati (dopo avere caricato i pacchetti <code>rio</code> e <code>here</code>) useremo l’istruzione seguente:</p>
<div class="sourceCode" id="cb654"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb654-1"><a href="introduzione-al-linguaggio-r.html#cb654-1" aria-hidden="true" tabindex="-1"></a>rio<span class="sc">::</span><span class="fu">import</span>(<span class="fu">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;dati_depressione.txt&quot;</span>))</span></code></pre></div>
<p>In altre parole, così facendo specifichiamo il percorso relativo del file <code>dati_depressione.txt</code> (in quanto l’origine corrisponde alla cartella <code>psicometria</code>). L’istruzione precedente significa che, partendo dalla cartella che coincide con la <em>working directory</em> (ovvero, <code>psicometria</code>) ci spostiamo nella cartella <code>data</code> e lì dentro troviamo il file chiamato <code>dati_depressione.txt</code>.</p>

</div>
</div>
<div id="manipolazione-dei-dati" class="section level2 hasAnchor" number="47.7">
<h2><span class="header-section-number">J.7</span> Manipolazione dei dati<a href="introduzione-al-linguaggio-r.html#manipolazione-dei-dati" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="motivazione" class="section level3 hasAnchor" number="47.7.1">
<h3><span class="header-section-number">J.7.1</span> Motivazione<a href="introduzione-al-linguaggio-r.html#motivazione" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Si chiamano “dati grezzi” quelli che provengono dal mondo circostanze, i
dati raccolti per mezzo degli strumenti usati negli esperimenti, per
mezzo di interviste, di questionari, ecc. Questi dati (chiamati
<em>dataset</em>) raramente vengono forniti con una struttura logica precisa.
Per potere elaborarli mediante dei software dobbiamo prima trasformarli
in maniera tale che abbiano una struttura logica organizzata. La
struttura che solitamente si utilizza è quella tabellare (matrice dei
dati), ovvero si dispongono i dati in una tabella nella quale a ciascuna
riga corrisponde ad un’osservazione e ciascuna colonna corrisponde ad
una variabile rilevata. In <code>R</code> una tale struttura è chiamata <em>data frame</em>.</p>
<p>Utilizzando i pacchetti del <code>tidyverse</code> (<code>tidyverse</code> è un insieme, o <em>bundle</em>, di pacchetti <code>R</code>), le operazioni di trasformazione dei dati risultano molto semplificate. Nel <code>tidyverse</code> i data frame vengono leggermente modificati e si chiamano <code>tibble</code>. Per la manipolazione dei dati vengono usati i seguenti pacchetti del <code>tidyverse</code>:</p>
<ul>
<li><code>dplyr</code></li>
<li><code>tidyr</code> (tibbles, dataframe e tabelle)</li>
<li><code>stringr</code> (stringhe)</li>
</ul>
<p>Il pacchetto <code>dplyr</code> (al momento uno dei pacchetti più famosi e utilizzati per la gestione dei dati) offre una serie di funzionalità che consentono di eseguire le operazioni più comuni di manipolazione dei dati in maniera più semplice rispetto a quanto succeda quando usiamo le funzioni base di <code>R</code>.</p>
</div>
<div id="trattamento-dei-dati-con-dplyr" class="section level3 hasAnchor" number="47.7.2">
<h3><span class="header-section-number">J.7.2</span> Trattamento dei dati con <code>dplyr</code><a href="introduzione-al-linguaggio-r.html#trattamento-dei-dati-con-dplyr" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Il pacchetto <code>dplyr</code> include sei funzioni base: <code>filter()</code>, <code>select()</code>, <code>mutate()</code>, <code>arrange()</code>, <code>group_by()</code> e <code>summarise()</code>. Queste sei funzioni costituiscono i <em>verbi</em> del linguaggio di manipolazione dei dati. A questi sei verbi si aggiunge il pipe <code>%&gt;%</code> che serve a concatenare più operazioni. In particolare, considerando una matrice osservazioni per variabili, <code>select()</code> e <code>mutate()</code> si occupano di organizzare le variabili, <code>filter()</code> e <code>arrange()</code> i casi, e <code>group_by()</code> e <code>summarise()</code> i gruppi.</p>
<p>Per introdurre le funzionalità di <code>dplyr</code>, utilizzeremo i dati <code>msleep</code> forniti dal pacchetto <code>ggplot2</code>. Tali dati descrivono le ore di sonno medie di 83 specie di mammiferi <span class="citation">(<a href="#ref-savage2007scaling" role="doc-biblioref">Savage et al. 2007</a>)</span>. Carichiamo il <em>boundle</em> <code>tidyverse</code> (che contiene <code>ggplot2</code>) e leggiamo nella memoria di lavoro l’oggetto <code>msleep</code>:</p>
<div class="sourceCode" id="cb655"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb655-1"><a href="introduzione-al-linguaggio-r.html#cb655-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;tidyverse&quot;</span>)</span>
<span id="cb655-2"><a href="introduzione-al-linguaggio-r.html#cb655-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(msleep)</span>
<span id="cb655-3"><a href="introduzione-al-linguaggio-r.html#cb655-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(msleep)</span>
<span id="cb655-4"><a href="introduzione-al-linguaggio-r.html#cb655-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 83 11</span></span></code></pre></div>
<div id="operatore-pipe" class="section level4 hasAnchor" number="47.7.2.1">
<h4><span class="header-section-number">J.7.2.1</span> Operatore pipe<a href="introduzione-al-linguaggio-r.html#operatore-pipe" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Prima di presentare le funzionalità di <code>dplyr</code>, introduciamo l’operatore pipe <code>%&gt;%</code> del pacchetto <code>magrittr</code> – ma ora presente anche in base <code>R</code> nella versione <code>|&gt;</code>. L’operatore pipe, <code>%&gt;%</code> o <code>|&gt;</code>, serve a concatenare varie funzioni insieme, in modo da inserire un’operazione dietro l’altra. Una spiegazione intuitiva dell’operatore pipe è stata fornita in un tweet di <code>@andrewheiss</code>. Consideriamo la seguente istruzione in pseudo-codice <code>R</code>:</p>
<div class="sourceCode" id="cb656"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb656-1"><a href="introduzione-al-linguaggio-r.html#cb656-1" aria-hidden="true" tabindex="-1"></a><span class="fu">leave_house</span>(</span>
<span id="cb656-2"><a href="introduzione-al-linguaggio-r.html#cb656-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_dressed</span>(</span>
<span id="cb656-3"><a href="introduzione-al-linguaggio-r.html#cb656-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">get_out_of_bed</span>(</span>
<span id="cb656-4"><a href="introduzione-al-linguaggio-r.html#cb656-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">wake_up</span>(me, <span class="at">time =</span> <span class="st">&quot;8:00&quot;</span>), </span>
<span id="cb656-5"><a href="introduzione-al-linguaggio-r.html#cb656-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">side =</span> <span class="st">&quot;correct&quot;</span>), </span>
<span id="cb656-6"><a href="introduzione-al-linguaggio-r.html#cb656-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">pants =</span> <span class="cn">TRUE</span>, </span>
<span id="cb656-7"><a href="introduzione-al-linguaggio-r.html#cb656-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">shirt =</span> <span class="cn">TRUE</span>), </span>
<span id="cb656-8"><a href="introduzione-al-linguaggio-r.html#cb656-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">car =</span> <span class="cn">TRUE</span>, </span>
<span id="cb656-9"><a href="introduzione-al-linguaggio-r.html#cb656-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">bike =</span> <span class="cn">FALSE</span></span>
<span id="cb656-10"><a href="introduzione-al-linguaggio-r.html#cb656-10" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>Il listato precedente descrive una serie di (pseudo) funzioni concatenate, le quali costituiscono gli argomenti di altre funzioni. Scritto così, il codice è molto difficile da capire. Possiamo però ottenere lo stesso risultato utilizzando l’operatore pipe che facilita enormememnte la leggibilità del codice:</p>
<div class="sourceCode" id="cb657"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb657-1"><a href="introduzione-al-linguaggio-r.html#cb657-1" aria-hidden="true" tabindex="-1"></a>me <span class="sc">%&gt;%</span> </span>
<span id="cb657-2"><a href="introduzione-al-linguaggio-r.html#cb657-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">wake_up</span>(<span class="at">time =</span> <span class="st">&quot;8:00&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb657-3"><a href="introduzione-al-linguaggio-r.html#cb657-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_out_of_bed</span>(<span class="at">side =</span> <span class="st">&quot;correct&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb657-4"><a href="introduzione-al-linguaggio-r.html#cb657-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_dressed</span>(<span class="at">pants =</span> <span class="cn">TRUE</span>, <span class="at">shirt =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb657-5"><a href="introduzione-al-linguaggio-r.html#cb657-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">leave_house</span>(<span class="at">car =</span> <span class="cn">TRUE</span>, <span class="at">bike =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p>In questa seconda versione del (pseudo) codice <code>R</code> si capisce molto meglio ciò che vogliamo fare. Il <code>tibble</code> <code>me</code> viene passato alla funzione <code>wake_up()</code>. La funzione <code>wake_up()</code> ha come argomento l’ora del giorno: <code>time = "8:00"</code>. Una volta “svegliati” (wake up) dobbiamo scendere dal letto. Quindi l’output di <code>wake_up()</code> viene passato alla funzione <code>get_out_of_bed()</code> la quale ha come argomento <code>side = "correct"</code> perché vogliamo scendere dal letto dalla parte giusta. E così via.</p>
<p>Questo pseudo-codice chiarisce il significato dell’operatore pipe. L’operatore <code>%&gt;%</code> è “syntactic sugar” per una serie di chiamate di funzioni concatenate, ovvero, detto in altre parole, consente di definire la relazione tra una serie di funzioni nelle quali il risultato (output) di una funzione viene utilizzato come l’input di una funzione successiva.</p>
</div>
<div id="estrarre-una-singola-colonna-con-pull" class="section level4 hasAnchor" number="47.7.2.2">
<h4><span class="header-section-number">J.7.2.2</span> Estrarre una singola colonna con <code>pull()</code><a href="introduzione-al-linguaggio-r.html#estrarre-una-singola-colonna-con-pull" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Ritorniamo ora all’esempio precedente. Iniziamo a trasformare il data frame <code>msleep</code> in un <code>tibble</code> (che è identico ad un data frame ma viene stampato sulla console in un modo diverso):</p>
<div class="sourceCode" id="cb658"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb658-1"><a href="introduzione-al-linguaggio-r.html#cb658-1" aria-hidden="true" tabindex="-1"></a>msleep <span class="ot">&lt;-</span> <span class="fu">tibble</span>(msleep)</span></code></pre></div>
<p>
Estraiamo da <code>msleep</code> la variabile <code>sleep_total</code> usando il verbo <code>pull()</code>:</p>
<div class="sourceCode" id="cb659"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb659-1"><a href="introduzione-al-linguaggio-r.html#cb659-1" aria-hidden="true" tabindex="-1"></a>msleep <span class="sc">%&gt;%</span> </span>
<span id="cb659-2"><a href="introduzione-al-linguaggio-r.html#cb659-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(sleep_total)</span>
<span id="cb659-3"><a href="introduzione-al-linguaggio-r.html#cb659-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] 12.1 17.0 14.4 14.9  4.0 14.4  8.7  7.0 10.1  3.0  5.3  9.4 10.0 12.5 10.3</span></span>
<span id="cb659-4"><a href="introduzione-al-linguaggio-r.html#cb659-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [16]  8.3  9.1 17.4  5.3 18.0  3.9 19.7  2.9  3.1 10.1 10.9 14.9 12.5  9.8  1.9</span></span>
<span id="cb659-5"><a href="introduzione-al-linguaggio-r.html#cb659-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [31]  2.7  6.2  6.3  8.0  9.5  3.3 19.4 10.1 14.2 14.3 12.8 12.5 19.9 14.6 11.0</span></span>
<span id="cb659-6"><a href="introduzione-al-linguaggio-r.html#cb659-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [46]  7.7 14.5  8.4  3.8  9.7 15.8 10.4 13.5  9.4 10.3 11.0 11.5 13.7  3.5  5.6</span></span>
<span id="cb659-7"><a href="introduzione-al-linguaggio-r.html#cb659-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [61] 11.1 18.1  5.4 13.0  8.7  9.6  8.4 11.3 10.6 16.6 13.8 15.9 12.8  9.1  8.6</span></span>
<span id="cb659-8"><a href="introduzione-al-linguaggio-r.html#cb659-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [76] 15.8  4.4 15.6  8.9  5.2  6.3 12.5  9.8</span></span></code></pre></div>
</div>
<div id="selezionare-più-colonne-con-select" class="section level4 hasAnchor" number="47.7.2.3">
<h4><span class="header-section-number">J.7.2.3</span> Selezionare più colonne con <code>select()</code><a href="introduzione-al-linguaggio-r.html#selezionare-più-colonne-con-select" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Se vogliamo selezionare da <code>msleep</code> un insieme di variabili, ad esempio <code>name</code>, <code>vore</code> e <code>sleep_total</code>, possiamo usare il verbo <code>select()</code>:</p>
<div class="sourceCode" id="cb660"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb660-1"><a href="introduzione-al-linguaggio-r.html#cb660-1" aria-hidden="true" tabindex="-1"></a>dt <span class="ot">&lt;-</span> msleep <span class="sc">%&gt;%</span></span>
<span id="cb660-2"><a href="introduzione-al-linguaggio-r.html#cb660-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(name, vore, sleep_total)</span>
<span id="cb660-3"><a href="introduzione-al-linguaggio-r.html#cb660-3" aria-hidden="true" tabindex="-1"></a>dt</span>
<span id="cb660-4"><a href="introduzione-al-linguaggio-r.html#cb660-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 83 × 3</span></span>
<span id="cb660-5"><a href="introduzione-al-linguaggio-r.html#cb660-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   name                       vore  sleep_total</span></span>
<span id="cb660-6"><a href="introduzione-al-linguaggio-r.html#cb660-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;                      &lt;chr&gt;       &lt;dbl&gt;</span></span>
<span id="cb660-7"><a href="introduzione-al-linguaggio-r.html#cb660-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 Cheetah                    carni        12.1</span></span>
<span id="cb660-8"><a href="introduzione-al-linguaggio-r.html#cb660-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 Owl monkey                 omni         17  </span></span>
<span id="cb660-9"><a href="introduzione-al-linguaggio-r.html#cb660-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 Mountain beaver            herbi        14.4</span></span>
<span id="cb660-10"><a href="introduzione-al-linguaggio-r.html#cb660-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 Greater short-tailed shrew omni         14.9</span></span>
<span id="cb660-11"><a href="introduzione-al-linguaggio-r.html#cb660-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 Cow                        herbi         4  </span></span>
<span id="cb660-12"><a href="introduzione-al-linguaggio-r.html#cb660-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 Three-toed sloth           herbi        14.4</span></span>
<span id="cb660-13"><a href="introduzione-al-linguaggio-r.html#cb660-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7 Northern fur seal          carni         8.7</span></span>
<span id="cb660-14"><a href="introduzione-al-linguaggio-r.html#cb660-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8 Vesper mouse               &lt;NA&gt;          7  </span></span>
<span id="cb660-15"><a href="introduzione-al-linguaggio-r.html#cb660-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 75 more rows</span></span></code></pre></div>
<p>
laddove la sequenza di istruzioni precedenti significa che abbiamo passato <code>msleep</code> alla funzione <code>select()</code> contenuta nel pacchetto <code>dplyr</code> e l’output di <code>select()</code> è stato salvato (usando l’operatore di assegnazione, <code>&lt;-</code>) nell’oggetto <code>dt</code>. Alla funzione <code>select()</code> abbiamo passato gli argomenti <code>name</code>, <code>vore</code> e <code>sleep_total</code>.</p>
</div>
<div id="filtrare-le-osservazioni-righe-con-filter" class="section level4 hasAnchor" number="47.7.2.4">
<h4><span class="header-section-number">J.7.2.4</span> Filtrare le osservazioni (righe) con <code>filter()</code><a href="introduzione-al-linguaggio-r.html#filtrare-le-osservazioni-righe-con-filter" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Il verbo <code>filter()</code> consente di selezionare da un <code>tibble</code> un sottoinsieme di righe (osservazioni). Per esempio, possiamo selezionare tutte le osservazioni nella variabile <code>vore</code> contrassegnate come <code>carni</code> (ovvero, tutti i carnivori):</p>
<div class="sourceCode" id="cb661"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb661-1"><a href="introduzione-al-linguaggio-r.html#cb661-1" aria-hidden="true" tabindex="-1"></a>dt <span class="sc">%&gt;%</span></span>
<span id="cb661-2"><a href="introduzione-al-linguaggio-r.html#cb661-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(vore <span class="sc">==</span> <span class="st">&quot;carni&quot;</span>)</span>
<span id="cb661-3"><a href="introduzione-al-linguaggio-r.html#cb661-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 19 × 3</span></span>
<span id="cb661-4"><a href="introduzione-al-linguaggio-r.html#cb661-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   name                 vore  sleep_total</span></span>
<span id="cb661-5"><a href="introduzione-al-linguaggio-r.html#cb661-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;                &lt;chr&gt;       &lt;dbl&gt;</span></span>
<span id="cb661-6"><a href="introduzione-al-linguaggio-r.html#cb661-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 Cheetah              carni        12.1</span></span>
<span id="cb661-7"><a href="introduzione-al-linguaggio-r.html#cb661-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 Northern fur seal    carni         8.7</span></span>
<span id="cb661-8"><a href="introduzione-al-linguaggio-r.html#cb661-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 Dog                  carni        10.1</span></span>
<span id="cb661-9"><a href="introduzione-al-linguaggio-r.html#cb661-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 Long-nosed armadillo carni        17.4</span></span>
<span id="cb661-10"><a href="introduzione-al-linguaggio-r.html#cb661-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 Domestic cat         carni        12.5</span></span>
<span id="cb661-11"><a href="introduzione-al-linguaggio-r.html#cb661-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 Pilot whale          carni         2.7</span></span>
<span id="cb661-12"><a href="introduzione-al-linguaggio-r.html#cb661-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7 Gray seal            carni         6.2</span></span>
<span id="cb661-13"><a href="introduzione-al-linguaggio-r.html#cb661-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8 Thick-tailed opposum carni        19.4</span></span>
<span id="cb661-14"><a href="introduzione-al-linguaggio-r.html#cb661-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 11 more rows</span></span></code></pre></div>
<p>Per utilizzare il verbo <code>filter()</code> in modo efficace è neccessario usare gli operatori relazionali (Tabella <a href="#tab:oprelazionali"><strong>??</strong></a>) e gli operatori logici (Tabella <a href="#tab:oplogici"><strong>??</strong></a>) di <code>R</code>. Per un approfondimento, si veda il Capitolo <a href="https://r4ds.had.co.nz/transform.html">Comparisons</a> di <em>R for Data Science</em>.</p>
</div>
<div id="creare-una-nuova-variabile-con-mutate" class="section level4 hasAnchor" number="47.7.2.5">
<h4><span class="header-section-number">J.7.2.5</span> Creare una nuova variabile con <code>mutate()</code><a href="introduzione-al-linguaggio-r.html#creare-una-nuova-variabile-con-mutate" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Talvolta vogliamo creare una nuova variabile, per esempio, sommando o dividendo due variabili, oppure calcolandone la media. A questo scopo si usa il verbo <code>mutate()</code>. Per esempio, se vogliamo esprimere i valori di <code>sleep_total</code> in minuti, moltiplichiamo per 60:</p>
<div class="sourceCode" id="cb662"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb662-1"><a href="introduzione-al-linguaggio-r.html#cb662-1" aria-hidden="true" tabindex="-1"></a>dt <span class="sc">%&gt;%</span> </span>
<span id="cb662-2"><a href="introduzione-al-linguaggio-r.html#cb662-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb662-3"><a href="introduzione-al-linguaggio-r.html#cb662-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">sleep_minutes =</span> sleep_total <span class="sc">*</span> <span class="dv">60</span></span>
<span id="cb662-4"><a href="introduzione-al-linguaggio-r.html#cb662-4" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb662-5"><a href="introduzione-al-linguaggio-r.html#cb662-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(sleep_total, sleep_minutes)</span>
<span id="cb662-6"><a href="introduzione-al-linguaggio-r.html#cb662-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 83 × 2</span></span>
<span id="cb662-7"><a href="introduzione-al-linguaggio-r.html#cb662-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   sleep_total sleep_minutes</span></span>
<span id="cb662-8"><a href="introduzione-al-linguaggio-r.html#cb662-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         &lt;dbl&gt;         &lt;dbl&gt;</span></span>
<span id="cb662-9"><a href="introduzione-al-linguaggio-r.html#cb662-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1        12.1           726</span></span>
<span id="cb662-10"><a href="introduzione-al-linguaggio-r.html#cb662-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2        17            1020</span></span>
<span id="cb662-11"><a href="introduzione-al-linguaggio-r.html#cb662-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3        14.4           864</span></span>
<span id="cb662-12"><a href="introduzione-al-linguaggio-r.html#cb662-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4        14.9           894</span></span>
<span id="cb662-13"><a href="introduzione-al-linguaggio-r.html#cb662-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5         4             240</span></span>
<span id="cb662-14"><a href="introduzione-al-linguaggio-r.html#cb662-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6        14.4           864</span></span>
<span id="cb662-15"><a href="introduzione-al-linguaggio-r.html#cb662-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7         8.7           522</span></span>
<span id="cb662-16"><a href="introduzione-al-linguaggio-r.html#cb662-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8         7             420</span></span>
<span id="cb662-17"><a href="introduzione-al-linguaggio-r.html#cb662-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 75 more rows</span></span></code></pre></div>
</div>
<div id="ordinare-i-dati-con-arrange" class="section level4 hasAnchor" number="47.7.2.6">
<h4><span class="header-section-number">J.7.2.6</span> Ordinare i dati con <code>arrange()</code><a href="introduzione-al-linguaggio-r.html#ordinare-i-dati-con-arrange" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Il verbo <code>arrange()</code> ordina i dati in base ai valori di una o più variabili. Per esempio, possiamo ordinare la variabile <code>sleep_total</code> dal valore più alto al più basso in questo modo:</p>
<div class="sourceCode" id="cb663"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb663-1"><a href="introduzione-al-linguaggio-r.html#cb663-1" aria-hidden="true" tabindex="-1"></a>dt <span class="sc">%&gt;%</span> </span>
<span id="cb663-2"><a href="introduzione-al-linguaggio-r.html#cb663-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(</span>
<span id="cb663-3"><a href="introduzione-al-linguaggio-r.html#cb663-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">desc</span>(sleep_total)</span>
<span id="cb663-4"><a href="introduzione-al-linguaggio-r.html#cb663-4" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb663-5"><a href="introduzione-al-linguaggio-r.html#cb663-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 83 × 3</span></span>
<span id="cb663-6"><a href="introduzione-al-linguaggio-r.html#cb663-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   name                   vore    sleep_total</span></span>
<span id="cb663-7"><a href="introduzione-al-linguaggio-r.html#cb663-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;                  &lt;chr&gt;         &lt;dbl&gt;</span></span>
<span id="cb663-8"><a href="introduzione-al-linguaggio-r.html#cb663-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 Little brown bat       insecti        19.9</span></span>
<span id="cb663-9"><a href="introduzione-al-linguaggio-r.html#cb663-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 Big brown bat          insecti        19.7</span></span>
<span id="cb663-10"><a href="introduzione-al-linguaggio-r.html#cb663-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 Thick-tailed opposum   carni          19.4</span></span>
<span id="cb663-11"><a href="introduzione-al-linguaggio-r.html#cb663-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 Giant armadillo        insecti        18.1</span></span>
<span id="cb663-12"><a href="introduzione-al-linguaggio-r.html#cb663-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 North American Opossum omni           18  </span></span>
<span id="cb663-13"><a href="introduzione-al-linguaggio-r.html#cb663-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 Long-nosed armadillo   carni          17.4</span></span>
<span id="cb663-14"><a href="introduzione-al-linguaggio-r.html#cb663-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7 Owl monkey             omni           17  </span></span>
<span id="cb663-15"><a href="introduzione-al-linguaggio-r.html#cb663-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8 Arctic ground squirrel herbi          16.6</span></span>
<span id="cb663-16"><a href="introduzione-al-linguaggio-r.html#cb663-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 75 more rows</span></span></code></pre></div>
</div>
<div id="raggruppare-i-dati-con-group_by" class="section level4 hasAnchor" number="47.7.2.7">
<h4><span class="header-section-number">J.7.2.7</span> Raggruppare i dati con <code>group_by()</code><a href="introduzione-al-linguaggio-r.html#raggruppare-i-dati-con-group_by" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Il verbo <code>group_by()</code> raggruppa insieme i valori in base a una o più variabili. Lo vedremo in uso in seguito insieme a <code>summarise()</code>.</p>
<p>Nota: con <code>dplyr()</code>, le operazioni raggruppate vengono iniziate con la funzione <code>group_by()</code>. È una buona norma utilizzare <code>ungroup()</code> alla fine di una serie di operazioni raggruppate, altrimenti i raggruppamenti verranno mantenuti nelle analisi successiva, il che non è sempre auspicabile.</p>
</div>
<div id="sommario-dei-dati-con-summarise" class="section level4 hasAnchor" number="47.7.2.8">
<h4><span class="header-section-number">J.7.2.8</span> Sommario dei dati con <code>summarise()</code><a href="introduzione-al-linguaggio-r.html#sommario-dei-dati-con-summarise" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Il verbo <code>summarise()</code> collassa il dataset in una singola riga dove viene riportato il risultato della statistica richiesta. Per esempio, la media del tempo totale del sonno è</p>
<div class="sourceCode" id="cb664"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb664-1"><a href="introduzione-al-linguaggio-r.html#cb664-1" aria-hidden="true" tabindex="-1"></a>dt <span class="sc">%&gt;%</span> </span>
<span id="cb664-2"><a href="introduzione-al-linguaggio-r.html#cb664-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb664-3"><a href="introduzione-al-linguaggio-r.html#cb664-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">m_sleep =</span> <span class="fu">mean</span>(sleep_total, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb664-4"><a href="introduzione-al-linguaggio-r.html#cb664-4" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb664-5"><a href="introduzione-al-linguaggio-r.html#cb664-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 1 × 1</span></span>
<span id="cb664-6"><a href="introduzione-al-linguaggio-r.html#cb664-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   m_sleep</span></span>
<span id="cb664-7"><a href="introduzione-al-linguaggio-r.html#cb664-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     &lt;dbl&gt;</span></span>
<span id="cb664-8"><a href="introduzione-al-linguaggio-r.html#cb664-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1    10.4</span></span></code></pre></div>
</div>
<div id="operazioni-raggruppate" class="section level4 hasAnchor" number="47.7.2.9">
<h4><span class="header-section-number">J.7.2.9</span> Operazioni raggruppate<a href="introduzione-al-linguaggio-r.html#operazioni-raggruppate" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Sopra abbiamo visto come i mammiferi considerati dormano, in media, 10.4 ore al giorno. Troviamo ora il sonno medio in funzione di <code>vore</code>:</p>
<div class="sourceCode" id="cb665"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb665-1"><a href="introduzione-al-linguaggio-r.html#cb665-1" aria-hidden="true" tabindex="-1"></a>dt <span class="sc">%&gt;%</span></span>
<span id="cb665-2"><a href="introduzione-al-linguaggio-r.html#cb665-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(vore) <span class="sc">%&gt;%</span></span>
<span id="cb665-3"><a href="introduzione-al-linguaggio-r.html#cb665-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb665-4"><a href="introduzione-al-linguaggio-r.html#cb665-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">m_sleep =</span> <span class="fu">mean</span>(sleep_total, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb665-5"><a href="introduzione-al-linguaggio-r.html#cb665-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>()</span>
<span id="cb665-6"><a href="introduzione-al-linguaggio-r.html#cb665-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb665-7"><a href="introduzione-al-linguaggio-r.html#cb665-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 5 × 3</span></span>
<span id="cb665-8"><a href="introduzione-al-linguaggio-r.html#cb665-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   vore    m_sleep     n</span></span>
<span id="cb665-9"><a href="introduzione-al-linguaggio-r.html#cb665-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;     &lt;dbl&gt; &lt;int&gt;</span></span>
<span id="cb665-10"><a href="introduzione-al-linguaggio-r.html#cb665-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 carni     10.4     19</span></span>
<span id="cb665-11"><a href="introduzione-al-linguaggio-r.html#cb665-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 herbi      9.51    32</span></span>
<span id="cb665-12"><a href="introduzione-al-linguaggio-r.html#cb665-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 insecti   14.9      5</span></span>
<span id="cb665-13"><a href="introduzione-al-linguaggio-r.html#cb665-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 omni      10.9     20</span></span>
<span id="cb665-14"><a href="introduzione-al-linguaggio-r.html#cb665-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 &lt;NA&gt;      10.2      7</span></span></code></pre></div>
<p>
Si noti che, nel caso di 7 osservazioni, il valore di <code>vore</code> non era
specificato. Per tali osservazioni, dunque, la classe di appartenenza è
<code>NA</code>.</p>
</div>
<div id="applicare-una-funzione-su-più-colonne-across" class="section level4 hasAnchor" number="47.7.2.10">
<h4><span class="header-section-number">J.7.2.10</span> Applicare una funzione su più colonne: <code>across()</code><a href="introduzione-al-linguaggio-r.html#applicare-una-funzione-su-più-colonne-across" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>È spesso utile eseguire la stessa operazione su più colonne, ma copiare e incollare è sia noioso che soggetto a errori:</p>
<div class="sourceCode" id="cb666"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb666-1"><a href="introduzione-al-linguaggio-r.html#cb666-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span></span>
<span id="cb666-2"><a href="introduzione-al-linguaggio-r.html#cb666-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(g1, g2) <span class="sc">%&gt;%</span></span>
<span id="cb666-3"><a href="introduzione-al-linguaggio-r.html#cb666-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb666-4"><a href="introduzione-al-linguaggio-r.html#cb666-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">a =</span> <span class="fu">mean</span>(a),</span>
<span id="cb666-5"><a href="introduzione-al-linguaggio-r.html#cb666-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">b =</span> <span class="fu">mean</span>(b),</span>
<span id="cb666-6"><a href="introduzione-al-linguaggio-r.html#cb666-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">c =</span> <span class="fu">mean</span>(c),</span>
<span id="cb666-7"><a href="introduzione-al-linguaggio-r.html#cb666-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">d =</span> <span class="fu">mean</span>(d)</span>
<span id="cb666-8"><a href="introduzione-al-linguaggio-r.html#cb666-8" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>
In tali circostanze è possibile usare la funzione <code>across()</code> che consente di riscrivere il codice precedente in modo più succinto:</p>
<div class="sourceCode" id="cb667"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb667-1"><a href="introduzione-al-linguaggio-r.html#cb667-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb667-2"><a href="introduzione-al-linguaggio-r.html#cb667-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(g1, g2) <span class="sc">%&gt;%</span> </span>
<span id="cb667-3"><a href="introduzione-al-linguaggio-r.html#cb667-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(a<span class="sc">:</span>d, mean))</span></code></pre></div>
<p>
Per i dati presenti, ad esempio, possiamo avere:</p>
<div class="sourceCode" id="cb668"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb668-1"><a href="introduzione-al-linguaggio-r.html#cb668-1" aria-hidden="true" tabindex="-1"></a>msleep <span class="sc">%&gt;%</span></span>
<span id="cb668-2"><a href="introduzione-al-linguaggio-r.html#cb668-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(vore) <span class="sc">%&gt;%</span></span>
<span id="cb668-3"><a href="introduzione-al-linguaggio-r.html#cb668-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">starts_with</span>(<span class="st">&quot;sleep&quot;</span>), <span class="sc">~</span> <span class="fu">mean</span>(.x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)))</span>
<span id="cb668-4"><a href="introduzione-al-linguaggio-r.html#cb668-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 5 × 4</span></span>
<span id="cb668-5"><a href="introduzione-al-linguaggio-r.html#cb668-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   vore    sleep_total sleep_rem sleep_cycle</span></span>
<span id="cb668-6"><a href="introduzione-al-linguaggio-r.html#cb668-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;         &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;</span></span>
<span id="cb668-7"><a href="introduzione-al-linguaggio-r.html#cb668-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 carni         10.4       2.29       0.373</span></span>
<span id="cb668-8"><a href="introduzione-al-linguaggio-r.html#cb668-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 herbi          9.51      1.37       0.418</span></span>
<span id="cb668-9"><a href="introduzione-al-linguaggio-r.html#cb668-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 insecti       14.9       3.52       0.161</span></span>
<span id="cb668-10"><a href="introduzione-al-linguaggio-r.html#cb668-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 omni          10.9       1.96       0.592</span></span>
<span id="cb668-11"><a href="introduzione-al-linguaggio-r.html#cb668-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 &lt;NA&gt;          10.2       1.88       0.183</span></span></code></pre></div>
</div>
</div>
<div id="dati-categoriali-in-r" class="section level3 hasAnchor" number="47.7.3">
<h3><span class="header-section-number">J.7.3</span> Dati categoriali in <code>R</code><a href="introduzione-al-linguaggio-r.html#dati-categoriali-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Consideriamo una variabile che descrive il genere e include le categorie <code>male</code>, <code>female</code> e <code>non-conforming</code>. In <code>R</code>, ci sono due modi per memorizzare queste informazioni. Uno è usare la classe <em>character strings</em> e l’altro è usare la classe <em>factor</em>. Non ci addentrimo qui nelle sottigliezze di questa distinzione, motivata in gran parte per le necessità della programmazione con le funzioni di <code>tidyverse</code>. Per gli scopi di questo insegnamento sarà sufficiente codificare le variabili qualitative usando la classe <em>factor</em>. Una volta codificati i dati qualitativi utilizzando la classe <em>factor</em>, si pongono spesso due problemi:</p>
<ol style="list-style-type: decimal">
<li>modificare le etichette dei livelli (ovvero, le modalità) di un fattore,</li>
<li>riordinare i livelli di un fattore.</li>
</ol>
<div id="modificare-le-etichette-dei-livelli-di-un-fattore" class="section level4 hasAnchor" number="47.7.3.1">
<h4><span class="header-section-number">J.7.3.1</span> Modificare le etichette dei livelli di un fattore<a href="introduzione-al-linguaggio-r.html#modificare-le-etichette-dei-livelli-di-un-fattore" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Esaminiamo l’esempio seguente.</p>
<div class="sourceCode" id="cb669"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb669-1"><a href="introduzione-al-linguaggio-r.html#cb669-1" aria-hidden="true" tabindex="-1"></a>f_1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;old_3&quot;</span>, <span class="st">&quot;old_4&quot;</span>, <span class="st">&quot;old_1&quot;</span>, <span class="st">&quot;old_1&quot;</span>, <span class="st">&quot;old_2&quot;</span>)</span>
<span id="cb669-2"><a href="introduzione-al-linguaggio-r.html#cb669-2" aria-hidden="true" tabindex="-1"></a>f_1 <span class="ot">&lt;-</span> <span class="fu">factor</span>(f_1)</span>
<span id="cb669-3"><a href="introduzione-al-linguaggio-r.html#cb669-3" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb669-4"><a href="introduzione-al-linguaggio-r.html#cb669-4" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(f_1, y)</span>
<span id="cb669-5"><a href="introduzione-al-linguaggio-r.html#cb669-5" aria-hidden="true" tabindex="-1"></a>df</span>
<span id="cb669-6"><a href="introduzione-al-linguaggio-r.html#cb669-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 5 × 2</span></span>
<span id="cb669-7"><a href="introduzione-al-linguaggio-r.html#cb669-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   f_1       y</span></span>
<span id="cb669-8"><a href="introduzione-al-linguaggio-r.html#cb669-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;fct&gt; &lt;int&gt;</span></span>
<span id="cb669-9"><a href="introduzione-al-linguaggio-r.html#cb669-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 old_3     1</span></span>
<span id="cb669-10"><a href="introduzione-al-linguaggio-r.html#cb669-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 old_4     2</span></span>
<span id="cb669-11"><a href="introduzione-al-linguaggio-r.html#cb669-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 old_1     3</span></span>
<span id="cb669-12"><a href="introduzione-al-linguaggio-r.html#cb669-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 old_1     4</span></span>
<span id="cb669-13"><a href="introduzione-al-linguaggio-r.html#cb669-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 old_2     5</span></span></code></pre></div>
<p>
Supponiamo ora di volere che i livelli del fattore <code>f_1</code> abbiano le etichette <code>new_1</code>, <code>new_2</code>, ecc. Per ottenere questo risultato usiamo la funzione <code>forcats::fct_recode()</code>:</p>
<div class="sourceCode" id="cb670"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb670-1"><a href="introduzione-al-linguaggio-r.html#cb670-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb670-2"><a href="introduzione-al-linguaggio-r.html#cb670-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">f_1 =</span></span>
<span id="cb670-3"><a href="introduzione-al-linguaggio-r.html#cb670-3" aria-hidden="true" tabindex="-1"></a>    forcats<span class="sc">::</span><span class="fu">fct_recode</span>(</span>
<span id="cb670-4"><a href="introduzione-al-linguaggio-r.html#cb670-4" aria-hidden="true" tabindex="-1"></a>      f_1, </span>
<span id="cb670-5"><a href="introduzione-al-linguaggio-r.html#cb670-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;new_poco&quot;</span> <span class="ot">=</span> <span class="st">&quot;old_1&quot;</span>, </span>
<span id="cb670-6"><a href="introduzione-al-linguaggio-r.html#cb670-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;new_medio&quot;</span> <span class="ot">=</span> <span class="st">&quot;old_2&quot;</span>, </span>
<span id="cb670-7"><a href="introduzione-al-linguaggio-r.html#cb670-7" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;new_tanto&quot;</span> <span class="ot">=</span> <span class="st">&quot;old_3&quot;</span>, </span>
<span id="cb670-8"><a href="introduzione-al-linguaggio-r.html#cb670-8" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;new_massimo&quot;</span> <span class="ot">=</span> <span class="st">&quot;old_4&quot;</span></span>
<span id="cb670-9"><a href="introduzione-al-linguaggio-r.html#cb670-9" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb670-10"><a href="introduzione-al-linguaggio-r.html#cb670-10" aria-hidden="true" tabindex="-1"></a>   )</span>
<span id="cb670-11"><a href="introduzione-al-linguaggio-r.html#cb670-11" aria-hidden="true" tabindex="-1"></a>df</span>
<span id="cb670-12"><a href="introduzione-al-linguaggio-r.html#cb670-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 5 × 2</span></span>
<span id="cb670-13"><a href="introduzione-al-linguaggio-r.html#cb670-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   f_1             y</span></span>
<span id="cb670-14"><a href="introduzione-al-linguaggio-r.html#cb670-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;fct&gt;       &lt;int&gt;</span></span>
<span id="cb670-15"><a href="introduzione-al-linguaggio-r.html#cb670-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 new_tanto       1</span></span>
<span id="cb670-16"><a href="introduzione-al-linguaggio-r.html#cb670-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 new_massimo     2</span></span>
<span id="cb670-17"><a href="introduzione-al-linguaggio-r.html#cb670-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 new_poco        3</span></span>
<span id="cb670-18"><a href="introduzione-al-linguaggio-r.html#cb670-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 new_poco        4</span></span>
<span id="cb670-19"><a href="introduzione-al-linguaggio-r.html#cb670-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 new_medio       5</span></span></code></pre></div>
</div>
<div id="riordinare-i-livelli-di-un-fattore" class="section level4 hasAnchor" number="47.7.3.2">
<h4><span class="header-section-number">J.7.3.2</span> Riordinare i livelli di un fattore<a href="introduzione-al-linguaggio-r.html#riordinare-i-livelli-di-un-fattore" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Spesso i livelli dei fattori hanno un ordinamento naturale. Quindi, gli utenti devono avere un modo per imporre l’ordine desiderato sulla codifica delle loro variabili qualitative. Se per qualche motivo vogliamo ordinare i livelli <code>f_1</code> in ordine inverso, ad esempio, possiamo procedere nel modo seguente.</p>
<div class="sourceCode" id="cb671"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb671-1"><a href="introduzione-al-linguaggio-r.html#cb671-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>f_1 <span class="ot">&lt;-</span> <span class="fu">factor</span>(df<span class="sc">$</span>f_1,</span>
<span id="cb671-2"><a href="introduzione-al-linguaggio-r.html#cb671-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">levels =</span> <span class="fu">c</span>(</span>
<span id="cb671-3"><a href="introduzione-al-linguaggio-r.html#cb671-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;new_massimo&quot;</span>, <span class="st">&quot;new_tanto&quot;</span>, <span class="st">&quot;new_medio&quot;</span>, <span class="st">&quot;new_poco&quot;</span> </span>
<span id="cb671-4"><a href="introduzione-al-linguaggio-r.html#cb671-4" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb671-5"><a href="introduzione-al-linguaggio-r.html#cb671-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb671-6"><a href="introduzione-al-linguaggio-r.html#cb671-6" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>f_1)</span>
<span id="cb671-7"><a href="introduzione-al-linguaggio-r.html#cb671-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; new_massimo   new_tanto   new_medio    new_poco </span></span>
<span id="cb671-8"><a href="introduzione-al-linguaggio-r.html#cb671-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;           1           1           1           2</span></span></code></pre></div>
<p>
Per approfondire le problematiche della manipolazione di variabili qualitative in <code>R</code>, si veda <span class="citation">McNamara and Horton (<a href="#ref-mcnamara2018wrangling" role="doc-biblioref">2018</a>)</span>.</p>
</div>
</div>
<div id="creare-grafici-con-ggplot2" class="section level3 hasAnchor" number="47.7.4">
<h3><span class="header-section-number">J.7.4</span> Creare grafici con <code>ggplot2()</code><a href="introduzione-al-linguaggio-r.html#creare-grafici-con-ggplot2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Il pacchetto <code>ggplot2()</code> è un potente strumento per rappresentare graficamente i dati. Le iniziali del nome, <code>gg</code>, si riferiscono alla “Grammar of Graphics”, che è un modo di pensare le figure come una serie di layer stratificati. Originariamente descritta da <span class="citation">Wilkinson (<a href="#ref-wilkinson2012grammar" role="doc-biblioref">2012</a>)</span>, la grammatica dei grafici è stata aggiornata e applicata in <code>R</code> da Hadley Wickham, il creatore del pacchetto.</p>
<p>La funzione da cui si parte per inizializzare un grafico è <code>ggplot()</code>. La funzione <code>ggplot()</code> richiede due argomenti. Il primo è l’oggetto di tipo data.frame che contiene i dati da visualizzare – in alternativa al primo argomento, un dataframe può essere passato a <code>ggplot()</code> mediante l’operatore pipe. Il secondo è una particolare lista che viene generata dalla funzione <code>aes()</code>, la quale determina l’aspetto (<em>aesthetic</em>) del grafico. La funzione <code>aes()</code> richiede necessariamente di specificare “x” e “y”, ovvero i nomi delle colonne del data.frame che è stato utilizzato quale primo argomento di <code>ggplot()</code> (o che è stato passato da pipe), le quali rappresentano le variabili da porre rispettivamente sugli assi orizzontale e verticale.</p>
<p>La definizione della tipologia di grafico e i vari parametri sono poi definiti successivamente, aggiungendo all’oggetto creato da <code>ggplot()</code> tutte le componenti necessarie. Saranno quindi altre funzioni, come <code>geom_bar()</code>, <code>geom_line()</code> o <code>geom_point()</code> a occuparsi di aggiungere al livello di base barre, linee, punti, e così via. Infine, tramite altre funzioni, ad esempio <code>labs()</code>, sarà possibile definire i dettagli più fini.</p>
<p>Gli elementi grafici (bare, punti, segmenti, …) usati da <code>ggplot2</code> sono chiamati <code>geoms</code>. Mediante queste funzioni è possibile costruire diverse tipologie di grafici:</p>
<ul>
<li><p><code>geom_bar()</code>: crea un layer con delle barre;</p></li>
<li><p><code>geom_point()</code>: crea un layer con dei punti (diagramma a dispersione);</p></li>
<li><p><code>geom_line()</code>: crea un layer con una linea retta;</p></li>
<li><p><code>geom_histogram()</code>: crea un layer con un istogramma;</p></li>
<li><p><code>geom_boxplot()</code>: crea un layer con un box-plot;</p></li>
<li><p><code>geom_errorbar()</code>: crea un layer con barre che rappresentano intervalli di confidenza;</p></li>
<li><p><code>geom_hline()</code> e <code>geom_vline()</code> : crea un layer con una linea orizzontale o verticale definita dall’utente.</p></li>
</ul>
<p>Un comando generico ha la seguente forma:</p>
<div class="sourceCode" id="cb672"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb672-1"><a href="introduzione-al-linguaggio-r.html#cb672-1" aria-hidden="true" tabindex="-1"></a>my_graph <span class="ot">&lt;-</span> my_data <span class="sc">%&gt;%</span> </span>
<span id="cb672-2"><a href="introduzione-al-linguaggio-r.html#cb672-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(x_var, y_var)) <span class="sc">+</span></span>
<span id="cb672-3"><a href="introduzione-al-linguaggio-r.html#cb672-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_...</span>()</span></code></pre></div>
<p>La prima volta che si usa il pacchetto <code>ggplot2</code> è necessario installarlo. Per fare questo possiamo installare <code>tidyverse</code> che, oltre a caricare <code>ggplot2</code>, carica anche altre utili funzioni per l’analisi dei dati. Ogni volta che si inizia una sessione R è necessario attivare i pacchetti che si vogliono usare, ma non è necessario istallarli una nuova volta. Se è necessario specificare il pacchetto nel quale è contenuta la funzione che vogliamo utilizzare, usiamo la sintassi <code>package::function()</code>. Per esempio, l’istruzione <code>ggplot2::ggplot()</code> rende esplicito che stiamo usando la funzione <code>ggplot()</code> contenuta nel pacchetto <code>ggplot2</code>.</p>
</div>
<div id="diagramma-a-dispersione-1" class="section level3 hasAnchor" number="47.7.5">
<h3><span class="header-section-number">J.7.5</span> Diagramma a dispersione<a href="introduzione-al-linguaggio-r.html#diagramma-a-dispersione-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Consideriamo nuovamenti i dati contenuti nel <code>tibble</code> <code>msleep</code> e poniamoci il problema di rappresentare graficamente la relazione tra il numero medio di ore di sonno giornaliero (<code>sleep_total</code>) e il peso dell’animale (<code>bodywt</code>). Usando le impostazioni di default di <code>ggplot2</code>, con le istruzioni seguenti, otteniamo il grafico fornito dalla figura seguente.</p>
<div class="sourceCode" id="cb673"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb673-1"><a href="introduzione-al-linguaggio-r.html#cb673-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;msleep&quot;</span>)</span>
<span id="cb673-2"><a href="introduzione-al-linguaggio-r.html#cb673-2" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> msleep <span class="sc">%&gt;%</span> </span>
<span id="cb673-3"><a href="introduzione-al-linguaggio-r.html#cb673-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb673-4"><a href="introduzione-al-linguaggio-r.html#cb673-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> bodywt, <span class="at">y =</span> sleep_total)</span>
<span id="cb673-5"><a href="introduzione-al-linguaggio-r.html#cb673-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb673-6"><a href="introduzione-al-linguaggio-r.html#cb673-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span>
<span id="cb673-7"><a href="introduzione-al-linguaggio-r.html#cb673-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(p)</span></code></pre></div>
<p><img src="ds4psy_files/figure-html/unnamed-chunk-685-1.png" width="576" style="display: block; margin: auto;" /></p>
<p>Coloriamo ora in maniera diversa i punti che rappresentano animali carnivori, erbivori, ecc.</p>
<div class="sourceCode" id="cb674"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb674-1"><a href="introduzione-al-linguaggio-r.html#cb674-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> msleep <span class="sc">%&gt;%</span> </span>
<span id="cb674-2"><a href="introduzione-al-linguaggio-r.html#cb674-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb674-3"><a href="introduzione-al-linguaggio-r.html#cb674-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> bodywt, <span class="at">y =</span> sleep_total, <span class="at">col =</span> vore)</span>
<span id="cb674-4"><a href="introduzione-al-linguaggio-r.html#cb674-4" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb674-5"><a href="introduzione-al-linguaggio-r.html#cb674-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span>
<span id="cb674-6"><a href="introduzione-al-linguaggio-r.html#cb674-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(p)</span></code></pre></div>
<p><img src="ds4psy_files/figure-html/unnamed-chunk-686-1.png" width="576" style="display: block; margin: auto;" /></p>
<p>È chiaro, senza fare alcuna analisi statistica, che la relazione tra le due variabili non è lineare. Trasformando in maniera logaritmica i valori dell’asse <span class="math inline">\(x\)</span> la relazione si linearizza.</p>
<div class="sourceCode" id="cb675"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb675-1"><a href="introduzione-al-linguaggio-r.html#cb675-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> msleep <span class="sc">%&gt;%</span> </span>
<span id="cb675-2"><a href="introduzione-al-linguaggio-r.html#cb675-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb675-3"><a href="introduzione-al-linguaggio-r.html#cb675-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log</span>(bodywt), <span class="at">y =</span> sleep_total, <span class="at">col =</span> vore)</span>
<span id="cb675-4"><a href="introduzione-al-linguaggio-r.html#cb675-4" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb675-5"><a href="introduzione-al-linguaggio-r.html#cb675-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span>
<span id="cb675-6"><a href="introduzione-al-linguaggio-r.html#cb675-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(p)</span></code></pre></div>
<p><img src="ds4psy_files/figure-html/unnamed-chunk-687-1.png" width="576" style="display: block; margin: auto;" /></p>
<p>Infine, aggiustiamo il “tema” del grafico (si noti l’utilizzo di una tavolozza di colori adatta ai daltonici mediante il pacchetto <code>viridis</code>), aggiungiamo le etichette sugli assi e il titolo.</p>
<div class="sourceCode" id="cb676"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb676-1"><a href="introduzione-al-linguaggio-r.html#cb676-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;viridis&quot;</span>)</span>
<span id="cb676-2"><a href="introduzione-al-linguaggio-r.html#cb676-2" aria-hidden="true" tabindex="-1"></a>msleep <span class="sc">%&gt;%</span></span>
<span id="cb676-3"><a href="introduzione-al-linguaggio-r.html#cb676-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb676-4"><a href="introduzione-al-linguaggio-r.html#cb676-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log</span>(bodywt), <span class="at">y =</span> sleep_total, <span class="at">col =</span> vore)</span>
<span id="cb676-5"><a href="introduzione-al-linguaggio-r.html#cb676-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb676-6"><a href="introduzione-al-linguaggio-r.html#cb676-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">2</span>, <span class="at">alpha =</span> .<span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb676-7"><a href="introduzione-al-linguaggio-r.html#cb676-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb676-8"><a href="introduzione-al-linguaggio-r.html#cb676-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Peso corporeo (log)&quot;</span>,</span>
<span id="cb676-9"><a href="introduzione-al-linguaggio-r.html#cb676-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Ore di sonno&quot;</span>,</span>
<span id="cb676-10"><a href="introduzione-al-linguaggio-r.html#cb676-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Il sonno in 83 specie di mammiferi&quot;</span>,</span>
<span id="cb676-11"><a href="introduzione-al-linguaggio-r.html#cb676-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Un esempio di visualizzazione con ggplot()&quot;</span>,</span>
<span id="cb676-12"><a href="introduzione-al-linguaggio-r.html#cb676-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Fonte: Savage e West (2007)&quot;</span></span>
<span id="cb676-13"><a href="introduzione-al-linguaggio-r.html#cb676-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb676-14"><a href="introduzione-al-linguaggio-r.html#cb676-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis</span>(<span class="at">discrete =</span> <span class="cn">TRUE</span>, <span class="at">option =</span> <span class="st">&quot;viridis&quot;</span>) <span class="sc">+</span></span>
<span id="cb676-15"><a href="introduzione-al-linguaggio-r.html#cb676-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb676-16"><a href="introduzione-al-linguaggio-r.html#cb676-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.title =</span> <span class="fu">element_blank</span>()) </span></code></pre></div>
<p><img src="ds4psy_files/figure-html/unnamed-chunk-688-1.png" width="576" style="display: block; margin: auto;" /></p>
<p>La visualizzazione può essere migliorata cambiando le etichette della legenda del grafico. Per fare questo è necessario intervenire sui dati prima di usare <code>ggplot()</code> – per esempio, come abbiamo fatto in precedenza con la funzione <code>forcats::fct_recode()</code>.</p>
<div id="istogramma-1" class="section level4 hasAnchor" number="47.7.5.1">
<h4><span class="header-section-number">J.7.5.1</span> Istogramma<a href="introduzione-al-linguaggio-r.html#istogramma-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Creiamo ora un istogramma che rappresenta la distribuzione del (logaritmo del) peso medio del cervello delle 83 specie di mammiferi considerate da <span class="citation">Savage and West (<a href="#ref-savage2007quantitative" role="doc-biblioref">2007</a>)</span>. L’argomento <code>aes(y = ..density..)</code> in <code>geom_histogram()</code> produce le frequenze relative. L’opzione di default (senza questo argomento) porta <code>ggplot()</code> a rappresentare le frequenze assolute.</p>
<div class="sourceCode" id="cb677"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb677-1"><a href="introduzione-al-linguaggio-r.html#cb677-1" aria-hidden="true" tabindex="-1"></a>msleep <span class="sc">%&gt;%</span> </span>
<span id="cb677-2"><a href="introduzione-al-linguaggio-r.html#cb677-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb677-3"><a href="introduzione-al-linguaggio-r.html#cb677-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="fu">log</span>(brainwt))</span>
<span id="cb677-4"><a href="introduzione-al-linguaggio-r.html#cb677-4" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb677-5"><a href="introduzione-al-linguaggio-r.html#cb677-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> ..density..)) <span class="sc">+</span></span>
<span id="cb677-6"><a href="introduzione-al-linguaggio-r.html#cb677-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb677-7"><a href="introduzione-al-linguaggio-r.html#cb677-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Peso del cervello (log)&quot;</span>,</span>
<span id="cb677-8"><a href="introduzione-al-linguaggio-r.html#cb677-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Frequenza relativa&quot;</span></span>
<span id="cb677-9"><a href="introduzione-al-linguaggio-r.html#cb677-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb677-10"><a href="introduzione-al-linguaggio-r.html#cb677-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.title =</span> <span class="fu">element_blank</span>())</span></code></pre></div>
<p><img src="ds4psy_files/figure-html/unnamed-chunk-689-1.png" width="576" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="scrivere-il-codice-r-con-stile" class="section level3 hasAnchor" number="47.7.6">
<h3><span class="header-section-number">J.7.6</span> Scrivere il codice <code>R</code> con stile<a href="introduzione-al-linguaggio-r.html#scrivere-il-codice-r-con-stile" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Uno stile di programmazione è un insieme di regole per la gestione dell’indentazione dei blocchi di codice, per la creazione dei nomi dei file e delle variabili e per le convenzioni tipografiche che vengono usate. Scrivere il codice in <code>R</code> con stile consente di creare listati più leggibili e semplici da modificare, minimizza la possibilità di errore, e consente correzioni e modifiche più rapide. Vi sono molteplici stili di programmazione che possono essere utilizzati dall’utente, anche se è bene attenersi a quelle che sono le convenzioni maggiormente diffuse, allo scopo di favorire la comunicazione. In ogni caso, l’importante è di essere coerenti, ovvero di adottare le stesse convenzioni in tutte le parti del codice che si scrive. Ad esempio, se si sceglie di usare lo stile <code>snake_case</code> per il nome composto di una variabile (es., <code>personality_trait</code>), non è appropriato usare lo stile <em>lower Camel case</em> per un’altra variabile (es., <code>socialStatus</code>). Dato che questo argomento è stato trattato ampiamente in varie sedi, mi limito qui a rimandare ad uno <a href="http://style.tidyverse.org/">stile di programmazione</a> molto popolare, quello proposto da Hadley Wickham, il creatore di <code>tidyverse</code>. La soluzione più semplice è quella installare <code>stiler</code>, che è uno RStudio Addin, e formattare il codice in maniera automatica utilizzando lo stile proposto da Hadley Wickham. Si possono ottenere informazioni su <code>stiler</code> seguendo questo <a href="https://github.com/r-lib/styler">link</a>.</p>

</div>
</div>
<div id="flusso-di-lavoro-riproducibile" class="section level2 hasAnchor" number="47.8">
<h2><span class="header-section-number">J.8</span> Flusso di lavoro riproducibile<a href="introduzione-al-linguaggio-r.html#flusso-di-lavoro-riproducibile" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="la-crisi-della-riproducibilità" class="section level3 hasAnchor" number="47.8.1">
<h3><span class="header-section-number">J.8.1</span> La crisi della riproducibilità<a href="introduzione-al-linguaggio-r.html#la-crisi-della-riproducibilità" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>“Per il metodo scientifico è essenziale che gli esperimenti siano riproducibili. Vale a dire che una persona diversa dallo sperimentatore originale deve essere in grado di ottenere gli stessi risultati seguendo lo stesso protocollo sperimentale (Gilbert Chin).”</em> Ma in psicologia (e non solo) la riproducibilità è inferiore a quanto previsto o desiderato. In un famoso studio pubblicato su <em>Science</em>, un ampio gruppo di ricercatori <span class="citation">(<a href="#ref-open2015estimating" role="doc-biblioref">Open Science Collaboration and others 2015</a>)</span> è riuscito a replicare solo il 40 per cento circa dei risultati di 100 studi di psicologia cognitiva e sociale pubblicati in precedenza. I risultati di questo studio, e di molti altri pubblicati in seguito, sono stati interpretati in modi diversi. La preoccupazione sulla riproducibilità della ricerca è stata espressa mediante l’affermare secondo la quale “la maggior parte dei risultati della ricerca sono falsi” <span class="citation">(<a href="#ref-ioannidis2005most" role="doc-biblioref">Ioannidis 2005</a>)</span> oppure mediante l’affermazione secondo cui “dobbiamo apportare modifiche sostanziali al modo in cui conduciamo la ricerca” <span class="citation">(<a href="#ref-cumming2014new" role="doc-biblioref">Cumming 2014</a>)</span>. Alcuni ricercatori sono arrivati a definire la presente situazione come una “crisi della riproducibilità dei risultati della ricerca”.</p>
<p>Il termine “riproducibilità” (o “replicabilità”) è stato definito in vari modi. Consideriamo la definizione fornita da <span class="citation">Goodman, Fanelli, and Ioannidis (<a href="#ref-goodman2016does" role="doc-biblioref">2016</a>)</span>:</p>
<ul>
<li><p>la riproducibilità dei metodi “si riferisce al fatto che il ricercatore fornisce dettagli sufficienti sulle procedure e sui dati dello studio in modo che le stesse procedure possano … essere replicate esattamente” (pag. 2) con gli stessi dati;</p></li>
<li><p>la riproducibilità dei risultati “si riferisce all’ottenimento degli stessi risultati dalla conduzione di uno studio indipendente le cui procedure replicano il più esattamente possibile quelle dell’esperimento originale” (pag. 2-3) con dati indipendenti;</p></li>
<li><p>la riproducibilità inferenziale “si riferisce alla possibilità di trarre conclusioni qualitativamente simili da una replica indipendente di uno studio o da una nuova analisi dello studio originale” (pag. 4).</p></li>
</ul>
<p>Per gli scopi presenti, ci focalizzeremo qui sulla riproducibilità dei metodi. Cioè, discuteremo di come <code>R</code> può aiutarci a migliorare questo aspetto della riproducibilità. In questo capitolo mostreremo come R possa essere utilizzato all’interno di un flusso di lavoro (<em>workflow</em>) riproducibile che integra (1) il codice di analisi dei dati, (2) i dati medesimi e (3) il testo della relazione che comunica i risultati dello studio. A tal fine utilizzeremo due pacchetti R: <code>rmarkdown</code> e <code>knitr</code>. Questi pacchetti consentono di unire il codice R ad un linguaggio di marcatura (o di markup) chiamato Markdown. Il linguaggio di markup Markdown sta diventando sempre più popolare e viene usato, oltre che per creare <a href="https://avehtari.github.io/ROS-Examples/Simplest/simplest.html">reports</a> di analisi di dati, anche per creare <a href="https://alison.rbind.io">siti web</a>, <a href="https://djnavarro.net">blog</a>, <a href="https://r4ds.had.co.nz">libri</a>, <a href="https://osf.io/9te8p/">articoli accademici</a>, <a href="https://github.com/mitchelloharawild/vitae">curriculum vitae</a>, <a href="https://rmarkdown.rstudio.com/lesson-11.html">slide</a>, <a href="https://github.com/ismayc/thesisdown">tesi di laurea</a>. Per esempio, il presente sito web è stato scritto usando R-markdown.</p>
</div>
<div id="r-markdown" class="section level3 hasAnchor" number="47.8.2">
<h3><span class="header-section-number">J.8.2</span> R-markdown<a href="introduzione-al-linguaggio-r.html#r-markdown" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Un linguaggio di markup permette di aggiungere mediante marcatori (tag) informazioni sulla struttura e sulla formattazione da applicare ad un documento. Un’introduzione al linguaggio Markdown può essere trovata, per esempio, <a href="https://rmarkdown.rstudio.com/authoring_pandoc_markdown.html">qui</a> oppure <a href="https://experienceleague.adobe.com/docs/contributor/contributor-guide/writing-essentials/markdown.html?lang=it#estensioni-personalizzate-markdown">qui</a>.</p>
<p>In questo capitolo ci focalizzeremo però sugli aspetti più importanti di R-markdown che permette di costruire documenti in cui combinare testo formattato (quindi non solo commenti ma anche formule, titoli etc) e istruzioni codice (<code>R</code> e non solo) con i corrispettivi output. Informazioni dettagliate su R-markdown sono disponibili <a href="https://bookdown.org/yihui/rmarkdown/">qui</a> e <a href="https://bookdown.org/yihui/rmarkdown-cookbook/">qui</a>.</p>
<p>Un file R-markdown è composto da tre tipi di oggetti:</p>
<ol style="list-style-type: decimal">
<li>header in formato <code>YAML</code> delimitato da <code>---</code>,</li>
<li>testo in formato <code>markdown</code>,</li>
<li>blocchi (“chunks”) di codice <code>R</code>, delimitati da tre apici.</li>
</ol>
<div id="header" class="section level4 hasAnchor" number="47.8.2.1">
<h4><span class="header-section-number">J.8.2.1</span> Header<a href="introduzione-al-linguaggio-r.html#header" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>L’intestazione di un documento <code>.Rmd</code> (R-markdown) corrisponde al cosiddetto <em>YAML header</em> (un acronimo che significa <em>Yet Another Markup Language</em>). Lo YAML header controlla le caratteristiche generali del documento, incluso il tipo di documento che viene prodotto (un documento HTML che può essere visualizzato su tutti i principali browser, un documento Microsoft Word o un PDF se abbiamo installato LaTeX sul nostro computer), la dimensione del carattere, lo stile, il titolo, l’autore, ecc. Nello YAML header (a differenza del codice <code>R</code>) è necessario rispettare la spaziatura prestabilita delle istruzioni che vengono elencate. Gli elementi principali sono <code>title:</code>, <code>author:</code>, <code>output:</code>.</p>
<p>L’argomento di <code>output:</code> è dove diciamo a R-markdown quale tipo di file vogliamo che venga prodotto. Il tipo più flessibile, che non richiede alcuna configurazione, è <code>html_document</code>.</p>
</div>
<div id="testo" class="section level4 hasAnchor" number="47.8.2.2">
<h4><span class="header-section-number">J.8.2.2</span> Testo<a href="introduzione-al-linguaggio-r.html#testo" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Alla conclusione dello YAML header inizia il documento R-markdown. Da questo punto in poi possiamo utilizzare testo normale, codice <code>R</code> e sintassi Markdown per controllare cosa viene mostrato e come.</p>
</div>
<div id="formattazione" class="section level4 hasAnchor" number="47.8.2.3">
<h4><span class="header-section-number">J.8.2.3</span> Formattazione<a href="introduzione-al-linguaggio-r.html#formattazione" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>È possibile contrassegnare intestazioni, grassetto e corsivo come indicato di seguito.</p>
<pre><code># Intestazione 1
## Intestazione 2
### Intestazione 3
#### Intestazione 4
##### Intestazione 5
###### Intestazione 6

Questo è un testo normale.
Possiamo scrivere in **grassetto** il testo usando due asterischi.
Possiamo scrivere in *corsivo* usando un asterisco.

&gt;Questa è un’**area rientrata**.

Questa riga invece non è più rientrata.</code></pre>
</div>
<div id="elenchi" class="section level4 hasAnchor" number="47.8.2.4">
<h4><span class="header-section-number">J.8.2.4</span> Elenchi<a href="introduzione-al-linguaggio-r.html#elenchi" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Per creare un elenco puntato si utilizza il segno più, il trattino o l’asterisco. Tutte le tre soluzioni portano allo stesso risultato.</p>
<pre><code>- Punto 1 della lista
- Punto 2 della lista
- Punto 3 della lista</code></pre>
<p>Un elenco numerato, invece, si crea con un numero seguito da un punto.</p>
<pre><code>1. Punto 1 della lista
2. Punto 2 della lista
3. Punto 3 della lista</code></pre>
</div>
<div id="hyperlink" class="section level4 hasAnchor" number="47.8.2.5">
<h4><span class="header-section-number">J.8.2.5</span> Hyperlink<a href="introduzione-al-linguaggio-r.html#hyperlink" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Per inserire un hyperlink ci sono due metodi:</p>
<ul>
<li>specificare solo il percorso <code>&lt;http://rmarkdown.rstudio.com&gt;</code>, <a href="http://rmarkdown.rstudio.com" class="uri">http://rmarkdown.rstudio.com</a><br />
</li>
<li>creare un <a href="http://rmarkdown.rstudio.com">link</a> con <code>[link](http://rmarkdown.rstudio.com)</code><br />
</li>
</ul>
</div>
<div id="immagini" class="section level4 hasAnchor" number="47.8.2.6">
<h4><span class="header-section-number">J.8.2.6</span> Immagini<a href="introduzione-al-linguaggio-r.html#immagini" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Per inserire un’immagine la sintassi è molto simile: <code>![Esempio di immagine inserita in un documento R-markdown.](images/hex-rmarkdown.png){width=20%}</code>:</p>
<div class="figure">
<img src="images/hex-rmarkdown.png" style="width:20.0%" alt="" />
<p class="caption">Esempio di immagine inserita in un documento R-markdown.</p>
</div>
</div>
<div id="codice-inline" class="section level4 hasAnchor" number="47.8.2.7">
<h4><span class="header-section-number">J.8.2.7</span> Codice inline<a href="introduzione-al-linguaggio-r.html#codice-inline" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Per contrassegnare un’area di testo come codice, markdown utilizza il cosiddetto backtick, noto anche come gravis o accento grave, da non confondere con la virgoletta singola. La marcatura prevede un accento all’inizio e uno alla fine dell’area di testo corrispondente.</p>
<pre><code>Questo è `codice`.</code></pre>
</div>
<div id="equazioni" class="section level4 hasAnchor" number="47.8.2.8">
<h4><span class="header-section-number">J.8.2.8</span> Equazioni<a href="introduzione-al-linguaggio-r.html#equazioni" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Equazioni possono essere inserite in un documento R-markdown usando la sintassi . Qualsiasi cosa all’interno del segno di dollaro $ viene trattata come un’equazione “inline”. Qualunque cosa all’interno di due segni di dollaro $$ viene trattata come un’equazione a sé stante.</p>
<p>Per esempio, questa è la formula della distribuzione Normale espressa in notazione LaTeX e riprodotta all’interno di un documento R-markdown:</p>
<div class="sourceCode" id="cb682"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb682-1"><a href="introduzione-al-linguaggio-r.html#cb682-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="ot">=</span> \frac{<span class="dv">1</span>}{\sigma\sqrt{<span class="dv">2</span>\pi}}</span>
<span id="cb682-2"><a href="introduzione-al-linguaggio-r.html#cb682-2" aria-hidden="true" tabindex="-1"></a>  \exp\<span class="fu">left</span>( <span class="sc">-</span>\frac{<span class="dv">1</span>}{<span class="dv">2</span>}\<span class="fu">left</span>(\frac{x<span class="sc">-</span>\mu}{\sigma}\right)<span class="sc">^</span>{\<span class="sc">!</span><span class="dv">2</span>}\,\right)</span></code></pre></div>
<p><span class="math display">\[
f(x) = \frac{1}{\sigma\sqrt{2\pi}}
  \exp\left( -\frac{1}{2}\left(\frac{x-\mu}{\sigma}\right)^{\!2}\,\right)
\]</span></p>
</div>
<div id="codice-r" class="section level4 hasAnchor" number="47.8.2.9">
<h4><span class="header-section-number">J.8.2.9</span> Codice R<a href="introduzione-al-linguaggio-r.html#codice-r" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>In un documento R-markdown istruzioni di codice vengono inserite in blocchi delimitati da tre apici. Ciò consente di valutare il codice all’interno del documento e di produrre un output che verrà stampato nel documento stesso. Possiamo dunque stampare tabelle e figure prodotti direttamente dal codice <code>R</code>. Ciò significa inoltre, che se qualcosa cambia nei dati o nelle analisi dei dati, le tabelle e le figure si aggiorneranno automaticamente.</p>
<p>Un chunk <code>R</code> viene valutato proprio come il normale codice <code>R</code>, quindi si applica tutto ciò che abbiamo imparato nei capitoli precedenti. Se il chunk <code>R</code> produce un output, questo output verrà visualizzato nel documento.</p>
</div>
</div>
<div id="compilare-la-presentazione-r-markdown" class="section level3 hasAnchor" number="47.8.3">
<h3><span class="header-section-number">J.8.3</span> Compilare la presentazione R-markdown<a href="introduzione-al-linguaggio-r.html#compilare-la-presentazione-r-markdown" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Ma dove si trova questo magico documento che include il testo e l’output prodotto dal codice <code>R</code>? Ottima domanda. Siamo stati abituati ai programmi di videoscrittura (come Microsoft Word) che si conformano al cosiddetto stile “WYSIWYG” (What You See Is What You Get) – cioè, si vede come apparirà il documento stampato mentre lo si digita. Questo può avere alcuni vantaggi ma può anche essere molto limitante. R-Markdown, d’altra parte, funziona in modo diverso. Ovvero, deve essere “compilato” (knitted) per passare dal file sorgente al documento formattato. In RStudio, tale operazione è semplice: c’è un pulsante in alto a sinistra nel pannello di scripting di un documento <code>.Rmd</code>. È sufficiente selezionare tale pulsante e il nostro documento verrà creato.</p>
<p>È importante notare che il codice del documento deve essere autonomo. Ciò significa che tutto ciò che vogliamo che venga eseguito deve essere incluso nel documento, indipendentemente da ciò che era già stato eseguito al di fuori di esso. Ad esempio, è perfettamente legittimo (e anche molto utile) testare il codice <code>R</code> al di fuori del documento <code>Rmd</code>. Tuttavia, quando compiliamo il documento <code>Rmd</code>, tutto ciò che è stato fatto al di fuori del documento <code>Rmd</code> viene dimenticato. Ciò consente di creare un documento autosufficiente che favorisce la riproducibilità dei metodi di analisi dei dati: utilizzando uno specifico documento <code>Rmd</code> con un campione di dati si giunge sempre allo stesso risultato e alla stessa interpretazione. Ciò non è invece vero se si utilizza un software con un interfaccia point-and-click.</p>

</div>
</div>
<div id="dati-mancanti-1" class="section level2 hasAnchor" number="47.9">
<h2><span class="header-section-number">J.9</span> Dati mancanti<a href="introduzione-al-linguaggio-r.html#dati-mancanti-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="motivazione-1" class="section level3 hasAnchor" number="47.9.1">
<h3><span class="header-section-number">J.9.1</span> Motivazione<a href="introduzione-al-linguaggio-r.html#motivazione-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>La pulizia dei dati (<em>data cleaning</em>) in <code>R</code> è fondamentale per effettuare qualsiasi analisi. Uno degli aspetti più importanti della pulizia dei dati è la gestione dei dati mancanti. I valori mancanti (<em>missing values</em>) vengono indicati dal codice <code>NA</code>, che significa <em>not available</em> — non disponibile.</p>
</div>
<div id="trattamento-dei-dati-mancanti" class="section level3 hasAnchor" number="47.9.2">
<h3><span class="header-section-number">J.9.2</span> Trattamento dei dati mancanti<a href="introduzione-al-linguaggio-r.html#trattamento-dei-dati-mancanti" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Se una variabile contiene valori mancanti, <code>R</code> non è in grado di applicare ad essa alcune Funzioni, come ad esempio la media. Per questa ragione, la gran parte delle funzioni di <code>R</code> prevedono modi specifici per trattare i valori mancanti.</p>
<p>Ci sono diversi tipi di dati “mancanti” in <code>R</code>;</p>
<ul>
<li><code>NA</code> - generico dato mancante;</li>
<li><code>NaN</code> - il codice <code>NaN</code> (<em>Not a Number</em>) indica i valori numerici impossibili, quali ad esempio un valore 0/0;</li>
<li><code>Inf</code> e <code>-Inf</code> - Infinity, si verifca, ad esempio, quando si divide un numero per 0.</li>
</ul>
<p>La funzione <code>is.na()</code> ritorna un output che indica con TRUE le celle che contengono NA o NaN.</p>
<p>Si noti che</p>
<ul>
<li>se <code>is.na(x)</code> è TRUE, allora <code>!is.na(x)</code> è FALSE;</li>
<li><code>all(!is.na(x))</code> ritorna TRUE se tutti i valori <code>x</code> sono NOT NA;</li>
<li><code>any(is.na(x))</code> risponde alla domanda: c’è qualche valore NA (almeno uno) in <code>x</code>?;</li>
<li><code>complete.cases(x)</code> ritorna TRUE se ciascun elemento di <code>x</code> è is NOT NA; ritorna FALSE se almeno un elemento di <code>x</code> è NA;</li>
</ul>
<p>Le funzioni <code>R</code> <code>is.nan()</code> e <code>is.infinite()</code> si applicano ai tipi di dati <code>NaN</code> e <code>Inf</code>.</p>
<p>Per esempio, consideriamo il seguente data.frame:</p>
<div class="sourceCode" id="cb683"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb683-1"><a href="introduzione-al-linguaggio-r.html#cb683-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb683-2"><a href="introduzione-al-linguaggio-r.html#cb683-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">w =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="cn">NA</span>, <span class="dv">3</span>, <span class="cn">NA</span>), </span>
<span id="cb683-3"><a href="introduzione-al-linguaggio-r.html#cb683-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, </span>
<span id="cb683-4"><a href="introduzione-al-linguaggio-r.html#cb683-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="dv">1</span>, </span>
<span id="cb683-5"><a href="introduzione-al-linguaggio-r.html#cb683-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">z =</span> x <span class="sc">^</span> <span class="dv">2</span> <span class="sc">+</span> y,</span>
<span id="cb683-6"><a href="introduzione-al-linguaggio-r.html#cb683-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">q =</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="cn">NA</span>, <span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">4</span>)</span>
<span id="cb683-7"><a href="introduzione-al-linguaggio-r.html#cb683-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb683-8"><a href="introduzione-al-linguaggio-r.html#cb683-8" aria-hidden="true" tabindex="-1"></a>d</span>
<span id="cb683-9"><a href="introduzione-al-linguaggio-r.html#cb683-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 5 × 5</span></span>
<span id="cb683-10"><a href="introduzione-al-linguaggio-r.html#cb683-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       w     x     y     z     q</span></span>
<span id="cb683-11"><a href="introduzione-al-linguaggio-r.html#cb683-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb683-12"><a href="introduzione-al-linguaggio-r.html#cb683-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1     1     1     1     2     3</span></span>
<span id="cb683-13"><a href="introduzione-al-linguaggio-r.html#cb683-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2     2     2     1     5    NA</span></span>
<span id="cb683-14"><a href="introduzione-al-linguaggio-r.html#cb683-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3    NA     3     1    10     5</span></span>
<span id="cb683-15"><a href="introduzione-al-linguaggio-r.html#cb683-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4     3     4     1    17     1</span></span>
<span id="cb683-16"><a href="introduzione-al-linguaggio-r.html#cb683-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5    NA     5     1    26     4</span></span></code></pre></div>
<div class="sourceCode" id="cb684"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb684-1"><a href="introduzione-al-linguaggio-r.html#cb684-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(d<span class="sc">$</span>w)</span>
<span id="cb684-2"><a href="introduzione-al-linguaggio-r.html#cb684-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE FALSE  TRUE FALSE  TRUE</span></span>
<span id="cb684-3"><a href="introduzione-al-linguaggio-r.html#cb684-3" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(d<span class="sc">$</span>x)</span>
<span id="cb684-4"><a href="introduzione-al-linguaggio-r.html#cb684-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] FALSE FALSE FALSE FALSE FALSE</span></span></code></pre></div>
<p>Per creare un nuovo Dataframe senza valori mancanti:</p>
<div class="sourceCode" id="cb685"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb685-1"><a href="introduzione-al-linguaggio-r.html#cb685-1" aria-hidden="true" tabindex="-1"></a>d_clean <span class="ot">&lt;-</span> d[<span class="fu">complete.cases</span>(d), ]</span>
<span id="cb685-2"><a href="introduzione-al-linguaggio-r.html#cb685-2" aria-hidden="true" tabindex="-1"></a>d_clean</span>
<span id="cb685-3"><a href="introduzione-al-linguaggio-r.html#cb685-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 2 × 5</span></span>
<span id="cb685-4"><a href="introduzione-al-linguaggio-r.html#cb685-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       w     x     y     z     q</span></span>
<span id="cb685-5"><a href="introduzione-al-linguaggio-r.html#cb685-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb685-6"><a href="introduzione-al-linguaggio-r.html#cb685-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1     1     1     1     2     3</span></span>
<span id="cb685-7"><a href="introduzione-al-linguaggio-r.html#cb685-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2     3     4     1    17     1</span></span></code></pre></div>
<p>Oppure, se vogliamo eliminare le righe con NA solo in una variabile:</p>
<div class="sourceCode" id="cb686"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb686-1"><a href="introduzione-al-linguaggio-r.html#cb686-1" aria-hidden="true" tabindex="-1"></a>d1 <span class="ot">&lt;-</span> d[<span class="sc">!</span><span class="fu">is.na</span>(d<span class="sc">$</span>q), ]</span>
<span id="cb686-2"><a href="introduzione-al-linguaggio-r.html#cb686-2" aria-hidden="true" tabindex="-1"></a>d1</span>
<span id="cb686-3"><a href="introduzione-al-linguaggio-r.html#cb686-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 4 × 5</span></span>
<span id="cb686-4"><a href="introduzione-al-linguaggio-r.html#cb686-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       w     x     y     z     q</span></span>
<span id="cb686-5"><a href="introduzione-al-linguaggio-r.html#cb686-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb686-6"><a href="introduzione-al-linguaggio-r.html#cb686-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1     1     1     1     2     3</span></span>
<span id="cb686-7"><a href="introduzione-al-linguaggio-r.html#cb686-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2    NA     3     1    10     5</span></span>
<span id="cb686-8"><a href="introduzione-al-linguaggio-r.html#cb686-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3     3     4     1    17     1</span></span>
<span id="cb686-9"><a href="introduzione-al-linguaggio-r.html#cb686-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4    NA     5     1    26     4</span></span></code></pre></div>
<p>Se vogliamo esaminare le righe con i dati mancanti in qualunque colonna:</p>
<div class="sourceCode" id="cb687"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb687-1"><a href="introduzione-al-linguaggio-r.html#cb687-1" aria-hidden="true" tabindex="-1"></a>d_na <span class="ot">&lt;-</span> d[<span class="sc">!</span><span class="fu">complete.cases</span>(d), ]</span>
<span id="cb687-2"><a href="introduzione-al-linguaggio-r.html#cb687-2" aria-hidden="true" tabindex="-1"></a>d_na</span>
<span id="cb687-3"><a href="introduzione-al-linguaggio-r.html#cb687-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 3 × 5</span></span>
<span id="cb687-4"><a href="introduzione-al-linguaggio-r.html#cb687-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       w     x     y     z     q</span></span>
<span id="cb687-5"><a href="introduzione-al-linguaggio-r.html#cb687-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb687-6"><a href="introduzione-al-linguaggio-r.html#cb687-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1     2     2     1     5    NA</span></span>
<span id="cb687-7"><a href="introduzione-al-linguaggio-r.html#cb687-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2    NA     3     1    10     5</span></span>
<span id="cb687-8"><a href="introduzione-al-linguaggio-r.html#cb687-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3    NA     5     1    26     4</span></span></code></pre></div>
<p>Spesso i valori mancanti vengono sostiuti con valori “ragionevoli”, come ad esempio la media dei valori in quella colonna del Dataframe. Oppure, vengono considerati come “ragionevoli” i valori che vengono predetti conoscendo le altre variabili del Dataframe. Questa procedura si chiama <em>imputazione multipla</em>. Questo è però un argomento avanzato che non verrà trattato in questo insegnamento. La cosa più semplice da fare, in presenza di dati mancanti, è semplicemente quella di escludere tutte le righe nelle quali ci sono degli NAs.</p>

</div>
</div>
</div>











































<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-cumming2014new" class="csl-entry">
Cumming, Geoff. 2014. <span>“The New Statistics: Why and How.”</span> <em>Psychological Science</em> 25 (1): 7–29.
</div>
<div id="ref-goodman2016does" class="csl-entry">
Goodman, Steven N, Daniele Fanelli, and John PA Ioannidis. 2016. <span>“What Does Research Reproducibility Mean?”</span> <em>Science Translational Medicine</em> 8 (341): 341ps12–12.
</div>
<div id="ref-grolemund2014hands" class="csl-entry">
Grolemund, Garrett. 2014. <em>Hands-on Programming with <span>R</span>: <span>W</span>rite Your Own Functions and Simulations</em>. O’Reilly Media, Inc.
</div>
<div id="ref-ioannidis2005most" class="csl-entry">
Ioannidis, John PA. 2005. <span>“Why Most Published Research Findings Are False.”</span> <em>PLoS Medicine</em> 2 (8): e124.
</div>
<div id="ref-mcnamara2018wrangling" class="csl-entry">
McNamara, Amelia, and Nicholas J Horton. 2018. <span>“Wrangling Categorical Data in r.”</span> <em>The American Statistician</em> 72 (1): 97–104.
</div>
<div id="ref-open2015estimating" class="csl-entry">
Open Science Collaboration and others. 2015. <span>“Estimating the Reproducibility of Psychological Science.”</span> <em>Science</em> 349 (6251): aac4716.
</div>
<div id="ref-savage2007scaling" class="csl-entry">
Savage, Van M, Andrew P Allen, James H Brown, James F Gillooly, Alexander B Herman, William H Woodruff, and Geoffrey B West. 2007. <span>“Scaling of Number, Size, and Metabolic Rate of Cells with Body Size in Mammals.”</span> <em>Proceedings of the National Academy of Sciences</em> 104 (11): 4718–23.
</div>
<div id="ref-savage2007quantitative" class="csl-entry">
Savage, Van M, and Geoffrey B West. 2007. <span>“A Quantitative, Theoretical Framework for Understanding Mammalian Sleep.”</span> <em>Proceedings of the National Academy of Sciences</em> 104 (3): 1051–56.
</div>
<div id="ref-wilkinson2012grammar" class="csl-entry">
Wilkinson, Leland. 2012. <span>“The Grammar of Graphics.”</span> In <em>Handbook of Computational Statistics</em>, 375–414. Springer.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="regr-ml.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ccaudek/datascience/edit/master/922_R_intro.Rmd",
"text": "Suggest an edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["ds4psy.pdf", "ds4psy.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
